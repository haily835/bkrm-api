{"version":3,"sources":["../../src/index.ts","../node_modules/is-hotkey/lib/index.js","../node_modules/lodash.debounce/index.js","../node_modules/@material-ui/icons/AspectRatio.js","../node_modules/lodash.throttle/index.js","../node_modules/@material-ui/icons/Translate.js","../node_modules/@material-ui/icons/FileCopy.js","../node_modules/react-dnd/dist/esm/core/DndContext.js","../node_modules/@react-dnd/asap/dist/esm/browser/raw.js","../../../src/editor/StickyWrapper.tsx","../node_modules/@material-ui/icons/ArrowDropUp.js","../node_modules/@material-ui/icons/ArrowDropDown.js","../node_modules/@material-ui/icons/ArrowLeft.js","../node_modules/@material-ui/icons/ArrowRight.js","../node_modules/@material-ui/icons/VisibilityOff.js","../node_modules/@material-ui/icons/Visibility.js","../node_modules/@material-ui/icons/VerticalAlignTop.js","../node_modules/@material-ui/icons/Undo.js","../node_modules/@material-ui/icons/Redo.js","../node_modules/@material-ui/icons/ZoomIn.js","../node_modules/@material-ui/icons/ZoomOut.js","../node_modules/@material-ui/icons/Create.js","../node_modules/@material-ui/icons/ViewQuilt.js","../node_modules/@material-ui/icons/SettingsOverscan.js","../node_modules/@material-ui/icons/Devices.js","../node_modules/react-portal/es/utils.js","../node_modules/react-portal/es/Portal.js","../node_modules/react-portal/es/LegacyPortal.js","../node_modules/react-portal/es/PortalCompat.js","../../../../src/core/selector/focus.ts","../../../../../src/core/components/hooks/focus.ts","../node_modules/react-dnd/dist/esm/core/DndProvider.js","../node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js","../node_modules/react-dnd/dist/esm/hooks/useIsomorphicLayoutEffect.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/DropTargetImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useRegisteredDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useAccept.js","../node_modules/react-dnd/dist/esm/internals/registration.js","../node_modules/react-dnd/dist/esm/hooks/useOptionalFactory.js","../node_modules/react-dnd/dist/esm/internals/DropTargetMonitorImpl.js","../node_modules/react-dnd/dist/esm/internals/wrapConnectorHooks.js","../node_modules/react-dnd/dist/esm/internals/isRef.js","../node_modules/react-dnd/dist/esm/internals/TargetConnector.js","../node_modules/react-dnd/dist/esm/hooks/useCollector.js","../node_modules/react-dnd/dist/esm/hooks/useMonitorOutput.js","../node_modules/react-dnd/dist/esm/hooks/useCollectedProps.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDrop.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetConnector.js","../../../../src/core/utils/ancestorTree.ts","../../../../src/core/utils/getDropLevels.ts","../../../../../src/core/components/hooks/node.ts","../../../../../src/core/selector/display/index.ts","../../../../../src/core/components/hooks/displayMode.ts","../../../../../src/core/components/hooks/nodeActions.ts","../../../../../src/core/components/Editable/FallbackDropArea.tsx","../../../../../src/core/components/hooks/display.ts","../../../../../../src/core/components/Cell/utils/scrollIntoViewWithOffset.ts","../../../../../../src/core/components/Editable/hooks/useKeepScrollPosition.ts","../../../../../src/core/components/Cell/InsertNew.tsx","../node_modules/react-use/esm/misc/util.js","../node_modules/react-use/esm/useIsomorphicLayoutEffect.js","../node_modules/react-use/esm/useMeasure.js","../../../../../src/core/components/hooks/dragDropActions.ts","../../../../../src/core/helper/throttle/index.ts","../../../../../src/core/service/logger/index.ts","../../../../../src/core/service/hover/computeHover.ts","../../../../../src/core/service/hover/input.ts","../../../../../../src/core/components/Cell/Droppable/helper/dnd.ts","../../../../../../src/core/components/Cell/Droppable/index.tsx","../../../../../../src/core/components/Row/Droppable/index.tsx","../../../../../../src/core/components/Cell/ErrorCell/index.tsx","../node_modules/react-dnd/dist/esm/hooks/useDrag/DragSourceImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useRegisteredDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragType.js","../node_modules/react-dnd/dist/esm/internals/DragSourceMonitorImpl.js","../node_modules/react-dnd/dist/esm/internals/SourceConnector.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDrag.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceConnector.js","../node_modules/react-dnd/dist/esm/core/DragPreviewImage.js","../node_modules/@material-ui/core/esm/utils/scrollLeft.js","../../../../../../src/core/components/Cell/Draggable/useDragHandle.tsx","../../../../../../src/core/components/Cell/Handle/index.tsx","../../../../../../src/core/components/Cell/Draggable/index.tsx","../../../../src/ui/ThemeProvider/index.tsx","../../../../src/ui/ThemeProvider/themeOptions.tsx","../../../../../src/ui/ThemeProvider/DarkTheme/index.ts","../../../../src/ui/BottomToolbar/Drawer.tsx","../../../../../../src/core/components/hooks/utils/findSiblingRow.ts","../../../../../src/core/components/hooks/nodeMove.ts","../../../../src/ui/moveButtons/index.tsx","../../../../src/ui/BottomToolbar/MoveActions.tsx","../../../../src/ui/DraftSwitch/index.tsx","../../../../src/ui/DuplicateButton/index.tsx","../../../../src/ui/I18nTools/SelectLang.tsx","../../../../src/ui/I18nTools/I18nDialog.tsx","../../../../src/ui/I18nTools/index.tsx","../../../../src/ui/SelectParentButton/index.tsx","../../../../src/ui/BottomToolbar/Tools.tsx","../../../../src/ui/BottomToolbar/NodeTools.tsx","../../../../src/ui/BottomToolbar/ScaleButton.tsx","../../../../src/ui/BottomToolbar/index.tsx","../node_modules/@material-ui/core/esm/Tab/Tab.js","../node_modules/@material-ui/core/esm/internal/animate.js","../node_modules/@material-ui/core/esm/Tabs/ScrollbarSize.js","../node_modules/@material-ui/core/esm/Tabs/TabIndicator.js","../node_modules/@material-ui/core/esm/TabScrollButton/TabScrollButton.js","../node_modules/@material-ui/core/esm/Tabs/Tabs.js","../../../../../../src/core/components/Cell/PluginControls/index.tsx","../../../../../src/core/components/Cell/PluginMissing.tsx","../../../../../../src/core/components/Cell/PluginComponent/index.tsx","../../../../../../src/core/components/Cell/Inner/index.tsx","../../../../../../src/core/components/Cell/MoveActions/index.tsx","../../../../../src/core/components/Cell/index.tsx","../../../../../src/core/components/Row/ResizableRowCell.tsx","../../../../../src/core/components/Row/index.tsx","../../../../../../src/core/components/Editable/Inner/Rows.tsx","../../../../../src/core/components/hooks/value.ts","../../../../../../src/core/components/Editable/Inner/index.tsx","../../../../../src/core/components/Editable/index.tsx","../../../../../src/core/components/hooks/actions.ts","../../../../src/core/actions/undo.ts","../../../../../src/core/components/HotKey/GlobalHotKeys.tsx","../../../../src/core/Provider/DndProvider.tsx","../../../../src/core/components/BlurGate.tsx","../../../../../src/core/components/hooks/callbacks.ts","../../../../src/core/Provider/CallbacksProvider.tsx","../../../../src/core/migrations/serialzeValue.ts","../../../../src/core/Provider/EditorStoreProvider.tsx","../../../../src/core/Provider/OptionsProvider.tsx","../../../../src/core/Provider/RenderOptionsProvider.tsx","../../../../src/core/Provider/index.tsx","../../../../../src/ui/PluginDrawer/Draggable/index.tsx","../../../../../src/ui/PluginDrawer/Item/index.tsx","../../../../src/ui/PluginDrawer/index.tsx","../../../../src/ui/Trash/index.tsx","../../../../../src/ui/Sidebar/Button/index.tsx","../../../../../src/ui/Sidebar/ToggleEdit/index.tsx","../../../../../src/ui/Sidebar/ToggleInsert/index.tsx","../../../../../src/ui/Sidebar/ToggleLayout/index.tsx","../../../../../src/ui/Sidebar/TogglePreview/index.tsx","../../../../../src/ui/Sidebar/ToggleResize/index.tsx","../../../../../src/ui/Sidebar/UndoRedo/index.tsx","../../../../../src/ui/Sidebar/Zoom/index.tsx","../../../../src/ui/Sidebar/index.tsx","../../../../src/ui/MultiNodesBottomToolbar/DeleteAll.tsx","../../../../src/ui/MultiNodesBottomToolbar/DuplicateAll.tsx","../../../../src/ui/MultiNodesBottomToolbar/index.tsx","../../../../src/ui/EditorUI/index.tsx","../../../src/editor/EditableEditor.tsx","../node_modules/dnd-core/dist/esm/actions/dragDrop/types.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js","../node_modules/dnd-core/dist/esm/utils/js_utils.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js","../node_modules/dnd-core/dist/esm/utils/matchesType.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js","../node_modules/dnd-core/dist/esm/classes/DragDropManagerImpl.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/index.js","../node_modules/dnd-core/dist/esm/utils/equality.js","../node_modules/dnd-core/dist/esm/reducers/dragOffset.js","../node_modules/dnd-core/dist/esm/actions/registry.js","../node_modules/dnd-core/dist/esm/reducers/dragOperation.js","../node_modules/dnd-core/dist/esm/reducers/refCount.js","../node_modules/dnd-core/dist/esm/utils/dirtiness.js","../node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js","../node_modules/dnd-core/dist/esm/reducers/stateId.js","../node_modules/dnd-core/dist/esm/reducers/index.js","../node_modules/dnd-core/dist/esm/utils/coords.js","../node_modules/dnd-core/dist/esm/classes/DragDropMonitorImpl.js","../node_modules/dnd-core/dist/esm/interfaces.js","../node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js","../node_modules/dnd-core/dist/esm/contracts.js","../node_modules/@react-dnd/asap/dist/esm/browser/asap.js","../node_modules/dnd-core/dist/esm/classes/HandlerRegistryImpl.js","../node_modules/dnd-core/dist/esm/createDragDropManager.js","../../../../src/core/utils/objIsNode.ts"],"names":["invariant","condition","format","args","error","argIndex","Object","defineProperty","exports","value","IS_MAC","window","test","navigator","platform","MODIFIERS","alt","control","meta","shift","ALIASES","add","break","cmd","command","ctl","ctrl","del","down","esc","ins","left","mod","opt","option","return","right","space","spacebar","up","win","windows","CODES","backspace","tab","enter","pause","capslock","escape","pageup","pagedown","end","home","arrowleft","arrowup","arrowright","arrowdown","insert","delete","numlock","scrolllock","f","isHotkey","hotkey","options","event","Array","isArray","array","map","string","parseHotkey","check","e","some","object","compareHotkey","byKey","ret","values","replace","split","length","k","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","optional","endsWith","slice","name","toKeyName","modifier","key","which","toKeyCode","err","expected","actual","toLowerCase","toUpperCase","charCodeAt","default","isCodeHotkey","isKeyHotkey","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","freeSelf","self","root","Function","objectToString","prototype","toString","nativeMax","Math","max","nativeMin","min","now","Date","isObject","type","toNumber","isObjectLike","call","isSymbol","other","valueOf","isBinary","module","func","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","arguments","this","cancel","clearTimeout","flush","_interopRequireDefault","require","_interopRequireWildcard","React","_default","createElement","d","FUNC_ERROR_TEXT","debounce","DndContext","createContext","dragDropManager","rawAsap","task","queue","requestFlush","index","currentIndex","scan","newLength","scope","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","makeRequestCallFromTimer","callback","timeoutHandle","handleTimer","intervalHandle","setInterval","clearInterval","toggle","observer","node","document","createTextNode","observe","characterData","data","makeRequestCallFromMutationObserver","Fragment","canUseDOM","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_classCallCheck","instance","_possibleConstructorReturn","ReferenceError","Portal","_React$Component","__proto__","getPrototypeOf","subClass","superClass","create","constructor","setPrototypeOf","_inherits","defaultNode","body","removeChild","appendChild","ReactDOM","createPortal","children","Component","propTypes","PropTypes","isRequired","any","renderPortal","unmountComponentAtNode","portal","cloneElement","unstable_renderSubtreeIntoContainer","Portalv4","LegacyPortal","scrollToCell","_excluded","_slicedToArray","arr","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","push","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","from","_unsupportedIterableToArray","_nonIterableRest","len","arr2","_objectWithoutProperties","source","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","refCount","INSTANCE_SYM","for","DndProvider","memo","_ref","_getDndContextValue","manager","backend","context","getGlobalContext","debugMode","ctx","createDragDropManager","createSingletonDndContext","isGlobalInstance","getDndContextValue","_getDndContextValue2","useEffect","_jsx","Provider","assign","useDragDropManager","useContext","useIsomorphicLayoutEffect","useLayoutEffect","_defineProperties","_defineProperty","obj","DropTargetImpl","spec","monitor","canDrop","getItem","hover","drop","useRegisteredDropTarget","connector","dropTarget","useMemo","useDropTarget","accept","useAccept","_registerTarget","registry","getRegistry","targetId","addTarget","removeTarget","registerTarget","_registerTarget2","handlerId","unregister","receiveHandlerId","a","join","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","useOptionalFactory","arg","deps","memoDeps","isCallingCanDrop","DropTargetMonitorImpl","internalMonitor","getMonitor","listener","subscribeToStateChange","canDropOnTarget","isOverTarget","getItemType","getDropResult","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","throwIfCompositeComponentElement","element","displayName","Error","concat","wrapConnectorHooks","hooks","wrappedHooks","forEach","hook","wrappedHook","elementOrNode","isValidElement","ref","cloneWithRef","wrapHookToRecognizeElement","setRef","current","newRef","previousRef","_typeof","isRef","hasOwnProperty","TargetConnector","_this","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","reconnect","get","didChange","didHandlerIdChange","didDropTargetChange","didOptionsChange","disconnectDropTarget","lastConnectedHandlerId","lastConnectedDropTarget","lastConnectedDropTargetOptions","unsubscribeDropTarget","connectDropTarget","newHandlerId","dropTargetOptionsInternal","set","useMonitorOutput","collect","onCollect","_useCollector","onUpdate","_useState2","useState","collected","setCollected","updateCollected","useCallback","nextValue","equal","useCollector","_useCollector2","getHandlerId","handlerIds","useCollectedProps","collector","useConnectDropTarget","useDrop","specArg","useDropTargetMonitor","getBackend","useDropTargetConnector","parent","_a","rect","setReferenceNodeId","checkIfAllowed","parentCellId","noop","isBrowser","defaultState","x","y","width","height","top","bottom","ResizeObserver","_b","setRect","entries","contentRect","top_1","disconnect","item","actions","hoverTarget","nodeId","DragSourceImpl","_result","canDrag","globalMonitor","isDragging","getSourceId","useRegisteredDragSource","handler","useDragSource","itemType","useDragType","_registerSource","sourceId","addSource","removeSource","registerSource","_registerSource2","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","canDragSource","isDraggingSource","getTargetIds","isSourcePublic","subscribeToOffsetChange","SourceConnector","dragSource","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","dragSourceOptionsInternal","dragPreviewOptionsInternal","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","lastConnectedDragSource","lastConnectedDragSourceOptions","dragSourceUnsubscribe","connectDragSource","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","lastConnectedDragPreview","lastConnectedDragPreviewOptions","dragPreviewUnsubscribe","connectDragPreview","useConnectDragSource","useConnectDragPreview","useDrag","begin","useDragSourceMonitor","useDragSourceConnector","previewOptions","cachedType","DragPreviewImage","connect","src","Image","connected","img","onload","action","targetNodeId","t","lastScale","SCALING_FACTORS","Tab","classes","className","_props$disabled","disabled","_props$disableFocusRi","disableFocusRipple","fullWidth","icon","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","_props$textColor","textColor","_props$wrapped","wrapped","ButtonBase","_extends","focusRipple","clsx","capitalize","labelIcon","role","tabIndex","wrapper","withStyles","theme","_extends2","typography","button","maxWidth","minWidth","position","boxSizing","minHeight","flexShrink","padding","breakpoints","paddingTop","marginBottom","textColorInherit","color","opacity","textColorPrimary","palette","text","secondary","primary","main","textColorSecondary","flexGrow","flexBasis","fontSize","pxToRem","lineHeight","display","alignItems","justifyContent","flexDirection","detectScrollType","dummy","container","style","dir","overflow","scrollLeft","getNormalizedScrollLeft","direction","scrollWidth","clientWidth","easeInOutSin","sin","PI","styles","ScrollbarSize","scrollbarHeight","nodeRef","setMeasurements","offsetHeight","clientHeight","handleResize","prevHeight","addEventListener","clear","removeEventListener","TabIndicator","orientation","vertical","transition","transitions","colorPrimary","backgroundColor","colorSecondary","KeyboardArrowLeft","_ref2","KeyboardArrowRight","TabScrollButton","classNameProp","component","transform","Tabs","ariaLabel","ariaLabelledBy","_props$centered","centered","childrenProp","_props$component","_props$indicatorColor","indicatorColor","_props$orientation","_props$ScrollButtonCo","ScrollButtonComponent","_props$scrollButtons","scrollButtons","_props$TabIndicatorPr","TabIndicatorProps","TabScrollButtonProps","_props$variant","variant","useTheme","scrollable","isRtl","scrollStart","start","clientSize","size","_React$useState","mounted","setMounted","_React$useState2","indicatorStyle","setIndicatorStyle","_React$useState3","displayScroll","setDisplayScroll","_React$useState4","scrollerStyle","setScrollerStyle","valueToIndex","Map","tabsRef","tabListRef","getTabsMeta","tabsMeta","tabMeta","tabsNode","getBoundingClientRect","scrollTop","scrollLeftNormalized","_children","process","updateIndicatorState","useEventCallback","_newIndicatorStyle","_getTabsMeta","startValue","correction","newIndicatorStyle","isNaN","dStart","abs","dSize","scroll","scrollValue","property","to","cb","_options$ease","ease","_options$duration","duration","cancelled","step","timestamp","requestAnimationFrame","animate","moveTabsScroll","delta","handleStartScrollClick","handleEndScrollClick","handleScrollbarSizeChange","scrollSelectedIntoView","_getTabsMeta2","nextScrollStart","_nextScrollStart","updateScrollButtonState","showStartScroll","showEndScroll","_tabsRef$current","scrollHeight","ownerWindow","handleTabsScroll","updateIndicator","updateScrollButtons","childIndex","child","childValue","conditionalElements","scrollbarSizeListener","scrollButtonsActive","showScrollButtons","scrollButtonStart","scrollButtonsDesktop","scrollButtonEnd","getConditionalElements","scroller","fixed","onScroll","flexContainer","flexContainerVertical","onKeyDown","getAttribute","newFocusTarget","previousItemKey","nextItemKey","previousElementSibling","lastChild","nextElementSibling","firstChild","focus","preventDefault","WebkitOverflowScrolling","flex","whiteSpace","overflowX","scrollbarWidth","components","inline","InsertNewWithDefault","mode","zoom","focusedNodeId","focusRef","c","defaultLabels","noPluginFoundContent","searchPlaceholder","insertPlugin","dragMe","plugins","Fab","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","clientOffset","sourceClientOffset","payload","path","defaultValue","reduce","without","items","filter","input","xor","itemsA","itemsB","insertItem","has","count","ResetCoordinatesAction","createBeginDrag","sourceIds","publishSource","_options$publishSourc","dispatch","verifyInvariants","getDraggableSource","verifyGetSourceClientOffsetIsFunction","getSource","beginDrag","verifyItemIsObject","pinSource","getSourceType","createPublishDragSource","matchesType","targetType","draggedItemType","createHover","targetIdsArg","verifyTargetIdsIsArray","targetIds","checkInvariants","removeNonMatchingTargetIds","hoverAllTargets","lastIndexOf","getTarget","getTargetType","splice","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread","getOwnPropertyDescriptors","createDrop","getDroppableTargets","dropResult","determineDropResult","verifyDropResultType","reverse","createEndDrag","verifyIsDragging","endDrag","unpinSource","DragDropManagerImpl","store","shouldSetUp","getState","isSetUp","setup","teardown","subscribe","handleRefCountChange","publishDragSource","createDragDropActions","boundActions","actionCreator","_len","_key","strictEquality","b","areCoordsEqual","offsetA","offsetB","areArraysEqual","isEqual","initialState","initialSourceClientOffset","initialClientOffset","state","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","NONE","ALL","areDirty","dirtyIds","_action$payload","_action$payload$targe","_action$payload$prevT","prevTargetIds","prevInnermostTargetId","innermostTargetId","dirtyHandlerIds","dragOffset","dragOperation","stateId","subtract","__IS_NONE__","__IS_ALL__","HandlerRole","DragDropMonitorImpl","prevStateId","handleChange","currentStateId","_this2","previousState","nextState","Boolean","shallow","_getSourceClientOffset","_getDifferenceFromInitialOffset","nextUniqueId","validateType","allowArray","freeTasks","pendingErrors","requestErrorThrow","asap","rawTask","pop","RawTask","onerror","getNextHandlerId","id","SOURCE","TARGET","parseRoleFromHandlerId","mapContainsValue","searchValue","isDone","_entries$next","HandlerRegistryImpl","validateSourceContract","addHandler","_addSource","validateTargetContract","_addTarget","dragSources","dropTargets","includePinned","isSourceId","isPinned","pinnedSourceId","pinnedSource","isTargetId","types","_removeSource","_removeTarget","backendFactory","globalContext","backendOptions","makeStoreInstance","receiveBackend","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","createStore","instanceId"],"mappings":"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AAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,KAEzD,kBAAiB,CACjB,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,MA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","file":"static/js/9.00d6d091.chunk.js","sourcesContent":["export function shallowEqual<T>(\n  objA: T,\n  objB: T,\n  compare?: (a: T, b: T, key?: string) => boolean | void,\n  compareContext?: any\n) {\n  var compareResult = compare\n    ? compare.call(compareContext, objA, objB)\n    : void 0;\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = (objA as any)[key];\n    var valueB = (objB as any)[key];\n\n    compareResult = compare\n      ? compare.call(compareContext, valueA, valueB, key)\n      : void 0;\n\n    if (\n      compareResult === false ||\n      (compareResult === void 0 && valueA !== valueB)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * Constants.\n */\n\nvar IS_MAC = typeof window != 'undefined' && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);\n\nvar MODIFIERS = {\n  alt: 'altKey',\n  control: 'ctrlKey',\n  meta: 'metaKey',\n  shift: 'shiftKey'\n};\n\nvar ALIASES = {\n  add: '+',\n  break: 'pause',\n  cmd: 'meta',\n  command: 'meta',\n  ctl: 'control',\n  ctrl: 'control',\n  del: 'delete',\n  down: 'arrowdown',\n  esc: 'escape',\n  ins: 'insert',\n  left: 'arrowleft',\n  mod: IS_MAC ? 'meta' : 'control',\n  opt: 'alt',\n  option: 'alt',\n  return: 'enter',\n  right: 'arrowright',\n  space: ' ',\n  spacebar: ' ',\n  up: 'arrowup',\n  win: 'meta',\n  windows: 'meta'\n};\n\nvar CODES = {\n  backspace: 8,\n  tab: 9,\n  enter: 13,\n  shift: 16,\n  control: 17,\n  alt: 18,\n  pause: 19,\n  capslock: 20,\n  escape: 27,\n  ' ': 32,\n  pageup: 33,\n  pagedown: 34,\n  end: 35,\n  home: 36,\n  arrowleft: 37,\n  arrowup: 38,\n  arrowright: 39,\n  arrowdown: 40,\n  insert: 45,\n  delete: 46,\n  meta: 91,\n  numlock: 144,\n  scrolllock: 145,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  '\\'': 222\n};\n\nfor (var f = 1; f < 20; f++) {\n  CODES['f' + f] = 111 + f;\n}\n\n/**\n * Is hotkey?\n */\n\nfunction isHotkey(hotkey, options, event) {\n  if (options && !('byKey' in options)) {\n    event = options;\n    options = null;\n  }\n\n  if (!Array.isArray(hotkey)) {\n    hotkey = [hotkey];\n  }\n\n  var array = hotkey.map(function (string) {\n    return parseHotkey(string, options);\n  });\n  var check = function check(e) {\n    return array.some(function (object) {\n      return compareHotkey(object, e);\n    });\n  };\n  var ret = event == null ? check : check(event);\n  return ret;\n}\n\nfunction isCodeHotkey(hotkey, event) {\n  return isHotkey(hotkey, event);\n}\n\nfunction isKeyHotkey(hotkey, event) {\n  return isHotkey(hotkey, { byKey: true }, event);\n}\n\n/**\n * Parse.\n */\n\nfunction parseHotkey(hotkey, options) {\n  var byKey = options && options.byKey;\n  var ret = {};\n\n  // Special case to handle the `+` key since we use it as a separator.\n  hotkey = hotkey.replace('++', '+add');\n  var values = hotkey.split('+');\n  var length = values.length;\n\n  // Ensure that all the modifiers are set to false unless the hotkey has them.\n\n  for (var k in MODIFIERS) {\n    ret[MODIFIERS[k]] = false;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var value = _step.value;\n\n      var optional = value.endsWith('?') && value.length > 1;\n\n      if (optional) {\n        value = value.slice(0, -1);\n      }\n\n      var name = toKeyName(value);\n      var modifier = MODIFIERS[name];\n\n      if (length === 1 || !modifier) {\n        if (byKey) {\n          ret.key = name;\n        } else {\n          ret.which = toKeyCode(value);\n        }\n      }\n\n      if (modifier) {\n        ret[modifier] = optional ? null : true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Compare.\n */\n\nfunction compareHotkey(object, event) {\n  for (var key in object) {\n    var expected = object[key];\n    var actual = void 0;\n\n    if (expected == null) {\n      continue;\n    }\n\n    if (key === 'key' && event.key != null) {\n      actual = event.key.toLowerCase();\n    } else if (key === 'which') {\n      actual = expected === 91 && event.which === 93 ? 91 : event.which;\n    } else {\n      actual = event[key];\n    }\n\n    if (actual == null && expected === false) {\n      continue;\n    }\n\n    if (actual !== expected) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Utils.\n */\n\nfunction toKeyCode(name) {\n  name = toKeyName(name);\n  var code = CODES[name] || name.toUpperCase().charCodeAt(0);\n  return code;\n}\n\nfunction toKeyName(name) {\n  name = name.toLowerCase();\n  name = ALIASES[name] || name;\n  return name;\n}\n\n/**\n * Export.\n */\n\nexports.default = isHotkey;\nexports.isHotkey = isHotkey;\nexports.isCodeHotkey = isCodeHotkey;\nexports.isKeyHotkey = isKeyHotkey;\nexports.parseHotkey = parseHotkey;\nexports.compareHotkey = compareHotkey;\nexports.toKeyCode = toKeyCode;\nexports.toKeyName = toKeyName;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z\"\n}), 'AspectRatio');\n\nexports.default = _default;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z\"\n}), 'Translate');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z\"\n}), 'FileCopy');\n\nexports.default = _default;","import { createContext } from 'react';\n/**\n * Create the React Context\n */\n\nexport var DndContext = createContext({\n  dragDropManager: undefined\n});","// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nexport function rawAsap(task) {\n  if (!queue.length) {\n    requestFlush();\n    flushing = true;\n  } // Equivalent to push, but avoids a function call.\n\n\n  queue[queue.length] = task;\n}\nvar queue = []; // Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\n// @ts-ignore\n\nvar flushing = false; // `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\n\nvar requestFlush; // The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\n\nvar index = 0; // If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\n\nvar capacity = 1024; // The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\n\nfunction flush() {\n  while (index < queue.length) {\n    var currentIndex = index; // Advance the index before calling the task. This ensures that we will\n    // begin flushing on the next task the task throws an error.\n\n    index = index + 1;\n    queue[currentIndex].call(); // Prevent leaking memory for long chains of recursive calls to `asap`.\n    // If we call `asap` within tasks scheduled by `asap`, the queue will\n    // grow, but to avoid an O(n) walk for every task we execute, we don't\n    // shift tasks off the queue after they have been executed.\n    // Instead, we periodically shift 1024 tasks off the queue.\n\n    if (index > capacity) {\n      // Manually shift all values starting at the index back to the\n      // beginning of the queue.\n      for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n        queue[scan] = queue[scan + index];\n      }\n\n      queue.length -= index;\n      index = 0;\n    }\n  }\n\n  queue.length = 0;\n  index = 0;\n  flushing = false;\n} // `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\n\n\nvar scope = typeof global !== 'undefined' ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver; // MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\n\nif (typeof BrowserMutationObserver === 'function') {\n  requestFlush = makeRequestCallFromMutationObserver(flush); // MessageChannels are desirable because they give direct access to the HTML\n  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n  // 11-12, and in web workers in many engines.\n  // Although message channels yield to any queued rendering and IO tasks, they\n  // would be better than imposing the 4ms delay of timers.\n  // However, they do not work reliably in Internet Explorer or Safari.\n  // Internet Explorer 10 is the only browser that has setImmediate but does\n  // not have MutationObservers.\n  // Although setImmediate yields to the browser's renderer, it would be\n  // preferrable to falling back to setTimeout since it does not have\n  // the minimum 4ms penalty.\n  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n  // Desktop to a lesser extent) that renders both setImmediate and\n  // MessageChannel useless for the purposes of ASAP.\n  // https://github.com/kriskowal/q/issues/396\n  // Timers are implemented universally.\n  // We fall back to timers in workers in most engines, and in foreground\n  // contexts in the following browsers.\n  // However, note that even this simple case requires nuances to operate in a\n  // broad spectrum of browsers.\n  //\n  // - Firefox 3-13\n  // - Internet Explorer 6-9\n  // - iPad Safari 4.3\n  // - Lynx 2.8.7\n} else {\n  requestFlush = makeRequestCallFromTimer(flush);\n} // `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\n\n\nrawAsap.requestFlush = requestFlush; // To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\n\nfunction makeRequestCallFromMutationObserver(callback) {\n  var toggle = 1;\n  var observer = new BrowserMutationObserver(callback);\n  var node = document.createTextNode('');\n  observer.observe(node, {\n    characterData: true\n  });\n  return function requestCall() {\n    toggle = -toggle;\n    node.data = toggle;\n  };\n} // The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n\nfunction makeRequestCallFromTimer(callback) {\n  return function requestCall() {\n    // We dispatch a timeout with a specified delay of 0 for engines that\n    // can reliably accommodate that request. This will usually be snapped\n    // to a 4 milisecond delay, but once we're flushing, there's no delay\n    // between events.\n    var timeoutHandle = setTimeout(handleTimer, 0); // However, since this timer gets frequently dropped in Firefox\n    // workers, we enlist an interval handle that will try to fire\n    // an event 20 times per second until it succeeds.\n\n    var intervalHandle = setInterval(handleTimer, 50);\n\n    function handleTimer() {\n      // Whichever timer succeeds will cancel both timers and\n      // execute the callback.\n      clearTimeout(timeoutHandle);\n      clearInterval(intervalHandle);\n      callback();\n    }\n  };\n} // This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\n\n\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer; // ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React, { useState } from 'react';\nimport { useOption } from '..';\nvar StickyWrapper = function (_a) {\n    var children = _a.children;\n    var ref = React.createRef();\n    var sidebarPosition = useOption('sidebarPosition');\n    var stickyElRef = React.createRef();\n    var _b = __read(useState(false), 2), shouldStickToTop = _b[0], setShouldStickToTop = _b[1];\n    var _c = __read(useState(true), 2), shouldStickToBottom = _c[0], setShouldStickToBottom = _c[1];\n    var _d = __read(useState(0), 2), rightOffset = _d[0], setRightOffset = _d[1];\n    var _e = __read(useState(0), 2), rightOffsetFixed = _e[0], setRightOffsetFixed = _e[1];\n    React.useEffect(function () {\n        var calc = function () {\n            var _a, _b, _c, _d, _e, _f, _g, _h;\n            if (ref.current) {\n                /**\n                 * TODO: works, but needs refactor, could calculate style for sidebar directly\n                 */\n                var _j = ref.current.getBoundingClientRect(), top_1 = _j.top, left = _j.left, right = _j.right;\n                var bottom = top_1 + ref.current.clientHeight;\n                // document.documentElement.clientWidth is without scrollbars, so better for us\n                if (sidebarPosition === 'rightAbsolute') {\n                    var rightOffsetAbsolute = document.documentElement.clientWidth -\n                        left -\n                        ref.current.clientWidth;\n                    setRightOffset(rightOffsetAbsolute);\n                    setRightOffsetFixed(0);\n                }\n                else if (sidebarPosition === 'rightRelative') {\n                    var rightOffsetAbsolute = document.documentElement.clientWidth -\n                        left -\n                        ref.current.clientWidth;\n                    var rightOffsetRelative = (_a = stickyElRef.current) === null || _a === void 0 ? void 0 : _a.clientWidth;\n                    var overlapsScreenRight = right + ((_b = stickyElRef.current) === null || _b === void 0 ? void 0 : _b.clientWidth) >\n                        document.documentElement.clientWidth;\n                    setRightOffset(overlapsScreenRight ? rightOffsetAbsolute : rightOffsetRelative);\n                    setRightOffsetFixed(overlapsScreenRight\n                        ? 0\n                        : document.documentElement.clientWidth -\n                            right -\n                            ((_c = stickyElRef.current) === null || _c === void 0 ? void 0 : _c.clientWidth));\n                }\n                else if (sidebarPosition === 'leftRelative') {\n                    var rightOffsetForRelativeLeft = -ref.current.clientWidth;\n                    var rightOffsetForAbsoluteLeft = -ref.current.clientWidth -\n                        left +\n                        ((_e = (_d = stickyElRef.current) === null || _d === void 0 ? void 0 : _d.clientWidth) !== null && _e !== void 0 ? _e : 100);\n                    var overlapsScreenLeft = right + rightOffsetForRelativeLeft <\n                        stickyElRef.current.clientWidth;\n                    setRightOffset(overlapsScreenLeft\n                        ? rightOffsetForAbsoluteLeft\n                        : rightOffsetForRelativeLeft);\n                    setRightOffsetFixed(document.documentElement.clientWidth - left);\n                }\n                else if (sidebarPosition === 'leftAbsolute') {\n                    console.warn('sidebarPosition leftAbsolute is currently buggy');\n                    var rightOffsetForAbsoluteLeft = -ref.current.clientWidth -\n                        left +\n                        ((_g = (_f = stickyElRef.current) === null || _f === void 0 ? void 0 : _f.clientWidth) !== null && _g !== void 0 ? _g : 100);\n                    setRightOffset(rightOffsetForAbsoluteLeft);\n                    setRightOffsetFixed(document.documentElement.clientWidth -\n                        ((_h = stickyElRef.current) === null || _h === void 0 ? void 0 : _h.clientWidth));\n                }\n                var uiHeight = stickyElRef.current\n                    ? stickyElRef.current.clientHeight\n                    : 400;\n                setShouldStickToTop(top_1 > window.innerHeight - uiHeight);\n                setShouldStickToBottom(bottom < window.innerHeight);\n            }\n        };\n        document.addEventListener('scroll', calc);\n        window.addEventListener('resize', calc);\n        var observer = null;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (global.IntersectionObserver) {\n            observer = new IntersectionObserver(calc);\n            if (ref.current) {\n                observer.observe(ref.current);\n            }\n        }\n        // do it once\n        calc();\n        return function () {\n            document.removeEventListener('scroll', calc);\n            window.removeEventListener('resize', calc);\n            observer === null || observer === void 0 ? void 0 : observer.disconnect();\n        };\n    }, [ref, stickyElRef]);\n    return (React.createElement(\"div\", { style: { position: 'relative' }, ref: ref }, children({\n        rightOffset: rightOffset,\n        stickyElRef: stickyElRef,\n        focusRef: ref,\n        shouldStickToTop: shouldStickToTop,\n        shouldStickToBottom: shouldStickToBottom,\n        rightOffsetFixed: rightOffsetFixed,\n    })));\n};\nexport default StickyWrapper;\n//# sourceMappingURL=StickyWrapper.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 14l5-5 5 5z\"\n}), 'ArrowDropUp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 10l5 5 5-5z\"\n}), 'ArrowDropDown');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 7l-5 5 5 5V7z\"\n}), 'ArrowLeft');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 17l5-5-5-5v10z\"\n}), 'ArrowRight');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"\n}), 'VisibilityOff');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\n}), 'Visibility');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z\"\n}), 'VerticalAlignTop');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"\n}), 'Undo');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"\n}), 'Redo');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"\n})), 'ZoomIn');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"\n}), 'ZoomOut');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Create');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6zM10 5v6h11V5H10z\"\n}), 'ViewQuilt');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z\"\n}), 'SettingsOverscan');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z\"\n}), 'Devices');\n\nexports.default = _default;","export var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { canUseDOM } from './utils';\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!canUseDOM) {\n        return null;\n      }\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n      return ReactDOM.createPortal(this.props.children, this.props.node || this.defaultNode);\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};\n\nexport default Portal;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// This file is a fallback for a consumer who is not yet on React 16\n// as createPortal was introduced in React 16\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(props) {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      ReactDOM.unmountComponentAtNode(this.defaultNode || this.props.node);\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n      this.portal = null;\n    }\n  }, {\n    key: 'renderPortal',\n    value: function renderPortal(props) {\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n\n      var children = this.props.children;\n      // https://gist.github.com/jimfb/d99e0678e9da715ccf6454961ef04d1b\n      if (typeof this.props.children.type === 'function') {\n        children = React.cloneElement(this.props.children);\n      }\n\n      this.portal = ReactDOM.unstable_renderSubtreeIntoContainer(this, children, this.props.node || this.defaultNode);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nexport default Portal;\n\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};","import ReactDOM from 'react-dom';\n\nimport Portalv4 from './Portal';\nimport LegacyPortal from './LegacyPortal';\n\nvar Portal = void 0;\n\nif (ReactDOM.createPortal) {\n  Portal = Portalv4;\n} else {\n  Portal = LegacyPortal;\n}\n\nexport default Portal;","import { findNodeInState } from './editable';\nexport var focus = function (state) {\n    return state && state.reactPage && state.reactPage.focus;\n};\nexport var allFocusedNodeIds = function (state) {\n    var _a, _b, _c;\n    return ((_c = (_b = (_a = focus(state)) === null || _a === void 0 ? void 0 : _a.nodeIds) === null || _b === void 0 ? void 0 : _b.filter(function (n) { var _a; return (_a = findNodeInState(state, n)) === null || _a === void 0 ? void 0 : _a.node; })) !== null && _c !== void 0 ? _c : []);\n};\nexport var singleFocusedNode = function (state) {\n    var nodeIds = allFocusedNodeIds(state);\n    if ((nodeIds === null || nodeIds === void 0 ? void 0 : nodeIds.length) === 1)\n        return nodeIds[0];\n    return null;\n};\n//# sourceMappingURL=focus.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useEffect } from 'react';\nimport { useSelector } from '../../reduxConnect';\nimport { allFocusedNodeIds, focus, singleFocusedNode, } from '../../selector/focus';\n/**\n * @returns the current focused nodeId if just one or null\n */\nexport var useFocusedNodeId = function () {\n    return useSelector(singleFocusedNode);\n};\nexport var useAllFocusedNodeIds = function () {\n    return useSelector(allFocusedNodeIds);\n};\n/**\n *\n * @param id the id of the node (row/cell)\n * @returns true if the given node id is focused\n */\nexport var useIsFocused = function (id) {\n    return useSelector(function (state) { return allFocusedNodeIds(state).includes(id); });\n};\n/**\n *\n * @param id the id of the node (row/cell)\n * @returns true if ONLY the given node id is focused\n */\nexport var useIsExclusivlyFocused = function (id) {\n    return useSelector(function (state) { return singleFocusedNode(state) === id; });\n};\n/**\n *\n * @param id the id of the node\n * @param effect callback that is run when the given node is focused and the focus action demanded scrollToCell\n * @param deps effect deps array\n */\nexport var useScrollToViewEffect = function (id, effect, deps) {\n    var scrollToCell = useSelector(function (state) {\n        var f = focus(state);\n        var nodeId = singleFocusedNode(state);\n        if (!f || nodeId !== id) {\n            return null;\n        }\n        return f.scrollToCell;\n    });\n    useEffect(function () {\n        if (scrollToCell) {\n            return effect();\n        }\n    }, __spreadArray([scrollToCell], __read(deps), false));\n};\n//# sourceMappingURL=focus.js.map","var _excluded = [\"children\"];\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, memo } from 'react';\nimport { createDragDropManager } from 'dnd-core';\nimport { DndContext } from './DndContext';\nvar refCount = 0;\nvar INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function DndProvider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  useEffect(function () {\n    if (isGlobalInstance) {\n      var context = getGlobalContext();\n      ++refCount;\n      return function () {\n        if (--refCount === 0) {\n          context[INSTANCE_SYM] = null;\n        }\n      };\n    }\n  }, []);\n  return _jsx(DndContext.Provider, Object.assign({\n    value: manager\n  }, {\n    children: children\n  }), void 0);\n});\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[INSTANCE_SYM]) {\n    ctx[INSTANCE_SYM] = {\n      dragDropManager: createDragDropManager(backend, context, options, debugMode)\n    };\n  }\n\n  return ctx[INSTANCE_SYM];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}","import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DropTargetImpl = /*#__PURE__*/function () {\n  function DropTargetImpl(spec, monitor) {\n    _classCallCheck(this, DropTargetImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n  }\n\n  _createClass(DropTargetImpl, [{\n    key: \"canDrop\",\n    value: function canDrop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      return spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true;\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.hover) {\n        spec.hover(monitor.getItem(), monitor);\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.drop) {\n        return spec.drop(monitor.getItem(), monitor);\n      }\n    }\n  }]);\n\n  return DropTargetImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerTarget } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useAccept } from './useAccept';\nimport { useDropTarget } from './useDropTarget';\nexport function useRegisteredDropTarget(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var dropTarget = useDropTarget(spec, monitor);\n  var accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    var _registerTarget = registerTarget(accept, dropTarget, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(function (a) {\n    return a.toString();\n  }).join('|')]);\n}","import { useEffect, useMemo } from 'react';\nimport { DropTargetImpl } from './DropTargetImpl';\nexport function useDropTarget(spec, monitor) {\n  var dropTarget = useMemo(function () {\n    return new DropTargetImpl(spec, monitor);\n  }, [monitor]);\n  useEffect(function () {\n    dropTarget.spec = spec;\n  }, [spec]);\n  return dropTarget;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\n\nexport function useAccept(spec) {\n  var accept = spec.accept;\n  return useMemo(function () {\n    invariant(spec.accept != null, 'accept must be defined');\n    return Array.isArray(accept) ? accept : [accept];\n  }, [accept]);\n}","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useMemo } from 'react';\nexport function useOptionalFactory(arg, deps) {\n  var memoDeps = _toConsumableArray(deps || []);\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return useMemo(function () {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"targetId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","import { invariant } from '@react-dnd/invariant';\nimport { cloneElement, isValidElement } from 'react';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dropTargetRef\", null);\n\n    _defineProperty(this, \"dropTargetNode\", void 0);\n\n    _defineProperty(this, \"dropTargetOptionsInternal\", null);\n\n    _defineProperty(this, \"unsubscribeDropTarget\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDropTarget\", null);\n\n    _defineProperty(this, \"lastConnectedDropTargetOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }]);\n\n  return TargetConnector;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport equal from 'fast-deep-equal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!equal(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","import { useMonitorOutput } from './useMonitorOutput';\nexport function useCollectedProps(collector, monitor, connector) {\n  return useMonitorOutput(monitor, collector || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n}","import { useMemo } from 'react';\nexport function useConnectDropTarget(connector) {\n  return useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n}","import { useRegisteredDropTarget } from './useRegisteredDropTarget';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDropTargetMonitor } from './useDropTargetMonitor';\nimport { useDropTargetConnector } from './useDropTargetConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDropTarget } from './connectors';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrop(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  var monitor = useDropTargetMonitor();\n  var connector = useDropTargetConnector(spec.options);\n  useRegisteredDropTarget(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDropTarget(connector)];\n}","import { useMemo } from 'react';\nimport { DropTargetMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { TargetConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDropTargetConnector(options) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = options || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDropTarget();\n    };\n  }, [options]);\n  return connector;\n}","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { mapNode } from './mapNode';\n/**\n * get a node with children that only contains certain cells\n * this is usefull to duplicate or clone multiple cells\n * @param editor: the editor store\n * @param cellIds\n */\nexport var getCommonAncestorTree = function (editor, cellIds) {\n    var nodesWithAncestors = cellIds.map(function (nodeId) {\n        var _a;\n        var _b = (_a = editor.getNodeWithAncestors(nodeId)) !== null && _a !== void 0 ? _a : {}, node = _b.node, ancestors = _b.ancestors;\n        return { node: node, ancestors: __spreadArray([], __read(ancestors), false).reverse() };\n    });\n    // find common ancestors\n    var nearestCommonAncestor;\n    var depth = 0;\n    var search = true;\n    while (search) {\n        // check if every node has the same ancestor\n        if (nodesWithAncestors.every(function (n) {\n            var _a, _b;\n            return n.ancestors[depth] &&\n                ((_a = n.ancestors[depth]) === null || _a === void 0 ? void 0 : _a.id) === ((_b = nodesWithAncestors[0].ancestors[depth]) === null || _b === void 0 ? void 0 : _b.id);\n        })) {\n            nearestCommonAncestor = nodesWithAncestors[0].ancestors[depth];\n            depth++;\n        }\n        else {\n            search = false;\n        }\n    }\n    // remove nodes that we don't want to duplicate unless they have children\n    var cleaned = mapNode(nearestCommonAncestor, {\n        skipMapCell: function (c) {\n            return cellIds.includes(c.id);\n        },\n        // remove cells without rows\n        mapCell: function (c) {\n            var _a;\n            if (((_a = c.rows) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n                return c;\n            }\n            else {\n                return null;\n            }\n        },\n        // remove empty cells from rows and remove row completly if its empty\n        mapRowDown: function (r) {\n            var _a;\n            if (!r)\n                return null;\n            var row = __assign(__assign({}, r), { cells: (_a = r.cells.filter(Boolean)) !== null && _a !== void 0 ? _a : [] });\n            if (row.cells.length === 0) {\n                return null;\n            }\n            return row;\n        },\n        // remove empty rows of cells\n        mapCellDown: function (c) {\n            var _a, _b;\n            if (!c)\n                return null;\n            var cell = __assign(__assign({}, c), { rows: (_a = c.rows.filter(Boolean)) !== null && _a !== void 0 ? _a : [] });\n            if (((_b = cell.rows) === null || _b === void 0 ? void 0 : _b.length) > 0 || cellIds.includes(cell.id)) {\n                return cell;\n            }\n            else {\n                return null;\n            }\n        },\n    });\n    return cleaned;\n};\n//# sourceMappingURL=ancestorTree.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { isRow } from '../types/node';\nvar getMyPositionInParent = function (node, parent) {\n    var _a;\n    var siblings = (_a = (isRow(parent) ? parent.cells : parent.rows)) !== null && _a !== void 0 ? _a : [];\n    var index = siblings.findIndex(function (c) { return c.id === node.id; });\n    return [index, siblings.length];\n};\nvar left = function (node, ancestors) {\n    var _a = __read(ancestors), parent = _a[0], greatParents = _a.slice(1);\n    if (!parent)\n        return 0;\n    if (isRow(node)) {\n        return left(parent, greatParents) + 1;\n    }\n    else {\n        var _b = __read(getMyPositionInParent(node, parent), 1), index = _b[0];\n        if (index === 0) {\n            return left(parent, greatParents) + 1;\n        }\n        else {\n            return 0;\n        }\n    }\n};\nvar right = function (node, ancestors) {\n    var _a = __read(ancestors), parent = _a[0], greatParents = _a.slice(1);\n    if (!parent)\n        return 0;\n    if (isRow(node)) {\n        return right(parent, greatParents) + 1;\n    }\n    else {\n        var _b = __read(getMyPositionInParent(node, parent), 2), index = _b[0], numberOfSiblings = _b[1];\n        if (index === numberOfSiblings - 1) {\n            return right(parent, greatParents) + 1;\n        }\n        else {\n            return 0;\n        }\n    }\n};\nvar above = function (node, ancestors) {\n    var _a = __read(ancestors), parent = _a[0], greatParents = _a.slice(1);\n    if (!parent)\n        return 0;\n    if (!isRow(node)) {\n        return above(parent, greatParents) + 1;\n    }\n    else {\n        var _b = __read(getMyPositionInParent(node, parent), 1), index = _b[0];\n        if (index === 0) {\n            return above(parent, greatParents) + 1;\n        }\n        else {\n            return 0;\n        }\n    }\n};\nvar below = function (node, ancestors) {\n    var _a = __read(ancestors), parent = _a[0], greatParents = _a.slice(1);\n    if (!parent)\n        return 0;\n    if (!isRow(node)) {\n        return below(parent, greatParents) + 1;\n    }\n    else {\n        var _b = __read(getMyPositionInParent(node, parent), 2), index = _b[0], numberOfSiblings = _b[1];\n        if (index === numberOfSiblings - 1) {\n            return below(parent, greatParents) + 1;\n        }\n        else {\n            return 0;\n        }\n    }\n};\nexport var getDropLevels = function (node, ancestors) { return ({\n    left: left(node, ancestors),\n    right: right(node, ancestors),\n    above: above(node, ancestors),\n    below: below(node, ancestors),\n}); };\n//# sourceMappingURL=getDropLevels.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport debounce from 'lodash.debounce';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useSelector } from '../../reduxConnect';\nimport { findNodeInState } from '../../selector/editable';\nimport { isRow } from '../../types/node';\nimport deepEquals from '../../utils/deepEquals';\nimport { getAvailablePlugins } from '../../utils/getAvailablePlugins';\nimport { getCellData } from '../../utils/getCellData';\nimport { getCellInnerDivStylingProps } from '../../utils/getCellStylingProps';\nimport { getDropLevels } from '../../utils/getDropLevels';\nimport { useUpdateCellData } from './nodeActions';\nimport { useLang } from './options';\nimport { useRenderOption } from './renderOptions';\n/**\n * Use this function to get derived properties of a node. It prevents unnessesary rerenders when only the nessesary properties are returned by the selector\n *\n * you can also select props from the ancestors of the node. Be aware that the last ancestor is the root document id\n *\n * @param nodeId an id of a node (cell or row)\n * @param selector receives the node object or null (if no node with this id exists) and returns T\n * @returns the selection T\n */\nexport var useNodeProps = function (nodeId, selector) {\n    var node = useSelector(function (state) {\n        var result = findNodeInState(state, nodeId);\n        if (!result) {\n            return selector(null, []);\n        }\n        return selector(result.node, result.ancestors);\n    }, deepEquals);\n    return node;\n};\n/**\n *\n * @param nodeId id of a node\n * @param selector receives the ancestors array and returns T\n * @returns T\n */\nexport var useNodeAncestorProps = function (nodeId, selector) {\n    return useNodeProps(nodeId, function (__, ancestors) { return selector(ancestors); });\n};\n/**\n * This is the same as @see useNodeProps, but only for cells. selector will receive null if the given nodeId is not a cell\n * @param nodeId an id of a cell\n * @param selector receives the cell or null (if no cell with this id exists) object and returns T\n * @returns the selection T\n */\nexport var useCellProps = function (nodeId, selector) {\n    if (!nodeId) {\n        return null;\n    }\n    return useNodeProps(nodeId, function (node, ancestors) {\n        return node && !isRow(node) ? selector(node, ancestors) : selector(null, ancestors);\n    });\n};\n/**\n * better use useCellProps, unless you really need the full cell object\n * @param nodeId an id of a cell\n * @returns full Cell object\n */\nexport var useCell = function (nodeId) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        return !isRow(node) ? node : null;\n    });\n};\n/**\n * This is the same as @see useNodeProps, but only for rows.\n * @param nodeId an id of a row\n * @param selector receives the row or null (if no row with this id exists) object and returns T\n * @returns the selection T\n */\nexport var useRowProps = function (nodeId, selector) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        return isRow(node) ? selector(node, ancestors) : null;\n    });\n};\n/**\n *\n * @param nodeId id of a node\n * @returns the relative hover position over the given node, or null if this node is not hovered over\n */\nexport var useNodeHoverPosition = function (nodeId) {\n    return useSelector(function (state) {\n        var _a, _b;\n        return ((_a = state.reactPage.hover) === null || _a === void 0 ? void 0 : _a.nodeId) === nodeId\n            ? (_b = state.reactPage.hover) === null || _b === void 0 ? void 0 : _b.position\n            : null;\n    });\n};\n/**\n *\n * @param nodeId id of a node\n * @returns an array of ids that are ancestors of the given node\n */\nexport var useNodeAncestorIds = function (nodeId) {\n    return useNodeAncestorProps(nodeId, function (ancestors) {\n        return ancestors.map(function (a) { return a.id; });\n    });\n};\n/**\n *\n * @param nodeId the id of a row or cell\n * @returns the nearest ancestor cell of the cell or row that has a plugin\n */\nexport var useParentCellId = function (nodeId) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        var _a;\n        return node && ancestors\n            ? (_a = ancestors.find(function (node) { return !isRow(node) && node.plugin; })) === null || _a === void 0 ? void 0 : _a.id\n            : null;\n    });\n};\n/**\n * returns a cell as a HoverTarget that is suiteable to be passed to the drop-logic\n *\n * @param nodeId a nodeId\n * @returns a HoverTarget\n */\nexport var useNodeAsHoverTarget = function (nodeId) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        var _a;\n        return node\n            ? {\n                id: node.id,\n                // the last element is the root element, we can't currenly use that as hover target\n                ancestorIds: ancestors.slice(0, -1).map(function (a) { return a.id; }),\n                hasInlineNeighbour: !isRow(node) ? node.hasInlineNeighbour : null,\n                inline: !isRow(node) ? node.inline : null,\n                levels: getDropLevels(node, ancestors),\n                pluginId: !isRow(node) ? (_a = node.plugin) === null || _a === void 0 ? void 0 : _a.id : null,\n            }\n            : null;\n    });\n};\n/**\n *\n * @deprecated currently unused\n */\nexport var useCellBounds = function (nodeId) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        var _a;\n        var parent = isRow(ancestors[0]) ? ancestors[0] : null;\n        var myIndex = (_a = parent === null || parent === void 0 ? void 0 : parent.cells.findIndex(function (c) { return c.id === node.id; })) !== null && _a !== void 0 ? _a : -1;\n        var cell = !isRow(node) ? node : null;\n        if (!cell || myIndex < 0) {\n            return null;\n        }\n        if (cell.inline) {\n            return {\n                left: 0,\n                right: 0,\n            };\n        }\n        return {\n            left: myIndex > 0 ? parent.cells[myIndex - 1].size + cell.size - 1 : 0,\n            right: myIndex === parent.cells.length - 1\n                ? 0\n                : cell.size - 1 + parent.cells[myIndex + 1].size,\n        };\n    });\n};\n/**\n *\n * @param nodeId a node id\n * @returns an array of nodeIds that are direct children of the given node\n */\nexport var useNodeChildrenIds = function (nodeId) {\n    return useNodeProps(nodeId, function (node) {\n        var _a, _b, _c, _d;\n        return isRow(node)\n            ? (_b = (_a = node.cells) === null || _a === void 0 ? void 0 : _a.map(function (c) { return c.id; })) !== null && _b !== void 0 ? _b : []\n            : (_d = (_c = node.rows) === null || _c === void 0 ? void 0 : _c.map(function (r) { return r.id; })) !== null && _d !== void 0 ? _d : [];\n    });\n};\n/**\n *\n * @param nodeId a node id\n * @returns true if node has children\n */\nexport var useNodeHasChildren = function (nodeId) {\n    return useNodeProps(nodeId, function (node) {\n        var _a, _b, _c, _d;\n        return isRow(node)\n            ? (_b = ((_a = node.cells) === null || _a === void 0 ? void 0 : _a.length) > 0) !== null && _b !== void 0 ? _b : false\n            : (_d = ((_c = node.rows) === null || _c === void 0 ? void 0 : _c.length) > 0) !== null && _d !== void 0 ? _d : false;\n    });\n};\n/**\n *\n * @param nodeId an id of a cell\n * @returns true if this cell has a configured plugin. It does not check if this plugin exists (in @see Options)\n */\nexport var useCellHasPlugin = function (nodeId) {\n    return useCellProps(nodeId, function (c) { return Boolean(c.plugin); });\n};\n/**\n * @param parentNodeId the parent node id, or null if its the root\n * @returns all configured CellPlugin that are allowed in the given parentCellId\n */\nexport var useAllCellPluginsForNode = function (parentNodeId) {\n    var currentLang = useLang();\n    var ancestors = useNodeProps(parentNodeId, function (node, ancestors) {\n        return __spreadArray([node], __read(ancestors), false).reverse().map(function (a) {\n            var _a;\n            return {\n                pluginId: !a || isRow(a) ? null : (_a = a.plugin) === null || _a === void 0 ? void 0 : _a.id,\n                data: !a || isRow(a) ? null : getCellData(a, currentLang),\n            };\n        });\n    });\n    // pluginIdsOfAncestors is an array of ids, the last one is the\n    var rootCellPlugins = useRenderOption('cellPlugins');\n    return useMemo(function () {\n        return getAvailablePlugins(rootCellPlugins, ancestors);\n    }, [rootCellPlugins, ancestors]);\n};\nexport var useCellIsAllowedHere = function (nodeId) {\n    var availablePlugins = useAllCellPluginsForNode(nodeId);\n    return useCallback(function (item) {\n        var _a, _b, _c;\n        if (!(item === null || item === void 0 ? void 0 : item.cell)) {\n            return false;\n        }\n        var itemPluginId = typeof ((_a = item.cell) === null || _a === void 0 ? void 0 : _a.plugin) === 'string'\n            ? item.cell.plugin\n            : (_b = item.cell) === null || _b === void 0 ? void 0 : _b.plugin.id;\n        var allowed = !((_c = item.cell) === null || _c === void 0 ? void 0 : _c.plugin) ||\n            availablePlugins.some(function (p) { return p.id === itemPluginId; });\n        return allowed;\n    }, [availablePlugins]);\n};\n/**\n * Use this function to get the plugin of a cell.\n * @param nodeId an id of a cell\n * @returns the plugin of the given cell\n *\n */\nexport var usePluginOfCell = function (nodeId) {\n    var _a = useCellProps(nodeId, function (c, ancestors) {\n        var _a, _b;\n        return ({\n            pluginId: (_a = c === null || c === void 0 ? void 0 : c.plugin) === null || _a === void 0 ? void 0 : _a.id,\n            parentNodeId: (_b = ancestors === null || ancestors === void 0 ? void 0 : ancestors[0]) === null || _b === void 0 ? void 0 : _b.id,\n        });\n    }), pluginId = _a.pluginId, parentNodeId = _a.parentNodeId;\n    var plugins = useAllCellPluginsForNode(parentNodeId);\n    return plugins.find(function (p) { return p.id === pluginId; });\n};\n/**\n *\n * @param nodeId a cell id\n * @returns the raw localized data of the cell\n */\nexport var useCellDataI18nRaw = function (nodeId) {\n    return useCellProps(nodeId, function (c) { return c === null || c === void 0 ? void 0 : c.dataI18n; });\n};\n/**\n *\n * @param nodeId a cell id\n * @param lang a language key\n * @returns the data object in the given language of the given cell\n */\nexport var useCellData = function (nodeId, lang) {\n    var currentLang = useLang();\n    var theLang = lang !== null && lang !== void 0 ? lang : currentLang;\n    return useCellProps(nodeId, function (c) { var _a; return (_a = getCellData(c, theLang)) !== null && _a !== void 0 ? _a : {}; });\n};\n/**\n *returns style and classname of a cell's inner div\n * @param nodeId a cell id\n * @param lang a language key (optionally)\n * @returns the data object in the given language of the given cell\n */\nexport var useCellInnerDivStylingProps = function (nodeId, lang) {\n    var plugin = usePluginOfCell(nodeId);\n    var currentLang = useLang();\n    var theLang = lang !== null && lang !== void 0 ? lang : currentLang;\n    return useCellProps(nodeId, function (c) {\n        var data = getCellData(c, theLang);\n        return getCellInnerDivStylingProps(c, plugin, data);\n    });\n};\n/**\n *\n * @returns [data, onChangeData] pair, with setData debouncing the propagation\n * also data is always partially updated\n * @param nodeId the id of a cell\n */\nexport var useDebouncedCellData = function (nodeId) {\n    var cellData = useCellData(nodeId);\n    var _a = __read(useState(cellData), 2), setData = _a[1];\n    var dataRef = useRef(cellData);\n    var cellDataRef = useRef(cellData);\n    var updateCellData = useUpdateCellData(nodeId);\n    var updateCellDataDebounced = useCallback(debounce(function (options) {\n        cellDataRef.current = dataRef.current;\n        updateCellData(dataRef.current, options);\n    }, 200), [updateCellData]);\n    var changed = useMemo(function () { return !deepEquals(cellData, cellDataRef.current); }, [cellData]);\n    useEffect(function () {\n        // changed from \"outside\" overwrite whatever is pending\n        if (changed) {\n            cellDataRef.current = cellData;\n            dataRef.current = cellData;\n            setData(cellData);\n        }\n    }, [changed, cellData]);\n    var onChange = useCallback(function (partialData, options) {\n        dataRef.current = __assign(__assign({}, dataRef.current), partialData);\n        setData(dataRef.current);\n        updateCellDataDebounced(options);\n    }, [updateCellDataDebounced, setData]);\n    return [dataRef.current, onChange];\n};\n//# sourceMappingURL=node.js.map","import { DISPLAY_MODE_EDIT, DISPLAY_MODE_LAYOUT, DISPLAY_MODE_PREVIEW, DISPLAY_MODE_INSERT, DISPLAY_MODE_RESIZING, } from '../../actions/display';\nexport var isPreviewMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_PREVIEW;\n};\nexport var isLayoutMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_LAYOUT;\n};\nexport var isEditMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_EDIT;\n};\nexport var isInsertMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_INSERT;\n};\nexport var isResizeMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_RESIZING;\n};\n//# sourceMappingURL=index.js.map","import { useCallback } from 'react';\nimport { DISPLAY_MODE_EDIT, DISPLAY_MODE_INSERT, DISPLAY_MODE_LAYOUT, DISPLAY_MODE_PREVIEW, DISPLAY_MODE_RESIZING, setMode, } from '../../actions/display';\nimport { useDispatch, useSelector } from '../../reduxConnect';\nimport { isEditMode, isInsertMode, isLayoutMode, isPreviewMode, isResizeMode, } from '../../selector/display';\n/**\n * @returns true whether the editor is in edit mode\n */\nexport var useIsEditMode = function () {\n    return useSelector(isEditMode);\n};\n/**\n * @returns true whether the editor is in insert mode\n */\nexport var useIsInsertMode = function () {\n    return useSelector(isInsertMode);\n};\n/**\n * @returns true whether the editor is in layout mode\n */\nexport var useIsLayoutMode = function () {\n    return useSelector(isLayoutMode);\n};\n/**\n * @returns true whether the editor is in preview mode mode\n */\nexport var useIsPreviewMode = function () {\n    return useSelector(isPreviewMode);\n};\n/**\n * @returns true whether the editor is in resize mode mode\n */\nexport var useIsResizeMode = function () {\n    return useSelector(isResizeMode);\n};\n/**\n * @returns the current display mode\n */\nexport var useDisplayMode = function () {\n    return useSelector(function (state) { return state.reactPage.display.mode; });\n};\n/**\n * experimental, used internaly for the add new button.\n * @returns a referenced nodeId for the current display mode.\n *\n *\n */\nexport var useDisplayModeReferenceNodeId = function () {\n    return useSelector(function (state) { var _a, _b; return (_b = (_a = state.reactPage) === null || _a === void 0 ? void 0 : _a.display) === null || _b === void 0 ? void 0 : _b.referenceNodeId; });\n};\n/**\n * @returns function to set the display mode\n */\nexport var useSetMode = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (mode, referenceNodeId) {\n        dispatch(setMode(mode, referenceNodeId));\n    }, [dispatch]);\n};\n/**\n * @returns function to change to resize mode\n */\nexport var useSetResizeMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_RESIZING); }, [setMode]);\n};\n/**\n * @returns function to change to edit mode mode\n */\nexport var useSetEditMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_EDIT); }, [setMode]);\n};\n/**\n * @returns function to change to layout mode\n */\nexport var useSetLayoutMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_LAYOUT); }, [setMode]);\n};\n/**\n * @returns function to change to insert mode\n */\nexport var useSetInsertMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_INSERT); }, [setMode]);\n};\n/**\n * @returns function to change to preview mode\n */\nexport var useSetPreviewMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_PREVIEW); }, [setMode]);\n};\n//# sourceMappingURL=displayMode.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback } from 'react';\nimport { useDrop } from 'react-dnd';\nimport { getCommonAncestorTree } from '../../utils/ancestorTree';\nimport { blurAllCells } from '../../actions/cell';\nimport { blurCell, focusCell, removeCells, resizeCell, updateCellData, updateCellIsDraft, } from '../../actions/cell/core';\nimport { duplicateCell, duplicateNode, insertCellAtTheEnd, insertCellNewAsNewRow, } from '../../actions/cell/insert';\nimport { setDisplayReferenceNodeId } from '../../actions/display';\nimport { setLang } from '../../actions/setting';\nimport { useDispatch } from '../../reduxConnect';\nimport { isRow } from '../../types/node';\nimport { useAllCellPluginsForNode } from './node';\nimport { useEditorStore, useLang } from './options';\nimport { cloneWithNewIds } from '../../../core/utils/cloneWithNewIds';\nimport { useDisplayModeReferenceNodeId } from './displayMode';\n/**\n * @param id id of a node\n * @returns function, that sets a cell in draft mode (will be invisible in readonly / preview)\n */\nexport var useSetDraft = function (id) {\n    var dispatch = useDispatch();\n    return useCallback(function (isDraft, lang) {\n        return dispatch(updateCellIsDraft(id, isDraft, lang));\n    }, [dispatch, id]);\n};\n/**\n * @returns function to resize a cell\n */\nexport var useResizeCellById = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (nodeId, size) { return dispatch(resizeCell(nodeId)(size)); }, [dispatch]);\n};\n/**\n *\n * @param id a cell id\n * @returns a function to resize the given cell\n */\nexport var useResizeCell = function (id) {\n    var resizeById = useResizeCellById();\n    return useCallback(function (size) { return resizeById(id, size); }, [resizeById, id]);\n};\n/**\n *\n * @returns a function to change the current language\n */\nexport var useSetLang = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (lang) { return dispatch(setLang(lang)); }, [dispatch]);\n};\n/**\n *\n * @param id a cell id\n * @returns function to update the data of the given cell. Sets the data in the current language, unless options.lang is set\n */\nexport var useUpdateCellData = function (id) {\n    var dispatch = useDispatch();\n    var currentLang = useLang();\n    return useCallback(function (data, options) {\n        if (options === void 0) { options = {}; }\n        dispatch(updateCellData(id)(data, __assign({ notUndoable: false, lang: currentLang }, options)));\n    }, [dispatch, id, currentLang]);\n};\n/**\n * @returns a function to remove a cell by id\n */\nexport var useRemoveCellById = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (id) { return dispatch(removeCells([id])); }, [dispatch]);\n};\n/**\n * @param id a cell id\n * @returns a function to remove the given cell\n */\nexport var useRemoveCell = function (id) {\n    var removeById = useRemoveCellById();\n    return useCallback(function () { return removeById(id); }, [removeById, id]);\n};\n/**\n *\n * @returns a function to remove muliple nodeids\n */\nexport var useRemoveMultipleNodeIds = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (nodeIds) {\n        dispatch(removeCells(nodeIds));\n    }, [dispatch]);\n};\n/**\n * @returns a function that duplicates a cell\n */\nexport var useDuplicateCellById = function () {\n    var dispatch = useDispatch();\n    var editor = useEditorStore();\n    return useCallback(function (id) { return dispatch(duplicateCell(editor.getNode(id))); }, [dispatch]);\n};\nexport var useInsertAfter = function () {\n    var dispatch = useDispatch();\n    var insertNew = useInsertNew();\n    return useCallback(function (node, insertAfterNodeId) {\n        if (insertAfterNodeId) {\n            dispatch(duplicateNode(node, {\n                insertAfterNodeId: insertAfterNodeId,\n            }));\n        }\n        else {\n            // insert at the end\n            insertNew(cloneWithNewIds(node));\n        }\n    }, [dispatch, insertNew]);\n};\n/**\n * @returns a function that duplicates multiple cell\n */\nexport var useDuplicateMultipleCells = function () {\n    var editor = useEditorStore();\n    var insertAfter = useInsertAfter();\n    return useCallback(function (cellIds) {\n        var node = getCommonAncestorTree(editor, cellIds);\n        var insertAfterNodeId = isRow(node)\n            ? node.id\n            : node.rows[node.rows.length - 1].id;\n        insertAfter(node, insertAfterNodeId);\n    }, [editor, insertAfter]);\n};\n/**\n * @param a cell id\n * @returns a function that duplicates the given cell\n */\nexport var useDuplicateCell = function (id) {\n    var duplicate = useDuplicateCellById();\n    return useCallback(function () { return duplicate(id); }, [duplicate, id]);\n};\n/**\n * experimental\n * @returns function to set the reference node id. used internally\n */\nexport var useSetDisplayReferenceNodeId = function () {\n    var dispatch = useDispatch();\n    var referenceId = useDisplayModeReferenceNodeId();\n    return useCallback(function (nodeId) {\n        if (nodeId !== referenceId)\n            dispatch(setDisplayReferenceNodeId(nodeId));\n    }, [dispatch, referenceId]);\n};\n/**\n * @returns a function to focus a cell by id\n */\nexport var useFocusCellById = function () {\n    var dispatch = useDispatch();\n    var editor = useEditorStore();\n    return useCallback(function (id, scrollToCell, mode) {\n        var _a, _b, _c;\n        var parentCellId = (_c = (_b = (_a = editor\n            .getNodeWithAncestors(id)) === null || _a === void 0 ? void 0 : _a.ancestors) === null || _b === void 0 ? void 0 : _b.find(function (node) { return !isRow(node); })) === null || _c === void 0 ? void 0 : _c.id;\n        dispatch(setDisplayReferenceNodeId(parentCellId));\n        dispatch(focusCell(id, scrollToCell, mode));\n    }, [dispatch, editor]);\n};\n/**\n * @returns a function to focus a cell by id\n */\nexport var useFocusCell = function (id) {\n    var focusCellById = useFocusCellById();\n    return useCallback(function (scrollToCell, mode) {\n        return focusCellById(id, scrollToCell, mode);\n    }, [focusCellById]);\n};\n/**\n * @returns function to blur a cell by id\n */\nexport var useBlurCell = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (id) {\n        dispatch(blurCell(id));\n    }, [dispatch]);\n};\n/**\n * @returns function to blur all cells\n */\nexport var useBlurAllCells = function () {\n    var dispatch = useDispatch();\n    return useCallback(function () {\n        dispatch(blurAllCells());\n    }, [dispatch]);\n};\n/**\n * @returns function to insert a cell at the end of the document or the end of the parent cell\n *\n * if the id already exists, it will move that cell\n */\nexport var useInsertNew = function (parentCellId) {\n    var dispatch = useDispatch();\n    var cellPlugins = useAllCellPluginsForNode(parentCellId);\n    var editor = useEditorStore();\n    var lang = useLang();\n    return useCallback(function (partialCell) {\n        var action = parentCellId ? insertCellNewAsNewRow : insertCellAtTheEnd;\n        dispatch(action({\n            cellPlugins: cellPlugins,\n            lang: lang,\n        })(partialCell, { id: parentCellId }, { focusAfter: true }));\n    }, [dispatch, editor, cellPlugins, parentCellId]);\n};\n/**\n * used for the trash target\n */\nexport var useTrashDrop = function () {\n    var removeCell = useRemoveCellById();\n    return useDrop({\n        accept: 'cell',\n        collect: function (monitor) { return ({\n            isHovering: monitor.isOver({ shallow: true }),\n        }); },\n        drop: function (item, monitor) { return removeCell(item.cell.id); },\n    });\n};\n//# sourceMappingURL=nodeActions.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport { useCallback } from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useCellIsAllowedHere, useInsertNew, useSetDisplayReferenceNodeId, } from '../hooks';\nvar FallbackDropArea = function (_a) {\n    var children = _a.children;\n    var insertNew = useInsertNew();\n    var isAllowed = useCellIsAllowedHere();\n    var _b = __read(useDrop({\n        accept: 'cell',\n        canDrop: function (item) { return isAllowed(item); },\n        drop: function (item, monitor) {\n            // fallback drop\n            if (!monitor.didDrop()) {\n                insertNew(item.cell);\n            }\n        },\n    }), 2), dropRef = _b[1];\n    var setReference = useSetDisplayReferenceNodeId();\n    var clearReference = useCallback(function (e) {\n        var _a;\n        // if click was on the root, clear reference\n        if ((_a = e.target.classList) === null || _a === void 0 ? void 0 : _a.contains('react-page-editable'))\n            setReference(null);\n    }, [setReference]);\n    return (React.createElement(\"div\", { ref: dropRef, onClick: clearReference }, children));\n};\nexport default FallbackDropArea;\n//# sourceMappingURL=FallbackDropArea.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback } from 'react';\nimport { useDispatch, useSelector } from '../../reduxConnect';\nimport { setZoom } from '../../actions/display';\nimport { useOption } from './options';\nexport var useSetZoom = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (zoom) { return dispatch(setZoom(zoom)); }, [dispatch]);\n};\n/**\n * @returns the current zoom\n */\nexport var useZoom = function () {\n    return useSelector(function (state) { return state.reactPage.display.zoom; });\n};\nexport var useZoomOut = function () {\n    var zoom = useZoom();\n    var zoomFactors = useOption('zoomFactors');\n    var setZoom = useSetZoom();\n    return useCallback(function () {\n        var newZoom = zoomFactors.find(function (z) { return z < zoom; });\n        if (newZoom)\n            setZoom(newZoom);\n    }, [zoom, setZoom, zoomFactors]);\n};\nexport var useZoomIn = function () {\n    var zoom = useZoom();\n    var setZoom = useSetZoom();\n    var zoomFactors = useOption('zoomFactors');\n    return useCallback(function () {\n        var newZoom = __spreadArray([], __read(zoomFactors), false).reverse().find(function (z) { return z > zoom; });\n        if (newZoom)\n            setZoom(newZoom);\n    }, [zoom, setZoom, zoomFactors]);\n};\nexport var useCanZoomOut = function () {\n    var zoom = useZoom();\n    var zoomFactors = useOption('zoomFactors');\n    return zoomFactors.some(function (z) { return z < zoom; });\n};\nexport var useCanZoomIn = function () {\n    var zoom = useZoom();\n    var zoomFactors = useOption('zoomFactors');\n    return zoomFactors.some(function (z) { return z > zoom; });\n};\n//# sourceMappingURL=display.js.map","export default (function (element, offset, behavior) {\n    if (offset === void 0) { offset = 0; }\n    if (behavior === void 0) { behavior = 'smooth'; }\n    if (!element) {\n        return;\n    }\n    var bodyRect = document.body.getBoundingClientRect().top;\n    var elementRect = element.getBoundingClientRect().top;\n    var elementPosition = elementRect - bodyRect;\n    var offsetPosition = elementPosition - offset;\n    window.scrollTo({\n        top: offsetPosition,\n        behavior: behavior,\n    });\n});\n//# sourceMappingURL=scrollIntoViewWithOffset.js.map","import throttle from 'lodash.throttle';\nimport React, { useEffect } from 'react';\nimport scrollIntoViewWithOffset from '../../Cell/utils/scrollIntoViewWithOffset';\nimport { useDisplayMode } from '../../hooks';\nfunction isElementInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return (rect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom <=\n            (window.innerHeight ||\n                document.documentElement.clientHeight) /*or $(window).height() */ &&\n        rect.right <=\n            (window.innerWidth ||\n                document.documentElement.clientWidth) /*or $(window).width() */);\n}\nexport var useKeepScrollPosition = function (ref) {\n    var mode = useDisplayMode();\n    var firstElementInViewPortref = React.useRef();\n    useEffect(function () {\n        var onScroll = throttle(function () {\n            if (ref.current) {\n                var firstInViewport = Array.prototype.find.call(ref.current.getElementsByClassName('react-page-cell'), function (cell) { return isElementInViewport(cell); });\n                if (firstInViewport) {\n                    firstElementInViewPortref.current = {\n                        el: firstInViewport,\n                        topOffset: firstInViewport.getBoundingClientRect().top,\n                    };\n                }\n                else {\n                    firstElementInViewPortref.current = null;\n                }\n            }\n        }, 600);\n        window.addEventListener('scroll', onScroll);\n        return function () {\n            window.removeEventListener('scroll', onScroll);\n        };\n    }, []);\n    useEffect(function () {\n        if (firstElementInViewPortref.current) {\n            var _a = firstElementInViewPortref.current, el_1 = _a.el, topOffset_1 = _a.topOffset;\n            setTimeout(function () {\n                scrollIntoViewWithOffset(el_1, topOffset_1, 'auto');\n            }, 0);\n        }\n    }, [mode]);\n};\n//# sourceMappingURL=useKeepScrollPosition.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useCellIsAllowedHere, useInsertNew, useIsLayoutMode, useIsPreviewMode, useSetDisplayReferenceNodeId, useSetInsertMode, } from '../hooks';\nvar InsertNew = function (_a) {\n    var parentCellId = _a.parentCellId;\n    var setInsertMode = useSetInsertMode();\n    var insertNew = useInsertNew(parentCellId);\n    var isPreviewMode = useIsPreviewMode();\n    var isLayoutMode = useIsLayoutMode();\n    var setReferenceNodeId = useSetDisplayReferenceNodeId();\n    var checkIfAllowed = useCellIsAllowedHere(parentCellId);\n    var _b = __read(useDrop({\n        accept: 'cell',\n        canDrop: function (item) {\n            return checkIfAllowed(item);\n        },\n        collect: function (monitor) { return ({\n            isOver: monitor.isOver(),\n            isAllowed: checkIfAllowed(monitor.getItem()),\n        }); },\n        drop: function (item, monitor) {\n            // fallback drop\n            if (!monitor.didDrop()) {\n                insertNew(item.cell);\n            }\n        },\n    }), 2), _c = _b[0], isOver = _c.isOver, isAllowed = _c.isAllowed, dropRef = _b[1];\n    if (isPreviewMode)\n        return null;\n    return (React.createElement(\"div\", { ref: dropRef, className: 'react-page-cell-insert-new' + (isOver && isAllowed ? ' hover' : ''), style: {\n            pointerEvents: 'all',\n            zIndex: isLayoutMode ? 10 : 1,\n            overflow: 'hidden',\n            width: '50%',\n            minWidth: 120,\n            margin: 'auto',\n            cursor: isOver && !isAllowed ? 'not-allowed' : 'pointer',\n        }, onClick: function (e) {\n            e.stopPropagation();\n            setReferenceNodeId(parentCellId);\n            setInsertMode();\n        } }));\n};\nexport default React.memo(InsertNew);\n//# sourceMappingURL=InsertNew.js.map","export var noop = function () { };\nexport function on(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.addEventListener) {\n        obj.addEventListener.apply(obj, args);\n    }\n}\nexport function off(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.removeEventListener) {\n        obj.removeEventListener.apply(obj, args);\n    }\n}\nexport var isBrowser = typeof window !== 'undefined';\nexport var isNavigator = typeof navigator !== 'undefined';\n","import { useEffect, useLayoutEffect } from 'react';\nimport { isBrowser } from './misc/util';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n","import { useMemo, useState } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { isBrowser, noop } from './misc/util';\nvar defaultState = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n};\nfunction useMeasure() {\n    var _a = useState(null), element = _a[0], ref = _a[1];\n    var _b = useState(defaultState), rect = _b[0], setRect = _b[1];\n    var observer = useMemo(function () {\n        return new window.ResizeObserver(function (entries) {\n            if (entries[0]) {\n                var _a = entries[0].contentRect, x = _a.x, y = _a.y, width = _a.width, height = _a.height, top_1 = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n                setRect({ x: x, y: y, width: width, height: height, top: top_1, left: left, bottom: bottom, right: right });\n            }\n        });\n    }, []);\n    useIsomorphicLayoutEffect(function () {\n        if (!element)\n            return;\n        observer.observe(element);\n        return function () {\n            observer.disconnect();\n        };\n    }, [element]);\n    return [ref, rect];\n}\nexport default isBrowser && typeof window.ResizeObserver !== 'undefined'\n    ? useMeasure\n    : (function () { return [noop, defaultState]; });\n","import { useMemo } from 'react';\nimport { cancelCellDrag, cellHoverAbove, cellHoverBelow, cellHoverInlineLeft, cellHoverInlineRight, cellHoverLeftOf, cellHoverRightOf, clearHover, dragCell, } from '../../actions/cell';\nimport { insertCellAbove, insertCellBelow, insertCellLeftInline, insertCellLeftOf, insertCellRightInline, insertCellRightOf, } from '../../actions/cell/insert';\nimport { useDispatch } from '../../reduxConnect';\nimport { useAllCellPluginsForNode } from './node';\nimport { useLang } from './options';\n/**\n * @returns object of actions for hovering\n */\nexport var useHoverActions = function () {\n    var dispatch = useDispatch();\n    return useMemo(function () { return ({\n        dragCell: function (id) { return dispatch(dragCell(id)); },\n        clear: function () { return dispatch(clearHover()); },\n        cancelCellDrag: function () { return dispatch(cancelCellDrag()); },\n        above: function (drag, hover, options) {\n            return dispatch(cellHoverAbove(drag, hover, options === null || options === void 0 ? void 0 : options.level));\n        },\n        below: function (drag, hover, options) {\n            return dispatch(cellHoverBelow(drag, hover, options === null || options === void 0 ? void 0 : options.level));\n        },\n        leftOf: function (drag, hover, options) {\n            return dispatch(cellHoverLeftOf(drag, hover, options === null || options === void 0 ? void 0 : options.level));\n        },\n        rightOf: function (drag, hover, options) {\n            return dispatch(cellHoverRightOf(drag, hover, options === null || options === void 0 ? void 0 : options.level));\n        },\n        inlineLeft: function (drag, hover) { return dispatch(cellHoverInlineLeft(drag, hover)); },\n        inlineRight: function (drag, hover) { return dispatch(cellHoverInlineRight(drag, hover)); },\n    }); }, [dispatch]);\n};\n/**\n * @param nodeId the parent reference node id\n * @returns object of actions for dropping a cell\n */\nexport var useDropActions = function (parentNodeId) {\n    var dispatch = useDispatch();\n    var lang = useLang();\n    var cellPlugins = useAllCellPluginsForNode(parentNodeId);\n    return useMemo(function () { return ({\n        above: function (drag, hover, level) {\n            return dispatch(insertCellAbove({ cellPlugins: cellPlugins, lang: lang })(drag, hover, level));\n        },\n        below: function (drag, hover, level) {\n            return dispatch(insertCellBelow({ cellPlugins: cellPlugins, lang: lang })(drag, hover, level));\n        },\n        leftOf: function (drag, hover, level) {\n            return dispatch(insertCellLeftOf({ cellPlugins: cellPlugins, lang: lang })(drag, hover, level));\n        },\n        rightOf: function (drag, hover, level) {\n            return dispatch(insertCellRightOf({ cellPlugins: cellPlugins, lang: lang })(drag, hover, level));\n        },\n        inlineLeft: function (drag, hover) {\n            return dispatch(insertCellLeftInline({ cellPlugins: cellPlugins, lang: lang })(drag, hover));\n        },\n        inlineRight: function (drag, hover) {\n            return dispatch(insertCellRightInline({ cellPlugins: cellPlugins, lang: lang })(drag, hover));\n        },\n        dragCell: function (id) { return dispatch(dragCell(id)); },\n        clear: function () { return dispatch(clearHover()); },\n        cancelCellDrag: function () { return dispatch(cancelCellDrag()); },\n    }); }, [dispatch, lang, cellPlugins]);\n};\n//# sourceMappingURL=dragDropActions.js.map","import { isProduction } from '../../const';\nexport var delay = isProduction ? 40 : 60;\n//# sourceMappingURL=index.js.map","// tslint:disable:no-console\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar trace = function () {\n    var e = new Error('dummy');\n    return e.stack\n        .replace(/^[^(]+?[\\n$]/gm, '')\n        .replace(/^\\s+at\\s+/gm, '')\n        .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@')\n        .split('\\n');\n};\nvar Logger = /** @class */ (function () {\n    function Logger() {\n    }\n    /**\n     * Logs a warning. Warnings are things that are exceptional, but easily to recover from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.warn.apply(console, __spreadArray(['Warning:'], __read(args), false));\n    };\n    /**\n     * Logs a debug message. Debug messages are things that help developers debugging things.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spreadArray(['Debug:'], __read(args), false));\n    };\n    /**\n     * Logs an info. Infos are things that might be interesting for someone who needs to take a closer look.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spreadArray(['Info:'], __read(args), false));\n    };\n    /**\n     * Logs an error. Error are things that are exceptional, but can be recovered from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.error.apply(console, __spreadArray(['Error:'], __read(args), false));\n        console.error('Trace:', trace());\n    };\n    /**\n     * Logs a fatal error. Fatal errors are things that are exceptional and can not be recovered from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.fatal = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.error.apply(console, __spreadArray(['Fatal:'], __read(args), false));\n        console.error('Trace:', trace());\n        throw new Error(args.join(' '));\n    };\n    /**\n     * Logs a message.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.log = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spreadArray(['Fatal:'], __read(args), false));\n        console.log('Trace:', trace());\n    };\n    return Logger;\n}());\nexport { Logger };\nvar instance = new Logger();\nexport default instance;\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar _a;\nimport { isRow } from '../../types';\nimport deepEquals from '../../utils/deepEquals';\nimport logger from '../logger';\n/**\n * NO (None): No drop zone.\n *\n * Corners are counted clockwise, beginning top left\n * C1 (Corner top left): Position decided by top left corner function\n * C2 (Corner top right): Position decided by top right corner function\n * C3 (Corner bottom right): Position decided by bottom right corner function\n * C4 (Corner bottom left): Position decided by bottom left corner function\n *\n * Above:\n * AH (Above here): above, same level\n * AA (Above of self or some ancestor): Above, compute active level using classification functions, e.g. log, sin, mx + t\n *\n * Below:\n * BH (Below here)\n * BA (Below of self or some ancestor)\n *\n * Left of:\n * LH (Left of here)\n * LA (Left of self or some ancestor)\n *\n * Right of:\n * RH (Right of here)\n * RA (Right of self or some ancestor)\n *\n * Inside / inline\n * IL (Inline left)\n * IR (Inline right)\n */\nexport var classes = {\n    NO: 0,\n    C1: 10,\n    C2: 11,\n    C3: 12,\n    C4: 13,\n    AH: 200,\n    AA: 201,\n    BH: 210,\n    BA: 211,\n    LH: 220,\n    LA: 221,\n    RH: 230,\n    RA: 231,\n    IL: 300,\n    IR: 301,\n};\nvar c = classes;\n/**\n * A list of matrices that are used to define the callback function.\n *\n * @type {{10x10: *[], 10x10-no-inline: *[]}}\n */\nvar MATRIX_LIST = {\n    '10x10': [\n        [c.C1, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.C2],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C1, c.C2, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C4, c.C3, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C4, c.BH, c.BH, c.C3, c.IR, c.RH, c.RA],\n        [c.LA, c.LH, c.C4, c.BH, c.BH, c.BH, c.BH, c.C3, c.RH, c.RA],\n        [c.LA, c.C4, c.BH, c.BH, c.BH, c.BH, c.BH, c.BH, c.C3, c.RA],\n        [c.C4, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.C3],\n    ],\n    '10x10-no-inline': [\n        [c.C1, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.C2],\n        [c.LA, c.C1, c.AH, c.AH, c.AH, c.AH, c.AH, c.AH, c.C2, c.RA],\n        [c.LA, c.LH, c.C1, c.AH, c.AH, c.AH, c.AH, c.C2, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C1, c.AH, c.AH, c.C2, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C1, c.C2, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C4, c.C3, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C4, c.BH, c.BH, c.C3, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.C4, c.BH, c.BH, c.BH, c.BH, c.C3, c.RH, c.RA],\n        [c.LA, c.C4, c.BH, c.BH, c.BH, c.BH, c.BH, c.BH, c.C3, c.RA],\n        [c.C4, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.C3],\n    ],\n};\n/**\n * Computes the average width and height for cells in a room.\n *\n * @param room\n * @param matrix\n * @returns {{x: number, y: number}}\n */\nvar getRoomScale = function (_a) {\n    var room = _a.room, matrix = _a.matrix;\n    var rows = matrix.length;\n    var cells = matrix[0].length;\n    var scalingX = room.width / cells;\n    var scalingY = room.height / rows;\n    return {\n        x: scalingX,\n        y: scalingY,\n    };\n};\n/**\n * Returns the index of the hover cell.\n *\n * @param mouse\n * @param scale\n */\nvar getMouseHoverCell = function (_a) {\n    var mouse = _a.mouse, scale = _a.scale;\n    return ({\n        cell: Math.floor(mouse.x / scale.x),\n        row: Math.floor(mouse.y / scale.y),\n    });\n};\n/**\n * Used for caching.\n */\nvar last = { '10x10': null, '10x10-no-inline': null };\nexport var computeHover = function (drag, hover, actions, _a) {\n    var _b, _c;\n    var room = _a.room, mouse = _a.mouse, cellPlugins = _a.cellPlugins;\n    var allowInlineNeighbours = (_c = (_b = cellPlugins.find(function (p) { return p.id === hover.pluginId; })) === null || _b === void 0 ? void 0 : _b.allowInlineNeighbours) !== null && _c !== void 0 ? _c : false;\n    var matrixName = \"10x10\" + (allowInlineNeighbours ? '' : '-no-inline');\n    var matrix = MATRIX_LIST[matrixName];\n    var scale = getRoomScale({ room: room, matrix: matrix });\n    var hoverCell = getMouseHoverCell({ mouse: mouse, scale: scale });\n    var rows = matrix.length;\n    var cells = matrix[0].length;\n    if (hoverCell.row >= rows) {\n        hoverCell.row = rows - 1;\n    }\n    else if (hoverCell.row < 0) {\n        hoverCell.row = 0;\n    }\n    if (hoverCell.cell >= cells) {\n        hoverCell.cell = cells - 1;\n    }\n    else if (hoverCell.cell < 0) {\n        hoverCell.cell = 0;\n    }\n    var cell = matrix[hoverCell.row][hoverCell.cell];\n    if (!CALLBACK_LIST[cell]) {\n        logger.error('Matrix callback not found.', {\n            room: room,\n            mouse: mouse,\n            matrix: matrix,\n            scale: scale,\n            hoverCell: hoverCell,\n            rows: rows,\n            cells: cells,\n        });\n        return;\n    }\n    var all = {\n        item: drag.id,\n        hover: hover.id,\n        actions: actions,\n        ctx: {\n            room: room,\n            mouse: mouse,\n            position: hoverCell,\n            size: { rows: rows, cells: cells },\n            scale: scale,\n        },\n    };\n    if (deepEquals(all, last[matrixName])) {\n        return;\n    }\n    last[matrixName] = all;\n    return CALLBACK_LIST[cell](drag, hover, actions, {\n        room: room,\n        mouse: mouse,\n        position: hoverCell,\n        size: { rows: rows, cells: cells },\n        cellPlugins: cellPlugins,\n        scale: scale,\n    });\n};\n/**\n * Return the mouse position relative to the cell.\n */\nvar relativeMousePosition = function (_a) {\n    var mouse = _a.mouse, position = _a.position, scale = _a.scale;\n    return ({\n        x: Math.round(mouse.x - position.cell * scale.x),\n        y: Math.round(mouse.y - position.row * scale.y),\n    });\n};\n/**\n * Computes the drop level based on the mouse position and the cell width.\n */\nexport var computeLevel = function (_a) {\n    var size = _a.size, levels = _a.levels, position = _a.position;\n    if (size <= (levels + 1) * 2) {\n        return Math.round(position / (size / levels));\n    }\n    var spare = size - (levels + 1) * 2;\n    var steps = [0];\n    var current = spare;\n    for (var i = 0; i <= levels; i++) {\n        steps.push(steps[i] + current / 2);\n        current /= 2;\n        if (position >= steps[i] + i * 2 && position < steps[i + 1] + (i + 1) * 2) {\n            return i;\n        }\n    }\n    return levels;\n};\n/**\n * Computes the horizontal drop level based on the mouse position.\n *\n * @param mouse\n * @param position\n * @param hover\n * @param scale\n * @param level\n * @param inv returns the inverse drop level. Usually true for left and above drop level computation.\n * @returns number\n */\nvar computeHorizontal = function (_a, inv) {\n    var mouse = _a.mouse, position = _a.position, hover = _a.hover, scale = _a.scale, level = _a.level;\n    if (inv === void 0) { inv = false; }\n    var x = relativeMousePosition({ mouse: mouse, position: position, scale: scale }).x;\n    var at = computeLevel({ size: scale.x, position: x, levels: level });\n    if (isRow(hover)) {\n        // Is row, always opt for lowest level\n        return level;\n    }\n    // If the hovered element is an inline element, level 0 would be directly besides it which doesn't work.\n    // Set it to 1 instead.\n    if (hover.inline && at === 0) {\n        at = 1;\n    }\n    return inv ? level - at : at;\n};\n/**\n * Computes the vertical drop level based on the mouse position.\n *\n * @returns number\n */\nvar computeVertical = function (_a, inv) {\n    var level = _a.level, mouse = _a.mouse, hover = _a.hover, position = _a.position, scale = _a.scale;\n    if (inv === void 0) { inv = false; }\n    var y = relativeMousePosition({ mouse: mouse, position: position, scale: scale }).y;\n    var at = computeLevel({ size: scale.y, position: y, levels: level });\n    if (isRow(hover)) {\n        // Is row, always opt for lowest level\n        return level;\n    }\n    // If the hovered element is an inline element, level 0 would be directly besides it which doesn't work.\n    // Set it to 1 instead.\n    if (hover.inline && at === 0) {\n        at = 1;\n    }\n    return inv ? level - at : at;\n};\nvar getDropLevel = function (hover) {\n    return !isRow(hover) && hover.inline ? 1 : 0;\n};\n/**\n * A list of callbacks.\n */\nexport var CALLBACK_LIST = (_a = {},\n    _a[c.NO] = function (item, hover, _a) {\n        var clear = _a.clear;\n        return clear();\n    },\n    /* corners */\n    _a[c.C1] = function (item, hover, _a, ctx) {\n        var leftOf = _a.leftOf, above = _a.above;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x < mouse.y) {\n            return leftOf(item, hover, { level: level });\n        }\n        above(item, hover, { level: level });\n    },\n    _a[c.C2] = function (item, hover, _a, ctx) {\n        var rightOf = _a.rightOf, above = _a.above;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x > mouse.y) {\n            return rightOf(item, hover, { level: level });\n        }\n        above(item, hover, { level: level });\n    },\n    _a[c.C3] = function (item, hover, _a, ctx) {\n        var rightOf = _a.rightOf, below = _a.below;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x > mouse.y) {\n            return rightOf(item, hover, { level: level });\n        }\n        below(item, hover, { level: level });\n    },\n    _a[c.C4] = function (item, hover, _a, ctx) {\n        var leftOf = _a.leftOf, below = _a.below;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x < mouse.y) {\n            return leftOf(item, hover, { level: level });\n        }\n        below(item, hover, { level: level });\n    },\n    /* heres */\n    _a[c.AH] = function (item, hover, _a) {\n        var above = _a.above;\n        var level = getDropLevel(hover);\n        above(item, hover, { level: level });\n    },\n    _a[c.BH] = function (item, hover, _a) {\n        var below = _a.below;\n        var level = getDropLevel(hover);\n        below(item, hover, { level: level });\n    },\n    _a[c.LH] = function (item, hover, _a) {\n        var leftOf = _a.leftOf;\n        var level = getDropLevel(hover);\n        leftOf(item, hover, { level: level });\n    },\n    _a[c.RH] = function (item, hover, _a) {\n        var rightOf = _a.rightOf;\n        var level = getDropLevel(hover);\n        rightOf(item, hover, { level: level });\n    },\n    /* ancestors */\n    _a[c.AA] = function (item, hover, _a, ctx) {\n        var above = _a.above;\n        return above(item, hover, {\n            level: computeVertical(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.above }), true),\n        });\n    },\n    _a[c.BA] = function (item, hover, _a, ctx) {\n        var below = _a.below;\n        return below(item, hover, {\n            level: computeVertical(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.below })),\n        });\n    },\n    _a[c.LA] = function (item, hover, _a, ctx) {\n        var leftOf = _a.leftOf;\n        return leftOf(item, hover, {\n            level: computeHorizontal(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.left }), true),\n        });\n    },\n    _a[c.RA] = function (item, hover, _a, ctx) {\n        var rightOf = _a.rightOf;\n        return rightOf(item, hover, {\n            level: computeHorizontal(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.right })),\n        });\n    },\n    /* inline */\n    _a[c.IL] = function (item, hover, _a, _b) {\n        var _c;\n        var inlineLeft = _a.inlineLeft, leftOf = _a.leftOf;\n        var cellPlugins = _b.cellPlugins;\n        if (isRow(item) || isRow(hover)) {\n            return;\n        }\n        var inline = hover.inline, hasInlineNeighbour = hover.hasInlineNeighbour;\n        var plugin = cellPlugins.find(function (p) {\n            var _a;\n            return p.id ===\n                (typeof item.plugin === 'string' ? item.plugin : (_a = item.plugin) === null || _a === void 0 ? void 0 : _a.id);\n        });\n        var isInlineable = (_c = plugin === null || plugin === void 0 ? void 0 : plugin.isInlineable) !== null && _c !== void 0 ? _c : false;\n        if (inline || !isInlineable) {\n            return leftOf(item, hover, { level: 2 });\n        }\n        if (hasInlineNeighbour && hasInlineNeighbour !== item.id) {\n            return leftOf(item, hover, { level: 2 });\n        }\n        if (hasInlineNeighbour &&\n            hasInlineNeighbour === item.id &&\n            item.inline === 'left') {\n            return leftOf(item, hover, { level: 2 });\n        }\n        inlineLeft(item, hover);\n    },\n    _a[c.IR] = function (item, hover, _a, _b) {\n        var _c;\n        var inlineRight = _a.inlineRight, rightOf = _a.rightOf;\n        var cellPlugins = _b.cellPlugins;\n        if (isRow(item) || isRow(hover)) {\n            return;\n        }\n        var inline = hover.inline, hasInlineNeighbour = hover.hasInlineNeighbour;\n        var plugin = cellPlugins.find(function (p) {\n            var _a;\n            return p.id ===\n                (typeof item.plugin === 'string' ? item.plugin : (_a = item.plugin) === null || _a === void 0 ? void 0 : _a.id);\n        });\n        var isInlineable = (_c = plugin === null || plugin === void 0 ? void 0 : plugin.isInlineable) !== null && _c !== void 0 ? _c : false;\n        if (inline || !isInlineable) {\n            return rightOf(item, hover, { level: 2 });\n        }\n        if (hasInlineNeighbour && hasInlineNeighbour !== item.id) {\n            return rightOf(item, hover, { level: 2 });\n        }\n        if (hasInlineNeighbour &&\n            hasInlineNeighbour === item.id &&\n            item.inline === 'right') {\n            return rightOf(item, hover, { level: 2 });\n        }\n        inlineRight(item, hover);\n    },\n    _a);\n//# sourceMappingURL=computeHover.js.map","import { computeHover } from './computeHover';\nvar computeCurrentDropPosition = function (actions, hover, drag, monitor, element, cellPlugins) {\n    var mousePosition = monitor.getClientOffset();\n    var componentPosition = element.getBoundingClientRect();\n    var room = {\n        height: componentPosition.bottom - componentPosition.top,\n        width: componentPosition.right - componentPosition.left,\n    };\n    var mouse = {\n        y: mousePosition.y - componentPosition.top,\n        x: mousePosition.x - componentPosition.left,\n    };\n    computeHover(drag, hover, actions, {\n        room: room,\n        mouse: mouse,\n        cellPlugins: cellPlugins,\n    });\n};\nexport var computeAndDispatchInsert = function (hover, drag, monitor, element, actions, cellPlugins) {\n    return computeCurrentDropPosition(actions, hover, drag, monitor, element, cellPlugins);\n};\nexport var computeAndDispatchHover = function (hover, drag, monitor, element, actions, cellPlugins) {\n    return computeCurrentDropPosition(actions, hover, drag, monitor, element, cellPlugins);\n};\n//# sourceMappingURL=input.js.map","import throttle from 'lodash.throttle';\nimport { delay } from '../../../../helper/throttle';\nimport { computeAndDispatchHover, computeAndDispatchInsert, } from '../../../../service/hover/input';\nimport logger from '../../../../service/logger';\nvar last = { hoverId: '', dragId: '' };\nvar shouldClear = function (hoverId, dragId) {\n    if (hoverId === last.hoverId && dragId === last.dragId) {\n        return false;\n    }\n    last = { hoverId: hoverId, dragId: dragId };\n    return true;\n};\nexport var onHover = throttle(function (target, monitor, element, actions, cellPlugins) {\n    var drag = monitor.getItem();\n    if (!drag || !target) {\n        // item undefined, happens when throttle triggers after drop\n        return;\n    }\n    if (drag.cell.id === target.id) {\n        // If hovering over itself, do nothing\n        if (shouldClear(target.id, drag.cell.id)) {\n            actions.clear();\n        }\n        return;\n    }\n    else if (!monitor.isOver({ shallow: true })) {\n        // If hovering over ancestor cell, do nothing (we are going to propagate later in the tree anyways)\n        return;\n    }\n    else if (target.ancestorIds.includes(drag.cell.id)) {\n        if (shouldClear(target.id, drag.cell.id)) {\n            actions.clear();\n        }\n        return;\n    }\n    else if (!target.id) {\n        // If hovering over something that isn't a cell or hasn't an id, do nothing. Should be an edge case\n        logger.warn('Canceled cell drop, no id given.', target, drag);\n        return;\n    }\n    last = { hoverId: target.id, dragId: drag.cell.id };\n    computeAndDispatchHover(target, drag.cell, monitor, element, actions, cellPlugins);\n}, delay, { leading: false });\nexport var onDrop = function (target, monitor, element, actions, cellPlugins) {\n    var drag = monitor.getItem();\n    if (monitor.didDrop() || !monitor.isOver({ shallow: true }) || !target) {\n        // If the item drop occurred deeper down the tree, don't do anything\n        return;\n    }\n    else if (drag.cell.id === target.id) {\n        // If the item being dropped on itself do nothing\n        actions.cancelCellDrag();\n        return;\n    }\n    else if (target.ancestorIds.includes(drag.cell.id)) {\n        // If hovering over a child of itself, don't propagate further\n        actions.cancelCellDrag();\n        return;\n    }\n    last = { hoverId: target.id, dragId: drag.cell.id };\n    computeAndDispatchInsert(target, drag.cell, monitor, element, actions, cellPlugins);\n};\n//# sourceMappingURL=dnd.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport classNames from 'classnames';\nimport React, { useCallback, useEffect } from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useSelector } from '../../../reduxConnect';\nimport { useNodeAsHoverTarget, useCellHasPlugin, useCellIsAllowedHere, useCellSpacing, useDropActions, useHoverActions, useIsInsertMode, useIsLayoutMode, useNodeHoverPosition, usePluginOfCell, useOption, useAllCellPluginsForNode, } from '../../hooks';\nimport { onDrop, onHover } from './helper/dnd';\nexport var useCellDrop = function (nodeId) {\n    var _a;\n    var ref = React.useRef(null);\n    var hoverTarget = useNodeAsHoverTarget(nodeId);\n    var targetParentNodeId = (_a = hoverTarget === null || hoverTarget === void 0 ? void 0 : hoverTarget.ancestorIds) === null || _a === void 0 ? void 0 : _a[0];\n    var checkIfAllowed = useCellIsAllowedHere(targetParentNodeId);\n    var plugin = usePluginOfCell(nodeId);\n    var cellPlugins = useAllCellPluginsForNode(targetParentNodeId);\n    var hoverActions = useHoverActions();\n    var dropActions = useDropActions(targetParentNodeId);\n    var isHoveringOverThis = useSelector(function (state) { var _a; return ((_a = state.reactPage.hover) === null || _a === void 0 ? void 0 : _a.nodeId) === nodeId; });\n    var _b = __read(useDrop({\n        accept: 'cell',\n        canDrop: function (item) {\n            // check if plugin is allowed here\n            if (!checkIfAllowed(item)) {\n                return false;\n            }\n            if (plugin === null || plugin === void 0 ? void 0 : plugin.allowNeighbour) {\n                if (!plugin.allowNeighbour(item.cell)) {\n                    return false;\n                }\n            }\n            return (item.cell.id !== nodeId &&\n                !(hoverTarget === null || hoverTarget === void 0 ? void 0 : hoverTarget.ancestorIds.includes(item.cell.id)));\n        },\n        collect: function (monitor) { return ({\n            isOver: monitor.isOver(),\n            isAllowed: checkIfAllowed(monitor.getItem()),\n        }); },\n        hover: function (item, monitor) {\n            if (plugin === null || plugin === void 0 ? void 0 : plugin.allowNeighbour) {\n                if (!plugin.allowNeighbour(item.cell)) {\n                    return false;\n                }\n            }\n            onHover(hoverTarget, monitor, ref.current, hoverActions, cellPlugins);\n        },\n        drop: function (item, monitor) {\n            onDrop(hoverTarget, monitor, ref.current, dropActions, cellPlugins);\n        },\n    }), 2), _c = _b[0], isOver = _c.isOver, isAllowed = _c.isAllowed, dropRef = _b[1];\n    useEffect(function () {\n        if (!isOver && isHoveringOverThis) {\n            hoverActions.clear();\n        }\n    }, [isOver, isHoveringOverThis, hoverActions.clear]);\n    // see https://github.com/react-dnd/react-dnd/issues/1955\n    var attach = useCallback(function (domElement) {\n        dropRef(domElement);\n        ref.current = domElement;\n        // use dom element here for measuring\n    }, [dropRef]);\n    return [attach, isAllowed];\n};\nvar Droppable = function (props) {\n    var _a;\n    var isLayoutMode = useIsLayoutMode();\n    var isInsertMode = useIsInsertMode();\n    var _b = __read(useCellDrop(props.nodeId), 2), attach = _b[0], isAllowed = _b[1];\n    var hoverPosition = useNodeHoverPosition(props.nodeId);\n    var allowMoveInEditMode = useOption('allowMoveInEditMode');\n    var hasPlugin = useCellHasPlugin(props.nodeId);\n    var cellSpacingY = useCellSpacing().y;\n    var needVerticalMargin = !props.isLeaf && !hasPlugin;\n    if (!(isLayoutMode || isInsertMode) && !allowMoveInEditMode) {\n        return (React.createElement(\"div\", { className: 'react-page-cell-droppable-container' }, props.children));\n    }\n    return (React.createElement(\"div\", { ref: attach, style: {\n            height: '100%',\n        }, className: \"react-page-cell-droppable\" },\n        React.createElement(\"div\", { style: {\n                position: 'absolute',\n                pointerEvents: 'none',\n                top: needVerticalMargin ? cellSpacingY / 2 + \"px\" : 0,\n                left: 0,\n                bottom: needVerticalMargin ? cellSpacingY / 2 + \"px\" : 0,\n                right: 0,\n            }, className: classNames((_a = {\n                    'react-page-cell-droppable-not-allowed': !isAllowed,\n                    'react-page-cell-droppable-is-over-current': isAllowed && hoverPosition\n                },\n                _a[\"react-page-cell-droppable-is-over-\" + hoverPosition] = isAllowed && hoverPosition,\n                _a['react-page-cell-droppable-leaf'] = props.isLeaf,\n                _a)) }),\n        props.children));\n};\nexport default Droppable;\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport { useCellDrop } from '../../Cell/Droppable';\nimport { useIsInsertMode, useIsLayoutMode } from '../../hooks';\nvar Droppable = function (_a) {\n    var children = _a.children, nodeId = _a.nodeId;\n    var isLayoutMode = useIsLayoutMode();\n    var isInsertMode = useIsInsertMode();\n    var _b = __read(useCellDrop(nodeId), 2), ref = _b[0], isAllowed = _b[1];\n    if (!(isLayoutMode || isInsertMode)) {\n        return React.createElement(\"div\", { className: \"react-page-row-droppable-container\" }, children);\n    }\n    return (React.createElement(\"div\", { ref: ref, className: \"react-page-row-droppable\" }, children));\n};\nexport default Droppable;\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { useIsEditMode, useRemoveCell, useUiTranslator } from '../../hooks';\nvar ErrorCell = function (_a) {\n    var nodeId = _a.nodeId, error = _a.error;\n    var isEditMode = useIsEditMode();\n    var removeCell = useRemoveCell(nodeId);\n    var t = useUiTranslator().t;\n    return (React.createElement(\"div\", { className: \"react-page-cell-error\" },\n        React.createElement(\"strong\", null, t('An error occurred!')),\n        React.createElement(\"small\", null,\n            React.createElement(\"dl\", null,\n                React.createElement(\"dt\", null, t('Cause:')),\n                React.createElement(\"dd\", null, error.message),\n                React.createElement(\"dt\", null, t('Cell:')),\n                React.createElement(\"dd\", null, nodeId))),\n        isEditMode ? (React.createElement(\"button\", { onClick: function () { return removeCell(); } }, t('Remove'))) : null));\n};\nexport default ErrorCell;\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DragSourceImpl = /*#__PURE__*/function () {\n  function DragSourceImpl(spec, monitor, connector) {\n    _classCallCheck(this, DragSourceImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"connector\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n  _createClass(DragSourceImpl, [{\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      var _result;\n\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var result = null;\n\n      if (_typeof(spec.item) === 'object') {\n        result = spec.item;\n      } else if (typeof spec.item === 'function') {\n        result = spec.item(monitor);\n      } else {\n        result = {};\n      }\n\n      return (_result = result) !== null && _result !== void 0 ? _result : null;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (typeof spec.canDrag === 'boolean') {\n        return spec.canDrag;\n      } else if (typeof spec.canDrag === 'function') {\n        return spec.canDrag(monitor);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, target) {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var isDragging = spec.isDragging;\n      return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var connector = this.connector;\n      var end = spec.end;\n\n      if (end) {\n        end(monitor.getItem(), monitor);\n      }\n\n      connector.reconnect();\n    }\n  }]);\n\n  return DragSourceImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerSource } from '../../internals';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useDragSource } from './useDragSource';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useDragType } from './useDragType';\nexport function useRegisteredDragSource(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useDragSource(spec, monitor, connector);\n  var itemType = useDragType(spec);\n  useIsomorphicLayoutEffect(function registerDragSource() {\n    if (itemType != null) {\n      var _registerSource = registerSource(itemType, handler, manager),\n          _registerSource2 = _slicedToArray(_registerSource, 2),\n          handlerId = _registerSource2[0],\n          unregister = _registerSource2[1];\n\n      monitor.receiveHandlerId(handlerId);\n      connector.receiveHandlerId(handlerId);\n      return unregister;\n    }\n  }, [manager, monitor, connector, handler, itemType]);\n}","import { useEffect, useMemo } from 'react';\nimport { DragSourceImpl } from './DragSourceImpl';\nexport function useDragSource(spec, monitor, connector) {\n  var handler = useMemo(function () {\n    return new DragSourceImpl(spec, monitor, connector);\n  }, [monitor, connector]);\n  useEffect(function () {\n    handler.spec = spec;\n  }, [spec]);\n  return handler;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\nexport function useDragType(spec) {\n  return useMemo(function () {\n    var result = spec.type;\n    invariant(result != null, 'spec.type must be defined');\n    return result;\n  }, [spec]);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"sourceId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  // The drag preview may either be attached via ref or connect function\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dragSourceRef\", null);\n\n    _defineProperty(this, \"dragSourceNode\", void 0);\n\n    _defineProperty(this, \"dragSourceOptionsInternal\", null);\n\n    _defineProperty(this, \"dragSourceUnsubscribe\", void 0);\n\n    _defineProperty(this, \"dragPreviewRef\", null);\n\n    _defineProperty(this, \"dragPreviewNode\", void 0);\n\n    _defineProperty(this, \"dragPreviewOptionsInternal\", null);\n\n    _defineProperty(this, \"dragPreviewUnsubscribe\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDragSource\", null);\n\n    _defineProperty(this, \"lastConnectedDragSourceOptions\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreview\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreviewOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }]);\n\n  return SourceConnector;\n}();","import { useMemo } from 'react';\nexport function useConnectDragSource(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n}\nexport function useConnectDragPreview(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n}","import { useRegisteredDragSource } from './useRegisteredDragSource';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDragSourceMonitor } from './useDragSourceMonitor';\nimport { useDragSourceConnector } from './useDragSourceConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDragPreview, useConnectDragSource } from './connectors';\nimport { invariant } from '@react-dnd/invariant';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrag(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  invariant(!spec.begin, \"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)\");\n  var monitor = useDragSourceMonitor();\n  var connector = useDragSourceConnector(spec.options, spec.previewOptions);\n  useRegisteredDragSource(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDragSource(connector), useConnectDragPreview(connector)];\n}","import { useMemo } from 'react';\nimport { DragSourceMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { SourceConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragSource();\n    };\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragPreview();\n    };\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}","import { useEffect, memo } from 'react';\n/**\n * A utility for rendering a drag preview image\n */\n\nexport var DragPreviewImage = memo(function DragPreviewImage(_ref) {\n  var connect = _ref.connect,\n      src = _ref.src;\n  useEffect(function () {\n    if (typeof Image === 'undefined') return;\n    var connected = false;\n    var img = new Image();\n    img.src = src;\n\n    img.onload = function () {\n      connect(img);\n      connected = true;\n    };\n\n    return function () {\n      if (connected) {\n        connect(null);\n      }\n    };\n  });\n  return null;\n});","// Source from https://github.com/alitaheri/normalize-scroll-left\nvar cachedType;\n/**\n * Based on the jquery plugin https://github.com/othree/jquery.rtl-scroll-type\n *\n * Types of scrollLeft, assuming scrollWidth=100 and direction is rtl.\n *\n * Type             | <- Most Left | Most Right -> | Initial\n * ---------------- | ------------ | ------------- | -------\n * default          | 0            | 100           | 100\n * negative (spec*) | -100         | 0             | 0\n * reverse          | 100          | 0             | 0\n *\n * Edge 85: default\n * Safari 14: negative\n * Chrome 85: negative\n * Firefox 81: negative\n * IE 11: reverse\n *\n * spec* https://drafts.csswg.org/cssom-view/#dom-window-scroll\n */\n\nexport function detectScrollType() {\n  if (cachedType) {\n    return cachedType;\n  }\n\n  var dummy = document.createElement('div');\n  var container = document.createElement('div');\n  container.style.width = '10px';\n  container.style.height = '1px';\n  dummy.appendChild(container);\n  dummy.dir = 'rtl';\n  dummy.style.fontSize = '14px';\n  dummy.style.width = '4px';\n  dummy.style.height = '1px';\n  dummy.style.position = 'absolute';\n  dummy.style.top = '-1000px';\n  dummy.style.overflow = 'scroll';\n  document.body.appendChild(dummy);\n  cachedType = 'reverse';\n\n  if (dummy.scrollLeft > 0) {\n    cachedType = 'default';\n  } else {\n    dummy.scrollLeft = 1;\n\n    if (dummy.scrollLeft === 0) {\n      cachedType = 'negative';\n    }\n  }\n\n  document.body.removeChild(dummy);\n  return cachedType;\n} // Based on https://stackoverflow.com/a/24394376\n\nexport function getNormalizedScrollLeft(element, direction) {\n  var scrollLeft = element.scrollLeft; // Perform the calculations only when direction is rtl to avoid messing up the ltr bahavior\n\n  if (direction !== 'rtl') {\n    return scrollLeft;\n  }\n\n  var type = detectScrollType();\n\n  switch (type) {\n    case 'negative':\n      return element.scrollWidth - element.clientWidth + scrollLeft;\n\n    case 'reverse':\n      return element.scrollWidth - element.clientWidth - scrollLeft;\n\n    default:\n      return scrollLeft;\n  }\n}","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { useDrag, DragPreviewImage } from 'react-dnd';\nimport { useCell, useHoverActions } from '../../hooks';\nimport React from 'react';\nexport var dragIcon = \n// tslint:disable-next-line:max-line-length\n'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAhCAYAAACbffiEAAAA6UlEQVRYhe2ZQQ6CMBBFX0njHg7ESXTp1p3uvIBewc3Em3AfdelSFwRDCAm01JRO+pa0lP8zzc9kMCKyAa7AFqhIixdwB44WuACHuHq8KWm1vwtgF1lMCPaWkevUNE3Qr9R17XTu1P5uvUdV+IpbG2qMGBH5xBYRAjUVUWPEjj10SS3XRFry3kha/VBTETVGcmqtDTVGFqdWn7k9ku96f88QNRVRYySn1tpQY8QptXz7qinmnpt7rZTIqbU21BgJ2mv1+XfCDVFTETVGjIg8SG8KP+RZ0I7lU+dmgRNgaKfyZVw9znT/R85fOHJJE77U6UcAAAAASUVORK5CYII=';\nexport var useDragHandle = function (nodeId, enabled) {\n    if (enabled === void 0) { enabled = true; }\n    var actions = useHoverActions();\n    var cell = useCell(nodeId);\n    var _a = __read(useDrag({\n        canDrag: enabled,\n        item: function () {\n            actions.dragCell(nodeId);\n            return { cell: cell };\n        },\n        type: 'cell',\n        collect: function (monitor) { return ({\n            isDragging: monitor.isDragging(),\n        }); },\n        end: function (item, monitor) {\n            if (monitor.didDrop()) {\n                // If the item drop occurred deeper down the tree, don't do anything\n                return;\n            }\n            // If drag ended but drop did not occur, cancel dragging\n            actions.cancelCellDrag();\n        },\n    }), 3), isDragging = _a[0].isDragging, dragRef = _a[1], preview = _a[2];\n    var previewElement = React.createElement(DragPreviewImage, { connect: preview, src: dragIcon });\n    return [isDragging, dragRef, previewElement];\n};\n//# sourceMappingURL=useDragHandle.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useFocusCell, useIsLayoutMode, useOption, usePluginOfCell, useUiTranslator, } from '../../hooks';\nimport { useDragHandle } from '../Draggable/useDragHandle';\nvar Handle = function (_a) {\n    var nodeId = _a.nodeId;\n    var allowMoveInEditMode = useOption('allowMoveInEditMode');\n    var isLayoutMode = useIsLayoutMode();\n    var dragEnabled = allowMoveInEditMode || isLayoutMode;\n    var _b = __read(useDragHandle(nodeId, dragEnabled), 3), isDragging = _b[0], dragRef = _b[1], previewElement = _b[2];\n    var focus = useFocusCell(nodeId);\n    var plugin = usePluginOfCell(nodeId);\n    var t = useUiTranslator().t;\n    if (!plugin) {\n        return null;\n    }\n    return (React.createElement(React.Fragment, null,\n        previewElement,\n        React.createElement(\"div\", { className: classNames('react-page-cell-handle', {\n                'react-page-cell-handle-drag-enabled': dragEnabled,\n                'react-page-cell-handle-is-dragging': isDragging,\n            }), ref: dragRef, onClick: function (e) {\n                var mode = e.metaKey || e.ctrlKey ? 'add' : 'replace';\n                focus(false, mode);\n            } }, t((plugin === null || plugin === void 0 ? void 0 : plugin.title) || (plugin === null || plugin === void 0 ? void 0 : plugin.text)))));\n};\nexport default React.memo(Handle);\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useCell, useFocusCell, useIsLayoutMode, useOption } from '../../hooks';\nimport { useDragHandle } from './useDragHandle';\nvar DefaultSmallHandle = function (_a) {\n    var onClick = _a.onClick;\n    return (React.createElement(\"div\", { className: \"react-page-cell-draggable-overlay-handle\", onClick: onClick },\n        React.createElement(\"div\", { className: \"react-page-cell-draggable-overlay-handle-icon\" })));\n};\nvar Draggable = function (_a) {\n    var _b;\n    var _c;\n    var isLeaf = _a.isLeaf, children = _a.children, nodeId = _a.nodeId;\n    var cell = useCell(nodeId);\n    var _d = __read(useDragHandle(nodeId), 3), isDragging = _d[0], dragRef = _d[1], previewElement = _d[2];\n    var focus = useFocusCell(nodeId);\n    var isLayoutMode = useIsLayoutMode();\n    var allowMoveInEditMode = useOption('allowMoveInEditMode');\n    var components = useOption('components');\n    var ResizeHandle = (_c = components === null || components === void 0 ? void 0 : components.EditModeResizeHandle) !== null && _c !== void 0 ? _c : DefaultSmallHandle;\n    return (React.createElement(React.Fragment, null,\n        previewElement,\n        React.createElement(\"div\", { ref: isLayoutMode ? dragRef : undefined, style: {\n                height: '100%',\n            }, className: classNames({\n                'react-page-cell-draggable-in-edit': !isLayoutMode && allowMoveInEditMode,\n                'react-page-cell-draggable': isLayoutMode,\n                'react-page-cell-draggable-is-dragging': isDragging,\n            }) },\n            isLayoutMode ? (React.createElement(\"div\", { onClick: function (e) {\n                    var mode = e.metaKey || e.ctrlKey ? 'add' : 'replace';\n                    focus(false, mode);\n                }, className: classNames((_b = {\n                        'react-page-cell-draggable-overlay': isLayoutMode\n                    },\n                    _b[\"react-page-cell-draggable-inline-\" + cell.inline] = cell.inline,\n                    _b['react-page-cell-draggable-leaf'] = isLeaf,\n                    _b)) })) : allowMoveInEditMode ? (React.createElement(\"div\", { ref: dragRef },\n                React.createElement(ResizeHandle, { onClick: focus }))) : null,\n            children)));\n};\nexport default Draggable;\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider as MaterialUiThemeProvider, StylesProvider, } from '@material-ui/styles';\nimport { createGenerateClassName } from '@material-ui/styles';\nimport darkTheme from './DarkTheme/index';\nimport { themeOptions } from './themeOptions';\nexport { darkTheme };\nvar generateClassName = createGenerateClassName({\n    disableGlobal: true,\n    seed: 'reactPage',\n    productionPrefix: 'reactPage',\n});\nvar theme = createMuiTheme(themeOptions);\nexport var ThemeProvider = function (props) {\n    return (React.createElement(StylesProvider, { injectFirst: true, generateClassName: generateClassName },\n        React.createElement(MaterialUiThemeProvider, { theme: props.theme || theme }, props.children)));\n};\n//# sourceMappingURL=index.js.map","export var themeOptions = {};\n//# sourceMappingURL=themeOptions.js.map","import { createMuiTheme } from '@material-ui/core/styles';\nvar theme = createMuiTheme({\n    palette: {\n        type: 'dark',\n    },\n});\nexport default theme;\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Divider, Drawer, Portal } from '@material-ui/core';\nimport React, { Fragment } from 'react';\nimport { useIsSmallScreen } from '../../core/components/hooks';\nvar darkBlack = 'rgba(0, 0, 0, 0.87)';\nvar bright = 'rgba(255,255,255, 0.98)';\nvar brightBorder = 'rgba(0, 0, 0, 0.12)';\nexport var BottomToolbarDrawer = function (_a) {\n    var className = _a.className, anchor = _a.anchor, open = _a.open, dark = _a.dark, _b = _a.scale, scale = _b === void 0 ? 1 : _b, children = _a.children, _c = _a.style, style = _c === void 0 ? {} : _c;\n    var divider = (React.createElement(Divider, { style: {\n            marginLeft: -24,\n            marginRight: -24,\n            marginTop: 12,\n            marginBottom: 12,\n        } }));\n    var theChildren = React.Children.toArray(children).filter(Boolean);\n    var isSmall = useIsSmallScreen();\n    return (React.createElement(Portal, null,\n        React.createElement(Drawer, { SlideProps: {\n                mountOnEnter: true,\n                unmountOnExit: true,\n            }, variant: \"persistent\", className: className, open: open, anchor: anchor, PaperProps: {\n                style: {\n                    zIndex: 10,\n                    backgroundColor: 'transparent',\n                    border: 'none',\n                    overflow: 'visible',\n                    pointerEvents: 'none',\n                },\n            } },\n            React.createElement(\"div\", { style: __assign(__assign(__assign({ pointerEvents: 'all', border: (dark ? darkBlack : brightBorder) + \" 1px solid\", borderRadius: '4px 4px 0 0', backgroundColor: dark ? darkBlack : bright, padding: '12px 24px' }, (isSmall\n                    ? {\n                        marginLeft: 20,\n                        marginRight: 80,\n                    }\n                    : {\n                        marginLeft: 'auto',\n                        marginRight: 'auto',\n                        minWidth: '50vw',\n                        maxWidth: 'min(1280px, calc(100vw - 250px))',\n                    })), { boxShadow: '0px 1px 8px -1px rgba(0,0,0,0.4)', position: 'relative', transformOrigin: 'bottom', transform: \"scale(\" + scale + \")\", transition: 'scale 0.3s' }), style) }, theChildren.map(function (child, index) { return (React.createElement(Fragment, { key: index },\n                child,\n                index < theChildren.length - 1 ? divider : null)); })))));\n};\n//# sourceMappingURL=Drawer.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { isRow } from '../../../types';\n/**\n *\n * @param nodeId a cell or row\n * @param ancestors the ancestors of the node\n *\n * @returns the previous row if any or null\n */\nexport var findSiblingRow = function (nodeId, ancestors, direction) {\n    var step = direction === 'previous' ? -1 : 1;\n    var _a = __read(ancestors), parent = _a[0], olderAncestors = _a.slice(1);\n    if (!parent)\n        return null;\n    var greatParent = olderAncestors[0];\n    if (isRow(parent)) {\n        if (greatParent && !isRow(greatParent)) {\n            var parentIndex = greatParent.rows.findIndex(function (r) { return r.id === parent.id; });\n            var siblingRow = greatParent.rows[parentIndex + step];\n            if (siblingRow) {\n                return findInnerRow(siblingRow, direction);\n            }\n        }\n    }\n    else {\n        // so parent is a cell, so i am a row, previous row is therefor\n        var myIndex = parent.rows.findIndex(function (r) { return r.id === nodeId; });\n        var siblingRow = parent.rows[myIndex + step];\n        if (siblingRow) {\n            return findInnerRow(siblingRow, direction);\n        }\n    }\n    // nothing found, go one level deeper\n    return findSiblingRow(parent.id, olderAncestors, direction);\n};\nvar findInnerRow = function (node, direction) {\n    var e_1, _a, e_2, _b;\n    var found = null;\n    if (isRow(node)) {\n        var cells = direction === 'previous' ? __spreadArray([], __read(node.cells), false).reverse() : node.cells;\n        try {\n            for (var cells_1 = __values(cells), cells_1_1 = cells_1.next(); !cells_1_1.done; cells_1_1 = cells_1.next()) {\n                var cell = cells_1_1.value;\n                found = findInnerRow(cell, direction);\n                if (found) {\n                    break;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (cells_1_1 && !cells_1_1.done && (_a = cells_1.return)) _a.call(cells_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (!found) {\n            found = node;\n        }\n    }\n    else {\n        if (node.rows) {\n            var rows = direction === 'previous' ? __spreadArray([], __read(node.rows), false).reverse() : node.rows;\n            try {\n                for (var rows_1 = __values(rows), rows_1_1 = rows_1.next(); !rows_1_1.done; rows_1_1 = rows_1.next()) {\n                    var row = rows_1_1.value;\n                    found = findInnerRow(row, direction);\n                    if (found) {\n                        break;\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (rows_1_1 && !rows_1_1.done && (_b = rows_1.return)) _b.call(rows_1);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n        }\n    }\n    return found;\n};\n//# sourceMappingURL=findSiblingRow.js.map","import { useMemo } from 'react';\nimport { isRow } from '../../../core/types';\nimport { useIsEditMode } from './displayMode';\nimport { useDropActions } from './dragDropActions';\nimport { useNodeAsHoverTarget, useNodeProps } from './node';\nimport { findSiblingRow } from './utils/findSiblingRow';\nexport var getTargetIndexForUpAndDownMove = function (currentRowLength, targetRowLength, myIndex) {\n    var factor = (targetRowLength + 1) / currentRowLength;\n    var target = myIndex * factor;\n    var wasLast = myIndex === currentRowLength - 1;\n    var index = wasLast\n        ? targetRowLength - 1\n        : Math.min(Math.floor(target), targetRowLength - 1);\n    return {\n        action: wasLast || target - index > 0.5 ? 'rightOf' : 'leftOf',\n        index: index,\n    };\n};\nvar useMoveCellAction = function (nodeId, selector) {\n    var actions = useDropActions(nodeId);\n    var _a = useNodeProps(nodeId, selector), node = _a.node, targetNodeId = _a.targetNodeId, action = _a.action;\n    var isEditMode = useIsEditMode();\n    var hoverTarget = useNodeAsHoverTarget(targetNodeId);\n    return useMemo(function () {\n        // skip if no target\n        if (!hoverTarget) {\n            return null;\n        }\n        return function () {\n            actions[action](node, hoverTarget, { focusAfter: isEditMode });\n        };\n    }, [isEditMode, actions, hoverTarget, node]);\n};\nexport var useMoveNodeUp = function (nodeId) {\n    return useMoveCellAction(nodeId, function (node, ancestors) {\n        var _a, _b, _c;\n        // if node is not the only sibling in the row, put it above the row to stretch it\n        var rowWithMoreThanOneCell = searchAncestorRows(ancestors, function (row) {\n            if ((row === null || row === void 0 ? void 0 : row.cells.length) > 1) {\n                return row;\n            }\n            return null;\n        }, \n        // breakIf\n        // break if a parent row is not the first row of a cell, because then we would \"jump\" a parent\n        function (row, parentOfRow) {\n            var _a;\n            return (parentOfRow &&\n                ((_a = parentOfRow === null || parentOfRow === void 0 ? void 0 : parentOfRow.rows) === null || _a === void 0 ? void 0 : _a.findIndex(function (r) { return r.id === row.id; })) !== 0);\n        });\n        if (rowWithMoreThanOneCell) {\n            return {\n                action: 'above',\n                node: node,\n                targetNodeId: rowWithMoreThanOneCell === null || rowWithMoreThanOneCell === void 0 ? void 0 : rowWithMoreThanOneCell.id,\n            };\n        }\n        var parent = isRow(ancestors === null || ancestors === void 0 ? void 0 : ancestors[0]) ? ancestors === null || ancestors === void 0 ? void 0 : ancestors[0] : null;\n        // else move it into previous row as sibling\n        var myIndexInParent = parent === null || parent === void 0 ? void 0 : parent.cells.findIndex(function (c) { return c.id === nodeId; });\n        var previousRow = findSiblingRow(nodeId, ancestors, 'previous');\n        var previousRowCells = previousRow === null || previousRow === void 0 ? void 0 : previousRow.cells;\n        var _d = getTargetIndexForUpAndDownMove((_b = (_a = parent === null || parent === void 0 ? void 0 : parent.cells) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0, previousRowCells === null || previousRowCells === void 0 ? void 0 : previousRowCells.length, myIndexInParent), index = _d.index, action = _d.action;\n        return {\n            action: action,\n            node: node,\n            targetNodeId: (_c = previousRowCells === null || previousRowCells === void 0 ? void 0 : previousRowCells[index]) === null || _c === void 0 ? void 0 : _c.id,\n        };\n    });\n};\nexport var useMoveNodeDown = function (nodeId) {\n    return useMoveCellAction(nodeId, function (node, ancestors) {\n        var _a, _b, _c;\n        // if node is not the only sibling in the row, put it below the row to stretch it\n        var rowWithMoreThanOneCell = searchAncestorRows(ancestors, function (row) {\n            if ((row === null || row === void 0 ? void 0 : row.cells.length) > 1) {\n                return row;\n            }\n            return null;\n        }, \n        // breakIf\n        // break if a parent row is not the last row of a cell, because then we would \"jump\" a parent\n        function (row, parentOfRow) {\n            var _a;\n            return (parentOfRow &&\n                ((_a = parentOfRow === null || parentOfRow === void 0 ? void 0 : parentOfRow.rows) === null || _a === void 0 ? void 0 : _a.findIndex(function (r) { return r.id === row.id; })) !==\n                    parentOfRow.rows.length - 1);\n        });\n        if (rowWithMoreThanOneCell) {\n            return {\n                action: 'below',\n                node: node,\n                targetNodeId: rowWithMoreThanOneCell === null || rowWithMoreThanOneCell === void 0 ? void 0 : rowWithMoreThanOneCell.id,\n            };\n        }\n        // else move it into next row as sibling\n        var parent = isRow(ancestors === null || ancestors === void 0 ? void 0 : ancestors[0]) ? ancestors === null || ancestors === void 0 ? void 0 : ancestors[0] : null;\n        var nextRow = findSiblingRow(nodeId, ancestors, 'next');\n        var myIndexInParent = parent === null || parent === void 0 ? void 0 : parent.cells.findIndex(function (c) { return c.id === nodeId; });\n        var nextRowCells = nextRow === null || nextRow === void 0 ? void 0 : nextRow.cells;\n        var _d = getTargetIndexForUpAndDownMove((_b = (_a = parent === null || parent === void 0 ? void 0 : parent.cells) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0, nextRowCells === null || nextRowCells === void 0 ? void 0 : nextRowCells.length, myIndexInParent), index = _d.index, action = _d.action;\n        return {\n            action: action,\n            node: node,\n            targetNodeId: (_c = nextRowCells === null || nextRowCells === void 0 ? void 0 : nextRowCells[index]) === null || _c === void 0 ? void 0 : _c.id,\n        };\n    });\n};\nvar searchAncestorRows = function (ancestors, find, breakIf) {\n    for (var i = 0; i < ancestors.length; i++) {\n        var parent_1 = ancestors[i];\n        var greatParent = ancestors[i + 1];\n        var parentRow = isRow(parent_1) ? parent_1 : null;\n        var greatParentCell = greatParent && isRow(greatParent) ? null : greatParent;\n        if (parentRow) {\n            var found = find(parentRow, greatParentCell);\n            if (found)\n                return found;\n        }\n        if (breakIf && breakIf(parentRow, greatParentCell)) {\n            return null;\n        }\n    }\n    return null;\n};\nexport var useMoveNodeLeft = function (nodeId) {\n    return useMoveCellAction(nodeId, function (node, ancestors) {\n        var previousSibling = searchAncestorRows(ancestors, function (row) {\n            var myIndexInParent = row === null || row === void 0 ? void 0 : row.cells.findIndex(function (c) { return c.id === nodeId; });\n            return row === null || row === void 0 ? void 0 : row.cells[myIndexInParent - 1];\n        });\n        return {\n            action: 'leftOf',\n            node: node,\n            targetNodeId: previousSibling === null || previousSibling === void 0 ? void 0 : previousSibling.id,\n        };\n    });\n};\nexport var useMoveNodeRight = function (nodeId) {\n    return useMoveCellAction(nodeId, function (node, ancestors) {\n        var nextSibling = searchAncestorRows(ancestors, function (row) {\n            var myIndexInParent = row === null || row === void 0 ? void 0 : row.cells.findIndex(function (c) { return c.id === nodeId; });\n            return row === null || row === void 0 ? void 0 : row.cells[myIndexInParent + 1];\n        });\n        return {\n            action: 'rightOf',\n            node: node,\n            targetNodeId: nextSibling === null || nextSibling === void 0 ? void 0 : nextSibling.id,\n        };\n    });\n};\n//# sourceMappingURL=nodeMove.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Fab } from '@material-ui/core';\nimport React from 'react';\nimport IconUp from '@material-ui/icons/ArrowDropUp';\nimport IconDown from '@material-ui/icons/ArrowDropDown';\nimport IconRight from '@material-ui/icons/ArrowRight';\nimport IconLeft from '@material-ui/icons/ArrowLeft';\nimport { useMoveNodeDown, useMoveNodeUp, useMoveNodeLeft, useMoveNodeRight, } from '../../core/components/hooks';\nvar Base = function (_a) {\n    // don't show at all\n    var onClick = _a.onClick, icon = _a.icon, style = _a.style;\n    return (React.createElement(Fab, { disabled: !onClick, style: __assign({ margin: 10, pointerEvents: 'all' }, style), size: \"small\", onClick: onClick, color: \"primary\" }, icon));\n};\nexport var MoveUp = function (_a) {\n    var nodeId = _a.nodeId, style = _a.style;\n    var moveUp = useMoveNodeUp(nodeId);\n    return React.createElement(Base, { onClick: moveUp, icon: React.createElement(IconUp, null), style: style });\n};\nexport var MoveDown = function (_a) {\n    var nodeId = _a.nodeId, style = _a.style;\n    var moveDown = useMoveNodeDown(nodeId);\n    return React.createElement(Base, { onClick: moveDown, icon: React.createElement(IconDown, null), style: style });\n};\nexport var MoveLeft = function (_a) {\n    var nodeId = _a.nodeId, style = _a.style;\n    var moveLeft = useMoveNodeLeft(nodeId);\n    return React.createElement(Base, { onClick: moveLeft, icon: React.createElement(IconLeft, null), style: style });\n};\nexport var MoveRight = function (_a) {\n    var nodeId = _a.nodeId, style = _a.style;\n    var moveRight = useMoveNodeRight(nodeId);\n    return React.createElement(Base, { onClick: moveRight, icon: React.createElement(IconRight, null), style: style });\n};\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { MoveLeft, MoveRight, MoveDown, MoveUp } from '../moveButtons';\nvar MoveActions = function (_a) {\n    var nodeId = _a.nodeId;\n    return (React.createElement(\"div\", null,\n        React.createElement(MoveLeft, { nodeId: nodeId }),\n        React.createElement(MoveUp, { nodeId: nodeId }),\n        React.createElement(MoveDown, { nodeId: nodeId }),\n        React.createElement(MoveRight, { nodeId: nodeId })));\n};\nexport default MoveActions;\n//# sourceMappingURL=MoveActions.js.map","import { FormControlLabel, Switch, Tooltip } from '@material-ui/core';\nimport VisibleIcon from '@material-ui/icons/Visibility';\nimport NonVisibleIcon from '@material-ui/icons/VisibilityOff';\nimport React from 'react';\nimport { useCellProps, useLang, useSetDraft, useUiTranslator, } from '../../core/components/hooks';\nvar DraftSwitch = function (_a) {\n    var _b, _c;\n    var nodeId = _a.nodeId, lang = _a.lang;\n    var t = useUiTranslator().t;\n    var cell = useCellProps(nodeId, function (c) { return ({\n        isDraft: c === null || c === void 0 ? void 0 : c.isDraft,\n        isDraftI18n: c === null || c === void 0 ? void 0 : c.isDraftI18n,\n    }); });\n    var setDraft = useSetDraft(nodeId);\n    var currentLang = useLang();\n    if (!cell) {\n        return null;\n    }\n    var theLang = lang !== null && lang !== void 0 ? lang : currentLang;\n    var hasI18n = Boolean(cell.isDraftI18n);\n    var isDraft = (_c = (_b = cell === null || cell === void 0 ? void 0 : cell.isDraftI18n) === null || _b === void 0 ? void 0 : _b[theLang]) !== null && _c !== void 0 ? _c : cell === null || cell === void 0 ? void 0 : cell.isDraft; // fallback to legacy\n    var title = t(isDraft ? 'Content is hidden' : 'Content is visible');\n    return cell ? (React.createElement(Tooltip, { title: title + (hasI18n ? ' in ' + theLang : '') },\n        React.createElement(FormControlLabel, { style: { marginRight: 5 }, labelPlacement: \"start\", control: React.createElement(Switch, { color: \"primary\", checked: !isDraft, onChange: function (e) {\n                    setDraft(!e.target.checked, theLang);\n                } }), label: isDraft ? (React.createElement(NonVisibleIcon, { style: { marginTop: 5 } })) : (React.createElement(VisibleIcon, { style: { marginTop: 5 } })) }))) : null;\n};\nexport default DraftSwitch;\n//# sourceMappingURL=index.js.map","import { IconButton, Tooltip } from '@material-ui/core';\nimport Icon from '@material-ui/icons/FileCopy';\nimport React from 'react';\nimport { useDuplicateCell, useUiTranslator } from '../../core/components/hooks';\nexport var DuplicateButton = React.memo(function (_a) {\n    var nodeId = _a.nodeId;\n    var duplicateCell = useDuplicateCell(nodeId);\n    var t = useUiTranslator().t;\n    return (React.createElement(Tooltip, { title: t('Duplicate Plugin') },\n        React.createElement(IconButton, { onClick: duplicateCell, \"aria-label\": \"delete\", color: \"default\" },\n            React.createElement(Icon, null))));\n});\n//# sourceMappingURL=index.js.map","import { Select } from '@material-ui/core';\nimport React, { memo } from 'react';\nimport { useLang, useOption, useSetLang } from '../../core/components/hooks';\nvar SelectLang = function () {\n    var languages = useOption('languages');\n    var lang = useLang();\n    var setLang = useSetLang();\n    if ((languages === null || languages === void 0 ? void 0 : languages.length) > 0) {\n        return (React.createElement(Select, { value: lang || '', onChange: function (e) { return setLang(e.target.value); } }, languages.map(function (l) { return (React.createElement(\"option\", { key: l.lang, value: l.lang }, l.label)); })));\n    }\n    return null;\n};\nexport default memo(SelectLang);\n//# sourceMappingURL=SelectLang.js.map","import { Button, DialogContent, Table } from '@material-ui/core';\nimport Translate from '@material-ui/icons/Translate';\nimport React, { useCallback } from 'react';\nimport { useCellDataI18nRaw, useLang, useOption, useSetLang, useUiTranslator, useUpdateCellData, } from '../../core/components/hooks';\nimport DraftSwitch from '../DraftSwitch';\nimport SelectLang from './SelectLang';\nvar I18nDialog = function (_a) {\n    var _b;\n    var nodeId = _a.nodeId, onClose = _a.onClose;\n    var currentLang = useLang();\n    var languages = useOption('languages');\n    var t = useUiTranslator().t;\n    var setLang = useSetLang();\n    var dataI18n = useCellDataI18nRaw(nodeId);\n    var updateCellData = useUpdateCellData(nodeId);\n    var reset = useCallback(function (lang) {\n        updateCellData(null, {\n            lang: lang,\n        });\n    }, [updateCellData]);\n    var defaultLangLabel = (_b = languages === null || languages === void 0 ? void 0 : languages[0]) === null || _b === void 0 ? void 0 : _b.label;\n    return (React.createElement(DialogContent, null,\n        React.createElement(\"div\", { style: { display: 'flex', alignItems: 'center' } },\n            React.createElement(Translate, { style: { marginRight: 'auto' } }),\n            \" \",\n            React.createElement(SelectLang, null)),\n        React.createElement(\"hr\", null),\n        React.createElement(Table, null,\n            React.createElement(\"tbody\", null, languages.map(function (l, index) {\n                var data = dataI18n === null || dataI18n === void 0 ? void 0 : dataI18n[l.lang];\n                var isCurrent = currentLang === l.lang;\n                var hasData = Boolean(data);\n                return (React.createElement(\"tr\", { key: l.lang },\n                    React.createElement(\"th\", { style: {\n                            textAlign: 'left',\n                            textDecoration: isCurrent ? 'underline' : undefined,\n                        } },\n                        React.createElement(Button, { onClick: function () { return setLang(l.lang); } },\n                            l.label,\n                            \" \",\n                            index === 0 ? t('(default)') : null)),\n                    React.createElement(\"td\", null,\n                        React.createElement(DraftSwitch, { nodeId: nodeId, lang: l.lang })),\n                    React.createElement(\"td\", null, hasData ? '' : ' '),\n                    React.createElement(\"td\", null, hasData && index !== 0 ? (React.createElement(Button, { onClick: function () {\n                            reset(l.lang);\n                        } }, t(\"Reset to \" + defaultLangLabel + \" \\u26A0\\uFE0F\"))) : null)));\n            }))),\n        React.createElement(Button, { onClick: function () { return onClose(); } }, t('Close'))));\n};\nexport default I18nDialog;\n//# sourceMappingURL=I18nDialog.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { IconButton, Dialog } from '@material-ui/core';\nimport Translate from '@material-ui/icons/Translate';\nimport React, { useState } from 'react';\nimport SelectLang from './SelectLang';\nimport I18nDialog from './I18nDialog';\nimport { useOption } from '../../core/components/hooks';\nexport var I18nTools = React.memo(function (_a) {\n    var nodeId = _a.nodeId;\n    var languages = useOption('languages');\n    var _b = __read(useState(false), 2), showI18nDialog = _b[0], setShowI18nDialog = _b[1];\n    var hasI18n = (languages === null || languages === void 0 ? void 0 : languages.length) > 0;\n    var onClose = function () { return setShowI18nDialog(false); };\n    if (!hasI18n) {\n        return null;\n    }\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Dialog, { open: showI18nDialog, onClose: onClose },\n            React.createElement(I18nDialog, { nodeId: nodeId, onClose: onClose })),\n        React.createElement(\"div\", { style: { display: 'flex', alignItems: 'center' } },\n            React.createElement(IconButton, { onClick: function () { return setShowI18nDialog(true); }, \"aria-label\": \"i18n\", color: \"secondary\" },\n                React.createElement(Translate, null)),\n            React.createElement(SelectLang, null))));\n});\n//# sourceMappingURL=index.js.map","import IconButton from '@material-ui/core/IconButton';\nimport VerticalAlignTopIcon from '@material-ui/icons/VerticalAlignTop';\nimport React from 'react';\nimport { useFocusCell, useParentCellId, useUiTranslator, } from '../../core/components/hooks';\nexport var SelectParentButton = React.memo(function (_a) {\n    var nodeId = _a.nodeId;\n    var parentCellId = useParentCellId(nodeId);\n    var t = useUiTranslator().t;\n    var focusParent = useFocusCell(parentCellId);\n    return parentCellId ? (React.createElement(IconButton, { className: \"bottomToolbar__selectParentButton\", onClick: function () { return focusParent(); }, color: \"default\", title: t('Select parent') },\n        React.createElement(VerticalAlignTopIcon, null))) : null;\n});\n//# sourceMappingURL=index.js.map","import { IconButton, Tooltip } from '@material-ui/core';\nimport Delete from '@material-ui/icons/Delete';\nimport React from 'react';\nimport { useRemoveCell, useUiTranslator } from '../../core/components/hooks';\nimport DraftSwitch from '../DraftSwitch';\nimport { DuplicateButton } from '../DuplicateButton';\nimport { I18nTools } from '../I18nTools';\nimport { SelectParentButton } from '../SelectParentButton';\nexport var BottomToolbarTools = React.memo(function (_a) {\n    var nodeId = _a.nodeId;\n    var t = useUiTranslator().t;\n    var removeCell = useRemoveCell(nodeId);\n    return (React.createElement(\"div\", { style: { display: 'flex', alignItems: 'center' } },\n        React.createElement(I18nTools, { nodeId: nodeId }),\n        React.createElement(DraftSwitch, { nodeId: nodeId }),\n        React.createElement(SelectParentButton, { nodeId: nodeId }),\n        React.createElement(DuplicateButton, { nodeId: nodeId }),\n        React.createElement(Tooltip, { title: t('Remove Plugin') },\n            React.createElement(IconButton, { onClick: function () { return removeCell(); }, \"aria-label\": \"delete\", color: \"secondary\" },\n                React.createElement(Delete, null)))));\n});\n//# sourceMappingURL=Tools.js.map","import { Avatar, Grid, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { useFocusCell, useOption, usePluginOfCell, useUiTranslator, } from '../../core/components/hooks';\nimport MoveActions from './MoveActions';\nimport { BottomToolbarTools } from './Tools';\nexport var BottomToolbarMainBar = React.memo(function (_a) {\n    var _b;\n    var nodeId = _a.nodeId, actionsLeft = _a.actionsLeft;\n    var _c = (_b = usePluginOfCell(nodeId)) !== null && _b !== void 0 ? _b : {}, title = _c.title, icon = _c.icon;\n    var t = useUiTranslator().t;\n    var focus = useFocusCell(nodeId);\n    var showMoveButtons = useOption('showMoveButtonsInBottomToolbar');\n    return (React.createElement(\"div\", null,\n        React.createElement(Grid, { container: true, direction: \"row\", alignItems: \"center\" },\n            icon || title ? (React.createElement(Grid, { item: true },\n                React.createElement(Avatar, { onClick: function () { return focus(true); }, children: icon || (title ? title[0] : ''), style: {\n                        cursor: 'pointer',\n                        marginRight: 16,\n                    } }))) : null,\n            React.createElement(Grid, { item: true },\n                React.createElement(Typography, { variant: \"subtitle1\" }, t(title))),\n            actionsLeft &&\n                React.Children.map(actionsLeft, function (action, index) { return (React.createElement(Grid, { item: true, key: index }, action)); }),\n            showMoveButtons ? (React.createElement(Grid, { item: true, style: { marginLeft: 'auto' } },\n                React.createElement(MoveActions, { nodeId: nodeId }))) : null,\n            React.createElement(Grid, { item: true, style: { marginLeft: 'auto' } },\n                React.createElement(BottomToolbarTools, { nodeId: nodeId })))));\n});\n//# sourceMappingURL=NodeTools.js.map","import { IconButton, Tooltip } from '@material-ui/core';\nimport ScaleIcon from '@material-ui/icons/AspectRatio';\nimport React from 'react';\nimport { useUiTranslator } from '../../core/components/hooks';\nvar SCALING_FACTORS = [1, 0.8, 0.6, 1.2];\nvar lastScale = SCALING_FACTORS[0]; // poor mans redux\nexport var ScaleButton = function (_a) {\n    var scale = _a.scale, setScale = _a.setScale;\n    var t = useUiTranslator().t;\n    var toggleScale = React.useCallback(function () {\n        var newScalingFactor = SCALING_FACTORS[(SCALING_FACTORS.indexOf(lastScale !== null && lastScale !== void 0 ? lastScale : scale) + 1) %\n            SCALING_FACTORS.length];\n        setScale(newScalingFactor);\n        // poor man's redux\n        lastScale = newScalingFactor;\n    }, [scale, lastScale, setScale]);\n    return (React.createElement(Tooltip, { title: t('Change size of this window') },\n        React.createElement(IconButton, { onClick: toggleScale, \"aria-label\": \"Change size of this window\", color: \"primary\" },\n            React.createElement(ScaleIcon, null))));\n};\n//# sourceMappingURL=ScaleButton.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React from 'react';\nimport { darkTheme, ThemeProvider } from '../ThemeProvider';\nimport { BottomToolbarDrawer } from './Drawer';\nimport { BottomToolbarMainBar } from './NodeTools';\nimport { ScaleButton } from './ScaleButton';\nexport * from './types';\nexport * from './Drawer';\nexport * from './NodeTools';\nexport * from './Tools';\nexport var BottomToolbar = React.memo(function (_a) {\n    var _b = _a.open, open = _b === void 0 ? false : _b, className = _a.className, _c = _a.dark, dark = _c === void 0 ? false : _c, theme = _a.theme, _d = _a.anchor, anchor = _d === void 0 ? 'bottom' : _d, pluginControls = _a.pluginControls, nodeId = _a.nodeId, actionsLeft = _a.actionsLeft, style = _a.style, children = _a.children;\n    var _e = __read(React.useState(1), 2), scale = _e[0], setScale = _e[1];\n    return (React.createElement(ThemeProvider, { theme: theme ? theme : dark ? darkTheme : null },\n        React.createElement(BottomToolbarDrawer, { className: className, open: open, anchor: anchor, scale: scale, dark: dark, style: style },\n            children,\n            pluginControls,\n            React.createElement(BottomToolbarMainBar, { nodeId: nodeId, actionsLeft: __spreadArray([\n                    React.createElement(ScaleButton, { key: \"scalebutton\", scale: scale, setScale: setScale })\n                ], __read(React.Children.toArray(actionsLeft)), false) }))));\n});\n//# sourceMappingURL=index.js.map","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nimport unsupportedProp from '../utils/unsupportedProp';\nexport var styles = function styles(theme) {\n  var _extends2;\n\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.button, (_extends2 = {\n      maxWidth: 264,\n      minWidth: 72,\n      position: 'relative',\n      boxSizing: 'border-box',\n      minHeight: 48,\n      flexShrink: 0,\n      padding: '6px 12px'\n    }, _defineProperty(_extends2, theme.breakpoints.up('sm'), {\n      padding: '6px 24px'\n    }), _defineProperty(_extends2, \"overflow\", 'hidden'), _defineProperty(_extends2, \"whiteSpace\", 'normal'), _defineProperty(_extends2, \"textAlign\", 'center'), _defineProperty(_extends2, theme.breakpoints.up('sm'), {\n      minWidth: 160\n    }), _extends2)),\n\n    /* Styles applied to the root element if both `icon` and `label` are provided. */\n    labelIcon: {\n      minHeight: 72,\n      paddingTop: 9,\n      '& $wrapper > *:first-child': {\n        marginBottom: 6\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"inherit\"`. */\n    textColorInherit: {\n      color: 'inherit',\n      opacity: 0.7,\n      '&$selected': {\n        opacity: 1\n      },\n      '&$disabled': {\n        opacity: 0.5\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"primary\"`. */\n    textColorPrimary: {\n      color: theme.palette.text.secondary,\n      '&$selected': {\n        color: theme.palette.primary.main\n      },\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"secondary\"`. */\n    textColorSecondary: {\n      color: theme.palette.text.secondary,\n      '&$selected': {\n        color: theme.palette.secondary.main\n      },\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    },\n\n    /* Pseudo-class applied to the root element if `selected={true}` (controlled by the Tabs component). */\n    selected: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}` (controlled by the Tabs component). */\n    disabled: {},\n\n    /* Styles applied to the root element if `fullWidth={true}` (controlled by the Tabs component). */\n    fullWidth: {\n      flexShrink: 1,\n      flexGrow: 1,\n      flexBasis: 0,\n      maxWidth: 'none'\n    },\n\n    /* Styles applied to the root element if `wrapped={true}`. */\n    wrapped: {\n      fontSize: theme.typography.pxToRem(12),\n      lineHeight: 1.5\n    },\n\n    /* Styles applied to the `icon` and `label`'s wrapper element. */\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column'\n    }\n  };\n};\nvar Tab = /*#__PURE__*/React.forwardRef(function Tab(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      fullWidth = props.fullWidth,\n      icon = props.icon,\n      indicator = props.indicator,\n      label = props.label,\n      onChange = props.onChange,\n      onClick = props.onClick,\n      onFocus = props.onFocus,\n      selected = props.selected,\n      selectionFollowsFocus = props.selectionFollowsFocus,\n      _props$textColor = props.textColor,\n      textColor = _props$textColor === void 0 ? 'inherit' : _props$textColor,\n      value = props.value,\n      _props$wrapped = props.wrapped,\n      wrapped = _props$wrapped === void 0 ? false : _props$wrapped,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"disabled\", \"disableFocusRipple\", \"fullWidth\", \"icon\", \"indicator\", \"label\", \"onChange\", \"onClick\", \"onFocus\", \"selected\", \"selectionFollowsFocus\", \"textColor\", \"value\", \"wrapped\"]);\n\n  var handleClick = function handleClick(event) {\n    if (onChange) {\n      onChange(event, value);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  var handleFocus = function handleFocus(event) {\n    if (selectionFollowsFocus && !selected && onChange) {\n      onChange(event, value);\n    }\n\n    if (onFocus) {\n      onFocus(event);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    focusRipple: !disableFocusRipple,\n    className: clsx(classes.root, classes[\"textColor\".concat(capitalize(textColor))], className, disabled && classes.disabled, selected && classes.selected, label && icon && classes.labelIcon, fullWidth && classes.fullWidth, wrapped && classes.wrapped),\n    ref: ref,\n    role: \"tab\",\n    \"aria-selected\": selected,\n    disabled: disabled,\n    onClick: handleClick,\n    onFocus: handleFocus,\n    tabIndex: selected ? 0 : -1\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.wrapper\n  }, icon, label), indicator);\n});\nprocess.env.NODE_ENV !== \"production\" ? Tab.propTypes = {\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the tab will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple will be disabled.\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  fullWidth: PropTypes.bool,\n\n  /**\n   * The icon element.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * @ignore\n   * For server-side rendering consideration, we let the selected tab\n   * render the indicator.\n   */\n  indicator: PropTypes.node,\n\n  /**\n   * The label element.\n   */\n  label: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  selectionFollowsFocus: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  textColor: PropTypes.oneOf(['secondary', 'primary', 'inherit']),\n\n  /**\n   * You can provide your own value. Otherwise, we fallback to the child position index.\n   */\n  value: PropTypes.any,\n\n  /**\n   * Tab labels appear in a single row.\n   * They can use a second line if needed.\n   */\n  wrapped: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTab'\n})(Tab);","function easeInOutSin(time) {\n  return (1 + Math.sin(Math.PI * time - Math.PI / 2)) / 2;\n}\n\nexport default function animate(property, element, to) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var cb = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {};\n  var _options$ease = options.ease,\n      ease = _options$ease === void 0 ? easeInOutSin : _options$ease,\n      _options$duration = options.duration,\n      duration = _options$duration === void 0 ? 300 : _options$duration;\n  var start = null;\n  var from = element[property];\n  var cancelled = false;\n\n  var cancel = function cancel() {\n    cancelled = true;\n  };\n\n  var step = function step(timestamp) {\n    if (cancelled) {\n      cb(new Error('Animation cancelled'));\n      return;\n    }\n\n    if (start === null) {\n      start = timestamp;\n    }\n\n    var time = Math.min(1, (timestamp - start) / duration);\n    element[property] = ease(time) * (to - from) + from;\n\n    if (time >= 1) {\n      requestAnimationFrame(function () {\n        cb(null);\n      });\n      return;\n    }\n\n    requestAnimationFrame(step);\n  };\n\n  if (from === to) {\n    cb(new Error('Element already at target position'));\n    return cancel;\n  }\n\n  requestAnimationFrame(step);\n  return cancel;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport debounce from '../utils/debounce';\nvar styles = {\n  width: 99,\n  height: 99,\n  position: 'absolute',\n  top: -9999,\n  overflow: 'scroll'\n};\n/**\n * @ignore - internal component.\n * The component originates from https://github.com/STORIS/react-scrollbar-size.\n * It has been moved into the core in order to minimize the bundle size.\n */\n\nexport default function ScrollbarSize(props) {\n  var onChange = props.onChange,\n      other = _objectWithoutProperties(props, [\"onChange\"]);\n\n  var scrollbarHeight = React.useRef();\n  var nodeRef = React.useRef(null);\n\n  var setMeasurements = function setMeasurements() {\n    scrollbarHeight.current = nodeRef.current.offsetHeight - nodeRef.current.clientHeight;\n  };\n\n  React.useEffect(function () {\n    var handleResize = debounce(function () {\n      var prevHeight = scrollbarHeight.current;\n      setMeasurements();\n\n      if (prevHeight !== scrollbarHeight.current) {\n        onChange(scrollbarHeight.current);\n      }\n    });\n    window.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [onChange]);\n  React.useEffect(function () {\n    setMeasurements();\n    onChange(scrollbarHeight.current);\n  }, [onChange]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    style: styles,\n    ref: nodeRef\n  }, other));\n}\nprocess.env.NODE_ENV !== \"production\" ? ScrollbarSize.propTypes = {\n  onChange: PropTypes.func.isRequired\n} : void 0;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    root: {\n      position: 'absolute',\n      height: 2,\n      bottom: 0,\n      width: '100%',\n      transition: theme.transitions.create()\n    },\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main\n    },\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main\n    },\n    vertical: {\n      height: '100%',\n      width: 2,\n      right: 0\n    }\n  };\n};\n/**\n * @ignore - internal component.\n */\n\nvar TabIndicator = /*#__PURE__*/React.forwardRef(function TabIndicator(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      color = props.color,\n      orientation = props.orientation,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"orientation\"]);\n\n  return /*#__PURE__*/React.createElement(\"span\", _extends({\n    className: clsx(classes.root, classes[\"color\".concat(capitalize(color))], className, orientation === 'vertical' && classes.vertical),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? TabIndicator.propTypes = {\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   * The color of the tab indicator.\n   */\n  color: PropTypes.oneOf(['primary', 'secondary']).isRequired,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired\n} : void 0;\nexport default withStyles(styles, {\n  name: 'PrivateTabIndicator'\n})(TabIndicator);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\n/* eslint-disable jsx-a11y/aria-role */\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport KeyboardArrowLeft from '../internal/svg-icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '../internal/svg-icons/KeyboardArrowRight';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    width: 40,\n    flexShrink: 0,\n    opacity: 0.8,\n    '&$disabled': {\n      opacity: 0\n    }\n  },\n\n  /* Styles applied to the root element if `orientation=\"vertical\"`. */\n  vertical: {\n    width: '100%',\n    height: 40,\n    '& svg': {\n      transform: 'rotate(90deg)'\n    }\n  },\n\n  /* Pseudo-class applied to the root element if `disabled={true}`. */\n  disabled: {}\n};\n\nvar _ref = /*#__PURE__*/React.createElement(KeyboardArrowLeft, {\n  fontSize: \"small\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(KeyboardArrowRight, {\n  fontSize: \"small\"\n});\n\nvar TabScrollButton = /*#__PURE__*/React.forwardRef(function TabScrollButton(props, ref) {\n  var classes = props.classes,\n      classNameProp = props.className,\n      direction = props.direction,\n      orientation = props.orientation,\n      disabled = props.disabled,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"direction\", \"orientation\", \"disabled\"]);\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    component: \"div\",\n    className: clsx(classes.root, classNameProp, disabled && classes.disabled, orientation === 'vertical' && classes.vertical),\n    ref: ref,\n    role: null,\n    tabIndex: null\n  }, other), direction === 'left' ? _ref : _ref2);\n});\nprocess.env.NODE_ENV !== \"production\" ? TabScrollButton.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Which direction should the button indicate?\n   */\n  direction: PropTypes.oneOf(['left', 'right']).isRequired,\n\n  /**\n   * If `true`, the element will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTabScrollButton'\n})(TabScrollButton);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport debounce from '../utils/debounce';\nimport ownerWindow from '../utils/ownerWindow';\nimport { getNormalizedScrollLeft, detectScrollType } from '../utils/scrollLeft';\nimport animate from '../internal/animate';\nimport ScrollbarSize from './ScrollbarSize';\nimport withStyles from '../styles/withStyles';\nimport TabIndicator from './TabIndicator';\nimport TabScrollButton from '../TabScrollButton';\nimport useEventCallback from '../utils/useEventCallback';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      overflow: 'hidden',\n      minHeight: 48,\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      display: 'flex'\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the flex container element. */\n    flexContainer: {\n      display: 'flex'\n    },\n\n    /* Styles applied to the flex container element if `orientation=\"vertical\"`. */\n    flexContainerVertical: {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the flex container element if `centered={true}` & `!variant=\"scrollable\"`. */\n    centered: {\n      justifyContent: 'center'\n    },\n\n    /* Styles applied to the tablist element. */\n    scroller: {\n      position: 'relative',\n      display: 'inline-block',\n      flex: '1 1 auto',\n      whiteSpace: 'nowrap'\n    },\n\n    /* Styles applied to the tablist element if `!variant=\"scrollable\"`\b\b\b. */\n    fixed: {\n      overflowX: 'hidden',\n      width: '100%'\n    },\n\n    /* Styles applied to the tablist element if `variant=\"scrollable\"`. */\n    scrollable: {\n      overflowX: 'scroll',\n      // Hide dimensionless scrollbar on MacOS\n      scrollbarWidth: 'none',\n      // Firefox\n      '&::-webkit-scrollbar': {\n        display: 'none' // Safari + Chrome\n\n      }\n    },\n\n    /* Styles applied to the `ScrollButtonComponent` component. */\n    scrollButtons: {},\n\n    /* Styles applied to the `ScrollButtonComponent` component if `scrollButtons=\"auto\"` or scrollButtons=\"desktop\"`. */\n    scrollButtonsDesktop: _defineProperty({}, theme.breakpoints.down('xs'), {\n      display: 'none'\n    }),\n\n    /* Styles applied to the `TabIndicator` component. */\n    indicator: {}\n  };\n};\nvar Tabs = /*#__PURE__*/React.forwardRef(function Tabs(props, ref) {\n  var ariaLabel = props['aria-label'],\n      ariaLabelledBy = props['aria-labelledby'],\n      action = props.action,\n      _props$centered = props.centered,\n      centered = _props$centered === void 0 ? false : _props$centered,\n      childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$indicatorColor = props.indicatorColor,\n      indicatorColor = _props$indicatorColor === void 0 ? 'secondary' : _props$indicatorColor,\n      onChange = props.onChange,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$ScrollButtonCo = props.ScrollButtonComponent,\n      ScrollButtonComponent = _props$ScrollButtonCo === void 0 ? TabScrollButton : _props$ScrollButtonCo,\n      _props$scrollButtons = props.scrollButtons,\n      scrollButtons = _props$scrollButtons === void 0 ? 'auto' : _props$scrollButtons,\n      selectionFollowsFocus = props.selectionFollowsFocus,\n      _props$TabIndicatorPr = props.TabIndicatorProps,\n      TabIndicatorProps = _props$TabIndicatorPr === void 0 ? {} : _props$TabIndicatorPr,\n      TabScrollButtonProps = props.TabScrollButtonProps,\n      _props$textColor = props.textColor,\n      textColor = _props$textColor === void 0 ? 'inherit' : _props$textColor,\n      value = props.value,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"aria-label\", \"aria-labelledby\", \"action\", \"centered\", \"children\", \"classes\", \"className\", \"component\", \"indicatorColor\", \"onChange\", \"orientation\", \"ScrollButtonComponent\", \"scrollButtons\", \"selectionFollowsFocus\", \"TabIndicatorProps\", \"TabScrollButtonProps\", \"textColor\", \"value\", \"variant\"]);\n\n  var theme = useTheme();\n  var scrollable = variant === 'scrollable';\n  var isRtl = theme.direction === 'rtl';\n  var vertical = orientation === 'vertical';\n  var scrollStart = vertical ? 'scrollTop' : 'scrollLeft';\n  var start = vertical ? 'top' : 'left';\n  var end = vertical ? 'bottom' : 'right';\n  var clientSize = vertical ? 'clientHeight' : 'clientWidth';\n  var size = vertical ? 'height' : 'width';\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (centered && scrollable) {\n      console.error('Material-UI: You can not use the `centered={true}` and `variant=\"scrollable\"` properties ' + 'at the same time on a `Tabs` component.');\n    }\n  }\n\n  var _React$useState = React.useState(false),\n      mounted = _React$useState[0],\n      setMounted = _React$useState[1];\n\n  var _React$useState2 = React.useState({}),\n      indicatorStyle = _React$useState2[0],\n      setIndicatorStyle = _React$useState2[1];\n\n  var _React$useState3 = React.useState({\n    start: false,\n    end: false\n  }),\n      displayScroll = _React$useState3[0],\n      setDisplayScroll = _React$useState3[1];\n\n  var _React$useState4 = React.useState({\n    overflow: 'hidden',\n    marginBottom: null\n  }),\n      scrollerStyle = _React$useState4[0],\n      setScrollerStyle = _React$useState4[1];\n\n  var valueToIndex = new Map();\n  var tabsRef = React.useRef(null);\n  var tabListRef = React.useRef(null);\n\n  var getTabsMeta = function getTabsMeta() {\n    var tabsNode = tabsRef.current;\n    var tabsMeta;\n\n    if (tabsNode) {\n      var rect = tabsNode.getBoundingClientRect(); // create a new object with ClientRect class props + scrollLeft\n\n      tabsMeta = {\n        clientWidth: tabsNode.clientWidth,\n        scrollLeft: tabsNode.scrollLeft,\n        scrollTop: tabsNode.scrollTop,\n        scrollLeftNormalized: getNormalizedScrollLeft(tabsNode, theme.direction),\n        scrollWidth: tabsNode.scrollWidth,\n        top: rect.top,\n        bottom: rect.bottom,\n        left: rect.left,\n        right: rect.right\n      };\n    }\n\n    var tabMeta;\n\n    if (tabsNode && value !== false) {\n      var _children = tabListRef.current.children;\n\n      if (_children.length > 0) {\n        var tab = _children[valueToIndex.get(value)];\n\n        if (process.env.NODE_ENV !== 'production') {\n          if (!tab) {\n            console.error([\"Material-UI: The value provided to the Tabs component is invalid.\", \"None of the Tabs' children match with `\".concat(value, \"`.\"), valueToIndex.keys ? \"You can provide one of the following values: \".concat(Array.from(valueToIndex.keys()).join(', '), \".\") : null].join('\\n'));\n          }\n        }\n\n        tabMeta = tab ? tab.getBoundingClientRect() : null;\n      }\n    }\n\n    return {\n      tabsMeta: tabsMeta,\n      tabMeta: tabMeta\n    };\n  };\n\n  var updateIndicatorState = useEventCallback(function () {\n    var _newIndicatorStyle;\n\n    var _getTabsMeta = getTabsMeta(),\n        tabsMeta = _getTabsMeta.tabsMeta,\n        tabMeta = _getTabsMeta.tabMeta;\n\n    var startValue = 0;\n\n    if (tabMeta && tabsMeta) {\n      if (vertical) {\n        startValue = tabMeta.top - tabsMeta.top + tabsMeta.scrollTop;\n      } else {\n        var correction = isRtl ? tabsMeta.scrollLeftNormalized + tabsMeta.clientWidth - tabsMeta.scrollWidth : tabsMeta.scrollLeft;\n        startValue = tabMeta.left - tabsMeta.left + correction;\n      }\n    }\n\n    var newIndicatorStyle = (_newIndicatorStyle = {}, _defineProperty(_newIndicatorStyle, start, startValue), _defineProperty(_newIndicatorStyle, size, tabMeta ? tabMeta[size] : 0), _newIndicatorStyle);\n\n    if (isNaN(indicatorStyle[start]) || isNaN(indicatorStyle[size])) {\n      setIndicatorStyle(newIndicatorStyle);\n    } else {\n      var dStart = Math.abs(indicatorStyle[start] - newIndicatorStyle[start]);\n      var dSize = Math.abs(indicatorStyle[size] - newIndicatorStyle[size]);\n\n      if (dStart >= 1 || dSize >= 1) {\n        setIndicatorStyle(newIndicatorStyle);\n      }\n    }\n  });\n\n  var scroll = function scroll(scrollValue) {\n    animate(scrollStart, tabsRef.current, scrollValue);\n  };\n\n  var moveTabsScroll = function moveTabsScroll(delta) {\n    var scrollValue = tabsRef.current[scrollStart];\n\n    if (vertical) {\n      scrollValue += delta;\n    } else {\n      scrollValue += delta * (isRtl ? -1 : 1); // Fix for Edge\n\n      scrollValue *= isRtl && detectScrollType() === 'reverse' ? -1 : 1;\n    }\n\n    scroll(scrollValue);\n  };\n\n  var handleStartScrollClick = function handleStartScrollClick() {\n    moveTabsScroll(-tabsRef.current[clientSize]);\n  };\n\n  var handleEndScrollClick = function handleEndScrollClick() {\n    moveTabsScroll(tabsRef.current[clientSize]);\n  };\n\n  var handleScrollbarSizeChange = React.useCallback(function (scrollbarHeight) {\n    setScrollerStyle({\n      overflow: null,\n      marginBottom: -scrollbarHeight\n    });\n  }, []);\n\n  var getConditionalElements = function getConditionalElements() {\n    var conditionalElements = {};\n    conditionalElements.scrollbarSizeListener = scrollable ? /*#__PURE__*/React.createElement(ScrollbarSize, {\n      className: classes.scrollable,\n      onChange: handleScrollbarSizeChange\n    }) : null;\n    var scrollButtonsActive = displayScroll.start || displayScroll.end;\n    var showScrollButtons = scrollable && (scrollButtons === 'auto' && scrollButtonsActive || scrollButtons === 'desktop' || scrollButtons === 'on');\n    conditionalElements.scrollButtonStart = showScrollButtons ? /*#__PURE__*/React.createElement(ScrollButtonComponent, _extends({\n      orientation: orientation,\n      direction: isRtl ? 'right' : 'left',\n      onClick: handleStartScrollClick,\n      disabled: !displayScroll.start,\n      className: clsx(classes.scrollButtons, scrollButtons !== 'on' && classes.scrollButtonsDesktop)\n    }, TabScrollButtonProps)) : null;\n    conditionalElements.scrollButtonEnd = showScrollButtons ? /*#__PURE__*/React.createElement(ScrollButtonComponent, _extends({\n      orientation: orientation,\n      direction: isRtl ? 'left' : 'right',\n      onClick: handleEndScrollClick,\n      disabled: !displayScroll.end,\n      className: clsx(classes.scrollButtons, scrollButtons !== 'on' && classes.scrollButtonsDesktop)\n    }, TabScrollButtonProps)) : null;\n    return conditionalElements;\n  };\n\n  var scrollSelectedIntoView = useEventCallback(function () {\n    var _getTabsMeta2 = getTabsMeta(),\n        tabsMeta = _getTabsMeta2.tabsMeta,\n        tabMeta = _getTabsMeta2.tabMeta;\n\n    if (!tabMeta || !tabsMeta) {\n      return;\n    }\n\n    if (tabMeta[start] < tabsMeta[start]) {\n      // left side of button is out of view\n      var nextScrollStart = tabsMeta[scrollStart] + (tabMeta[start] - tabsMeta[start]);\n      scroll(nextScrollStart);\n    } else if (tabMeta[end] > tabsMeta[end]) {\n      // right side of button is out of view\n      var _nextScrollStart = tabsMeta[scrollStart] + (tabMeta[end] - tabsMeta[end]);\n\n      scroll(_nextScrollStart);\n    }\n  });\n  var updateScrollButtonState = useEventCallback(function () {\n    if (scrollable && scrollButtons !== 'off') {\n      var _tabsRef$current = tabsRef.current,\n          scrollTop = _tabsRef$current.scrollTop,\n          scrollHeight = _tabsRef$current.scrollHeight,\n          clientHeight = _tabsRef$current.clientHeight,\n          scrollWidth = _tabsRef$current.scrollWidth,\n          clientWidth = _tabsRef$current.clientWidth;\n      var showStartScroll;\n      var showEndScroll;\n\n      if (vertical) {\n        showStartScroll = scrollTop > 1;\n        showEndScroll = scrollTop < scrollHeight - clientHeight - 1;\n      } else {\n        var scrollLeft = getNormalizedScrollLeft(tabsRef.current, theme.direction); // use 1 for the potential rounding error with browser zooms.\n\n        showStartScroll = isRtl ? scrollLeft < scrollWidth - clientWidth - 1 : scrollLeft > 1;\n        showEndScroll = !isRtl ? scrollLeft < scrollWidth - clientWidth - 1 : scrollLeft > 1;\n      }\n\n      if (showStartScroll !== displayScroll.start || showEndScroll !== displayScroll.end) {\n        setDisplayScroll({\n          start: showStartScroll,\n          end: showEndScroll\n        });\n      }\n    }\n  });\n  React.useEffect(function () {\n    var handleResize = debounce(function () {\n      updateIndicatorState();\n      updateScrollButtonState();\n    });\n    var win = ownerWindow(tabsRef.current);\n    win.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      win.removeEventListener('resize', handleResize);\n    };\n  }, [updateIndicatorState, updateScrollButtonState]);\n  var handleTabsScroll = React.useCallback(debounce(function () {\n    updateScrollButtonState();\n  }));\n  React.useEffect(function () {\n    return function () {\n      handleTabsScroll.clear();\n    };\n  }, [handleTabsScroll]);\n  React.useEffect(function () {\n    setMounted(true);\n  }, []);\n  React.useEffect(function () {\n    updateIndicatorState();\n    updateScrollButtonState();\n  });\n  React.useEffect(function () {\n    scrollSelectedIntoView();\n  }, [scrollSelectedIntoView, indicatorStyle]);\n  React.useImperativeHandle(action, function () {\n    return {\n      updateIndicator: updateIndicatorState,\n      updateScrollButtons: updateScrollButtonState\n    };\n  }, [updateIndicatorState, updateScrollButtonState]);\n  var indicator = /*#__PURE__*/React.createElement(TabIndicator, _extends({\n    className: classes.indicator,\n    orientation: orientation,\n    color: indicatorColor\n  }, TabIndicatorProps, {\n    style: _extends({}, indicatorStyle, TabIndicatorProps.style)\n  }));\n  var childIndex = 0;\n  var children = React.Children.map(childrenProp, function (child) {\n    if (! /*#__PURE__*/React.isValidElement(child)) {\n      return null;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"Material-UI: The Tabs component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n\n    var childValue = child.props.value === undefined ? childIndex : child.props.value;\n    valueToIndex.set(childValue, childIndex);\n    var selected = childValue === value;\n    childIndex += 1;\n    return /*#__PURE__*/React.cloneElement(child, {\n      fullWidth: variant === 'fullWidth',\n      indicator: selected && !mounted && indicator,\n      selected: selected,\n      selectionFollowsFocus: selectionFollowsFocus,\n      onChange: onChange,\n      textColor: textColor,\n      value: childValue\n    });\n  });\n\n  var handleKeyDown = function handleKeyDown(event) {\n    var target = event.target; // Keyboard navigation assumes that [role=\"tab\"] are siblings\n    // though we might warn in the future about nested, interactive elements\n    // as a a11y violation\n\n    var role = target.getAttribute('role');\n\n    if (role !== 'tab') {\n      return;\n    }\n\n    var newFocusTarget = null;\n    var previousItemKey = orientation !== \"vertical\" ? 'ArrowLeft' : 'ArrowUp';\n    var nextItemKey = orientation !== \"vertical\" ? 'ArrowRight' : 'ArrowDown';\n\n    if (orientation !== \"vertical\" && theme.direction === 'rtl') {\n      // swap previousItemKey with nextItemKey\n      previousItemKey = 'ArrowRight';\n      nextItemKey = 'ArrowLeft';\n    }\n\n    switch (event.key) {\n      case previousItemKey:\n        newFocusTarget = target.previousElementSibling || tabListRef.current.lastChild;\n        break;\n\n      case nextItemKey:\n        newFocusTarget = target.nextElementSibling || tabListRef.current.firstChild;\n        break;\n\n      case 'Home':\n        newFocusTarget = tabListRef.current.firstChild;\n        break;\n\n      case 'End':\n        newFocusTarget = tabListRef.current.lastChild;\n        break;\n\n      default:\n        break;\n    }\n\n    if (newFocusTarget !== null) {\n      newFocusTarget.focus();\n      event.preventDefault();\n    }\n  };\n\n  var conditionalElements = getConditionalElements();\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, vertical && classes.vertical),\n    ref: ref\n  }, other), conditionalElements.scrollButtonStart, conditionalElements.scrollbarSizeListener, /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.scroller, scrollable ? classes.scrollable : classes.fixed),\n    style: scrollerStyle,\n    ref: tabsRef,\n    onScroll: handleTabsScroll\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabelledBy,\n    className: clsx(classes.flexContainer, vertical && classes.flexContainerVertical, centered && !scrollable && classes.centered),\n    onKeyDown: handleKeyDown,\n    ref: tabListRef,\n    role: \"tablist\"\n  }, children), mounted && indicator), conditionalElements.scrollButtonEnd);\n});\nprocess.env.NODE_ENV !== \"production\" ? Tabs.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Callback fired when the component mounts.\n   * This is useful when you want to trigger an action programmatically.\n   * It supports two actions: `updateIndicator()` and `updateScrollButtons()`\n   *\n   * @param {object} actions This object contains all possible actions\n   * that can be triggered programmatically.\n   */\n  action: refType,\n\n  /**\n   * The label for the Tabs as a string.\n   */\n  'aria-label': PropTypes.string,\n\n  /**\n   * An id or list of ids separated by a space that label the Tabs.\n   */\n  'aria-labelledby': PropTypes.string,\n\n  /**\n   * If `true`, the tabs will be centered.\n   * This property is intended for large views.\n   */\n  centered: PropTypes.bool,\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Determines the color of the indicator.\n   */\n  indicatorColor: PropTypes.oneOf(['primary', 'secondary']),\n\n  /**\n   * Callback fired when the value changes.\n   *\n   * @param {object} event The event source of the callback\n   * @param {any} value We default to the index of the child (number)\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * The component used to render the scroll buttons.\n   */\n  ScrollButtonComponent: PropTypes.elementType,\n\n  /**\n   * Determine behavior of scroll buttons when tabs are set to scroll:\n   *\n   * - `auto` will only present them when not all the items are visible.\n   * - `desktop` will only present them on medium and larger viewports.\n   * - `on` will always present them.\n   * - `off` will never present them.\n   */\n  scrollButtons: PropTypes.oneOf(['auto', 'desktop', 'off', 'on']),\n\n  /**\n   * If `true` the selected tab changes on focus. Otherwise it only\n   * changes on activation.\n   */\n  selectionFollowsFocus: PropTypes.bool,\n\n  /**\n   * Props applied to the tab indicator element.\n   */\n  TabIndicatorProps: PropTypes.object,\n\n  /**\n   * Props applied to the [`TabScrollButton`](/api/tab-scroll-button/) element.\n   */\n  TabScrollButtonProps: PropTypes.object,\n\n  /**\n   * Determines the color of the `Tab`.\n   */\n  textColor: PropTypes.oneOf(['inherit', 'primary', 'secondary']),\n\n  /**\n   * The value of the currently selected `Tab`.\n   * If you don't want any selected `Tab`, you can set this property to `false`.\n   */\n  value: PropTypes.any,\n\n  /**\n   * Determines additional display behavior of the tabs:\n   *\n   *  - `scrollable` will invoke scrolling properties and allow for horizontally\n   *  scrolling (or swiping) of the tab bar.\n   *  -`fullWidth` will make the tabs grow to use all the available space,\n   *  which should be used for small views, like on mobile.\n   *  - `standard` will render the default state.\n   */\n  variant: PropTypes.oneOf(['fullWidth', 'scrollable', 'standard'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTabs'\n})(Tabs);","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { Tab, Tabs } from '@material-ui/core';\nimport { withStyles } from '@material-ui/styles';\nimport React, { useState } from 'react';\nimport { AutoformControls } from '../../../../ui';\nvar StyledTab = withStyles(function () { return ({\n    wrapper: {\n        alignItems: 'flex-start',\n    },\n}); })(Tab);\nvar StyledTabs = withStyles(function (theme) { return ({\n    root: {\n        marginTop: -12,\n        marginBottom: -12,\n        marginLeft: -24,\n        alignItems: 'flex-start',\n        backgroundColor: theme.palette.background.default,\n    },\n}); })(Tabs);\nvar ControlsList = React.memo(function (_a) {\n    var _b;\n    var controls = _a.controls, componentProps = _a.componentProps;\n    var _c = __read(useState(0), 2), tab = _c[0], setTab = _c[1];\n    var activeControls = (_b = controls[tab]) === null || _b === void 0 ? void 0 : _b.controls;\n    return (React.createElement(\"div\", { style: {\n            display: 'flex',\n            flexDirection: 'row',\n        } },\n        React.createElement(StyledTabs, { value: tab, onChange: function (e, v) { return setTab(v); }, orientation: \"vertical\", variant: \"scrollable\" }, controls.map(function (t, index) { return (React.createElement(StyledTab, { label: t.title, key: index })); })),\n        activeControls ? (React.createElement(\"div\", { style: {\n                flex: 1,\n                marginLeft: 24,\n                display: 'flex',\n            } },\n            React.createElement(Controls, { controls: activeControls, componentProps: componentProps }))) : null));\n});\nvar Controls = React.memo(function (_a) {\n    var controls = _a.controls, componentProps = _a.componentProps;\n    var pluginControls = null;\n    if (Array.isArray(controls)) {\n        return React.createElement(ControlsList, { componentProps: componentProps, controls: controls });\n    }\n    if ((controls === null || controls === void 0 ? void 0 : controls.type) === 'custom') {\n        var Component = controls.Component;\n        pluginControls = React.createElement(Component, __assign({}, componentProps, controls));\n    }\n    else if ((controls === null || controls === void 0 ? void 0 : controls.type) === 'autoform') {\n        pluginControls = React.createElement(AutoformControls, __assign({}, componentProps, controls));\n    }\n    return React.createElement(\"div\", { style: { overflow: 'auto', flex: 1 } }, pluginControls);\n});\nvar PluginControls = function (_a) {\n    var controls = _a.controls, componentProps = _a.componentProps;\n    return (React.createElement(\"div\", { style: {\n            maxHeight: '50vh',\n            // if it has tabs, stretch to avoid jumping tabs\n            width: Array.isArray(controls) ? '100vw' : undefined,\n            maxWidth: '100%',\n            display: 'flex',\n        } },\n        React.createElement(Controls, { controls: controls, componentProps: componentProps })));\n};\nexport default React.memo(PluginControls);\n//# sourceMappingURL=index.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nvar PluginMissing = function (_a) {\n    var children = _a.children, props = __rest(_a, [\"children\"]);\n    return (React.createElement(\"div\", null,\n        React.createElement(\"div\", { style: {\n                backgroundColor: 'red',\n                padding: '8px',\n                border: '1px solid black',\n                margin: '2px',\n                overflowX: 'scroll',\n            } },\n            \"The requested plugin `\",\n            props.pluginId,\n            \"` could not be found.\",\n            React.createElement(\"button\", { onClick: props.remove }, \"Delete Plugin\"),\n            React.createElement(\"pre\", null, JSON.stringify(props, null, 2))),\n        children));\n};\nexport default PluginMissing;\n//# sourceMappingURL=PluginMissing.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React, { useMemo } from 'react';\nimport { BottomToolbar } from '../../../../ui';\nimport { usePluginOfCell, useDebouncedCellData, useIsEditMode, useIsPreviewMode, useLang, useRemoveCell, useCellProps, useOption, useIsExclusivlyFocused, } from '../../hooks';\nimport PluginControls from '../PluginControls';\nimport PluginMissing from '../PluginMissing';\nimport NoopProvider from '../NoopProvider';\nvar PluginComponent = function (_a) {\n    var _b, _c, _d;\n    var nodeId = _a.nodeId, children = _a.children, hasChildren = _a.hasChildren;\n    var lang = useLang();\n    var components = useOption('components');\n    var CustomPluginMissing = components === null || components === void 0 ? void 0 : components.CellPluginMissing;\n    var isPreviewMode = useIsPreviewMode();\n    var isEditMode = useIsEditMode();\n    var _e = __read(useDebouncedCellData(nodeId), 2), data = _e[0], onChange = _e[1];\n    var pluginId = useCellProps(nodeId, function (c) { var _a; return (_a = c.plugin) === null || _a === void 0 ? void 0 : _a.id; });\n    var plugin = usePluginOfCell(nodeId);\n    var focused = useIsExclusivlyFocused(nodeId);\n    var hasInlineNeighbour = useCellProps(nodeId, function (c) { return c.hasInlineNeighbour; });\n    var Renderer = plugin === null || plugin === void 0 ? void 0 : plugin.Renderer;\n    var Missing = CustomPluginMissing !== null && CustomPluginMissing !== void 0 ? CustomPluginMissing : PluginMissing;\n    var Provider = (_b = plugin === null || plugin === void 0 ? void 0 : plugin.Provider) !== null && _b !== void 0 ? _b : NoopProvider;\n    var remove = useRemoveCell(nodeId);\n    var Toolbar = (_c = components === null || components === void 0 ? void 0 : components.BottomToolbar) !== null && _c !== void 0 ? _c : BottomToolbar;\n    var componentProps = useMemo(function () { return ({\n        nodeId: nodeId,\n        lang: lang,\n        data: data,\n        pluginConfig: plugin,\n        focused: isEditMode && focused,\n        readOnly: !isEditMode,\n        onChange: onChange,\n        isEditMode: isEditMode,\n        isPreviewMode: isPreviewMode,\n        remove: remove,\n    }); }, [\n        nodeId,\n        lang,\n        data,\n        plugin,\n        isEditMode,\n        focused,\n        onChange,\n        isEditMode,\n        isPreviewMode,\n        remove,\n    ]);\n    // In case of non-zero cell spacing, nested layouts (layout plugins with children) should have their\n    // margin collapsing functionality off. The simplest solution is to use display:flex for the below wrapping <div>.\n    // This however is not compatible with inline elements flotation, so if a cell has inline neighbors, we are going\n    // to have to keep display:block style. Layout plugins with inline cell support will have to take care of\n    // margin collapsing internally on their own.\n    var display = hasInlineNeighbour\n        ? {}\n        : {\n            display: 'flex',\n            flexDirection: 'column',\n        };\n    return (React.createElement(Provider, __assign({}, componentProps),\n        React.createElement(React.Fragment, null,\n            React.createElement(\"div\", { style: __assign(__assign({}, display), { height: '100%', pointerEvents: !isPreviewMode &&\n                        plugin &&\n                        !(plugin === null || plugin === void 0 ? void 0 : plugin.allowClickInside) &&\n                        !hasChildren\n                        ? 'none'\n                        : undefined }) }, Renderer ? (React.createElement(Renderer, __assign({}, componentProps), children)) : pluginId ? (React.createElement(Missing, __assign({}, componentProps, { pluginId: pluginId }))) : (children)),\n            React.createElement(Toolbar, { nodeId: nodeId, open: focused, dark: (_d = plugin === null || plugin === void 0 ? void 0 : plugin.bottomToolbar) === null || _d === void 0 ? void 0 : _d.dark, pluginControls: isEditMode && (plugin === null || plugin === void 0 ? void 0 : plugin.controls) ? (React.createElement(PluginControls, { componentProps: componentProps, controls: plugin === null || plugin === void 0 ? void 0 : plugin.controls })) : null }))));\n};\nexport default PluginComponent;\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport { getPluginCellSpacing, normalizeCellSpacing, } from '../../../utils/getCellSpacing';\nimport { useCellData, useCellHasPlugin, useCellInnerDivStylingProps, useCellSpacing, useCellSpacingProvider, useFocusCell, useIsEditMode, useIsFocused, useIsPreviewMode, useNodeChildrenIds, useOption, usePluginOfCell, useSetEditMode, } from '../../hooks';\nimport Row from '../../Row';\nimport Draggable from '../Draggable';\nimport Droppable from '../Droppable';\nimport InsertNew from '../InsertNew';\nimport PluginComponent from '../PluginComponent';\nvar Inner = function (_a) {\n    var _b, _c, _d;\n    var nodeId = _a.nodeId;\n    var isPreviewMode = useIsPreviewMode();\n    var isEditMode = useIsEditMode();\n    var cellShouldHavePlugin = useCellHasPlugin(nodeId);\n    var plugin = usePluginOfCell(nodeId);\n    var setEditMode = useSetEditMode();\n    var focus = useFocusCell(nodeId);\n    var focused = useIsFocused(nodeId);\n    var childrenIds = useNodeChildrenIds(nodeId);\n    var cellSpacingY = useCellSpacing().y;\n    var ref = React.useRef();\n    var hasChildren = childrenIds.length > 0;\n    var data = useCellData(nodeId);\n    var pluginCellSpacing = getPluginCellSpacing(plugin, data);\n    var _e = __read(useCellSpacingProvider(pluginCellSpacing), 2), Provider = _e[0], providerValue = _e[1];\n    if (typeof pluginCellSpacing !== 'undefined' && pluginCellSpacing != null) {\n        cellSpacingY = normalizeCellSpacing(pluginCellSpacing).y;\n    }\n    var onClick = React.useCallback(function (e) {\n        var _a;\n        var target = e.target;\n        // check whether the click was inside cell-inner, but not inside a nested cell\n        if (!focused &&\n            isEditMode &&\n            // this arrives when they stop resizing\n            !((_a = target.classList) === null || _a === void 0 ? void 0 : _a.contains('react-page-row')) &&\n            (target === null || target === void 0 ? void 0 : target.closest) &&\n            target.closest('.react-page-cell-inner') === ref.current &&\n            target.closest('.react-page-cell.react-page-cell-has-plugin') ===\n                ref.current.closest('.react-page-cell')) {\n            var mode = e.metaKey || e.ctrlKey ? 'add' : 'replace';\n            focus(false, mode);\n            setEditMode();\n        }\n    }, [focus, focused, isEditMode, setEditMode]);\n    var insertAllowed = ((_b = plugin === null || plugin === void 0 ? void 0 : plugin.childConstraints) === null || _b === void 0 ? void 0 : _b.maxChildren)\n        ? ((_c = plugin === null || plugin === void 0 ? void 0 : plugin.childConstraints) === null || _c === void 0 ? void 0 : _c.maxChildren) > childrenIds.length\n        : true;\n    var innerDivProps = useCellInnerDivStylingProps(nodeId);\n    var children = childrenIds.map(function (id) { return React.createElement(Row, { nodeId: id, key: id }); });\n    var components = useOption('components');\n    var InsertNewWithDefault = (_d = components === null || components === void 0 ? void 0 : components.InsertNew) !== null && _d !== void 0 ? _d : InsertNew;\n    if (!cellShouldHavePlugin) {\n        return React.createElement(Droppable, { nodeId: nodeId }, children);\n    }\n    return (React.createElement(Droppable, { nodeId: nodeId, isLeaf: !hasChildren },\n        React.createElement(Draggable, { nodeId: nodeId, isLeaf: !hasChildren },\n            React.createElement(\"div\", __assign({ onClick: !isPreviewMode ? onClick : undefined, tabIndex: -1, ref: ref }, innerDivProps),\n                React.createElement(PluginComponent, { nodeId: nodeId, hasChildren: hasChildren },\n                    hasChildren ? (React.createElement(Provider, { value: providerValue },\n                        React.createElement(\"div\", { style: cellSpacingY !== 0\n                                ? { margin: -cellSpacingY / 2 + \"px 0\" }\n                                : undefined }, children))) : (children),\n                    insertAllowed ? (React.createElement(InsertNewWithDefault, { parentCellId: nodeId, childrenIds: childrenIds })) : null)))));\n};\nexport default React.memo(Inner);\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { MoveDown, MoveLeft, MoveRight, MoveUp, } from '../../../../ui/moveButtons';\nvar baseStyle = {\n    position: 'absolute',\n    margin: 0,\n};\nvar MARGIN = 10;\nvar MoveActions = function (_a) {\n    var nodeId = _a.nodeId;\n    return (React.createElement(\"div\", { className: \"react-page-cell-move-actions\", style: __assign({ left: 0, right: 0, bottom: 0, top: 0, zIndex: 100, pointerEvents: 'none' }, baseStyle) },\n        React.createElement(MoveUp, { nodeId: nodeId, style: __assign(__assign({}, baseStyle), { top: MARGIN, left: '50%', transform: 'translateX(-50%)' }) }),\n        React.createElement(MoveLeft, { nodeId: nodeId, style: __assign(__assign({}, baseStyle), { left: MARGIN, top: '50%', transform: 'translateY(-50%)' }) }),\n        React.createElement(MoveRight, { nodeId: nodeId, style: __assign(__assign({}, baseStyle), { right: MARGIN, top: '50%', transform: 'translateY(-50%)' }) }),\n        React.createElement(MoveDown, { nodeId: nodeId, style: __assign(__assign({}, baseStyle), { bottom: MARGIN, left: '50%', transform: 'translateX(-50%)' }) })));\n};\nexport default MoveActions;\n//# sourceMappingURL=index.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport classNames from 'classnames';\nimport React, { useCallback } from 'react';\nimport { getCellOuterDivClassName } from '../../utils/getCellStylingProps';\nimport { useAllFocusedNodeIds, useCellHasPlugin, useCellProps, useCellSpacing, useIsFocused, useIsInsertMode, useIsLayoutMode, useIsPreviewMode, useIsResizeMode, useLang, useNodeHasChildren, useOption, useScrollToViewEffect, useSetDisplayReferenceNodeId, } from '../hooks';\nimport ErrorCell from './ErrorCell';\nimport Handle from './Handle';\nimport Inner from './Inner';\nimport MoveActions from './MoveActions';\nimport scrollIntoViewWithOffset from './utils/scrollIntoViewWithOffset';\nvar CellErrorGate = /** @class */ (function (_super) {\n    __extends(class_1, _super);\n    function class_1() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            error: null,\n        };\n        return _this;\n    }\n    class_1.prototype.componentDidCatch = function (error) {\n        this.setState({ error: error });\n    };\n    class_1.prototype.render = function () {\n        if (this.state.error) {\n            return React.createElement(ErrorCell, { nodeId: this.props.nodeId, error: this.state.error });\n        }\n        return this.props.children;\n    };\n    return class_1;\n}(React.Component));\nvar Cell = function (_a) {\n    var _b;\n    var nodeId = _a.nodeId, measureRef = _a.measureRef;\n    var focused = useIsFocused(nodeId);\n    var _c = useCellProps(nodeId, function (_a) {\n        var inline = _a.inline, hasInlineNeighbour = _a.hasInlineNeighbour, isDraft = _a.isDraft, isDraftI18n = _a.isDraftI18n, size = _a.size;\n        return ({\n            inline: inline,\n            hasInlineNeighbour: hasInlineNeighbour,\n            isDraft: isDraft,\n            isDraftI18n: isDraftI18n,\n            size: size,\n        });\n    }), inline = _c.inline, hasInlineNeighbour = _c.hasInlineNeighbour, isDraft = _c.isDraft, isDraftI18n = _c.isDraftI18n, size = _c.size;\n    var lang = useLang();\n    var isPreviewMode = useIsPreviewMode();\n    var isResizeMode = useIsResizeMode();\n    var isLayoutMode = useIsLayoutMode();\n    var isInsertMode = useIsInsertMode();\n    var multiNodesSelected = useAllFocusedNodeIds().length > 1;\n    var hasChildren = useNodeHasChildren(nodeId);\n    var showMoveButtons = useOption('showMoveButtonsInLayoutMode');\n    var hasPlugin = useCellHasPlugin(nodeId);\n    var _d = useCellSpacing(), cellSpacingX = _d.x, cellSpacingY = _d.y;\n    var needVerticalPadding = !hasChildren || hasPlugin;\n    var isDraftInLang = (_b = isDraftI18n === null || isDraftI18n === void 0 ? void 0 : isDraftI18n[lang]) !== null && _b !== void 0 ? _b : isDraft;\n    var ref = React.useRef();\n    var setReferenceNodeId = useSetDisplayReferenceNodeId();\n    var onClick = useCallback(function (e) {\n        if (isInsertMode) {\n            e.stopPropagation();\n            setReferenceNodeId(nodeId);\n        }\n    }, [nodeId, isInsertMode, setReferenceNodeId]);\n    useScrollToViewEffect(nodeId, function () {\n        if (ref.current)\n            scrollIntoViewWithOffset(ref.current, 120); // 120 is just a sane default, we might make int configurable in the future\n    }, [ref.current]);\n    if (isDraftInLang && isPreviewMode) {\n        return null;\n    }\n    var cellOuterStlye = cellSpacingY !== 0 || cellSpacingX !== 0\n        ? {\n            padding: (needVerticalPadding ? cellSpacingY / 2 : 0) + \"px \" + cellSpacingX / 2 + \"px\",\n        }\n        : undefined;\n    return (React.createElement(\"div\", { style: cellOuterStlye, ref: ref, className: getCellOuterDivClassName({\n            hasChildren: hasChildren,\n            hasInlineNeighbour: hasInlineNeighbour,\n            size: size,\n            inline: inline,\n        }) +\n            ' ' +\n            classNames({\n                'react-page-cell-has-plugin': hasPlugin,\n                'react-page-cell-focused': focused,\n                'react-page-cell-is-draft': isDraftInLang,\n                'react-page-cell-bring-to-front': !isResizeMode && !isLayoutMode && inline, // inline must not be active for resize/layout\n            }), onClick: onClick },\n        React.createElement(Handle, { nodeId: nodeId }),\n        showMoveButtons &&\n            isLayoutMode &&\n            !hasChildren &&\n            !multiNodesSelected ? (React.createElement(MoveActions, { nodeId: nodeId })) : null,\n        React.createElement(\"div\", { ref: measureRef, style: {\n                height: '100%',\n                boxSizing: 'border-box',\n            } },\n            React.createElement(CellErrorGate, { nodeId: nodeId },\n                React.createElement(Inner, { nodeId: nodeId })))));\n};\nexport default React.memo(Cell);\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport Draggable from 'react-draggable';\nimport { useMeasure } from 'react-use';\nimport Cell from '../Cell';\nimport { useIsEditMode, useIsPreviewMode, useIsResizeMode, useResizeCell, useCellSpacing, useOption, } from '../hooks';\nvar ResizableRowCell = function (_a) {\n    var nodeId = _a.nodeId, rowWidth = _a.rowWidth, rowHasInlineChildrenPosition = _a.rowHasInlineChildrenPosition, isLast = _a.isLast, offset = _a.offset, size = _a.size, maxSize = _a.maxSize;\n    var stepWidth = rowWidth / 12; // we're going to keep it a real number to preserve some precision\n    var allowResizeInEditMode = useOption('allowResizeInEditMode');\n    var isResizeMode = useIsResizeMode();\n    var isEditMode = useIsEditMode();\n    var isPreviewMode = useIsPreviewMode();\n    var resize = useResizeCell(nodeId);\n    var _b = __read(useMeasure(), 2), ref = _b[0], cellHeight = _b[1].height;\n    var cellSpacingY = useCellSpacing().y;\n    var showResizeHandle = !isPreviewMode &&\n        !isLast &&\n        (isResizeMode || (allowResizeInEditMode && isEditMode));\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Cell, { nodeId: nodeId, measureRef: ref }),\n        showResizeHandle ? (React.createElement(Draggable, { bounds: {\n                top: 0,\n                bottom: 0,\n                left: Math.round(stepWidth),\n                right: Math.round(rowWidth - stepWidth),\n            }, position: {\n                x: rowHasInlineChildrenPosition === 'right'\n                    ? Math.round(stepWidth * (12 - offset))\n                    : Math.round(stepWidth * offset),\n                y: 0,\n            }, axis: \"x\", onDrag: function (e, data) {\n                var diff = Math.round(data.deltaX / stepWidth);\n                var newSize = rowHasInlineChildrenPosition === 'right'\n                    ? size - diff\n                    : size + diff;\n                if (newSize > 0 && newSize <= maxSize)\n                    resize(newSize);\n            }, grid: [Math.round(stepWidth), 0] },\n            React.createElement(\"div\", { className: \"resize-handle\", style: {\n                    // fix floating style\n                    height: rowHasInlineChildrenPosition ? cellHeight : 'auto',\n                    margin: cellSpacingY !== 0 ? cellSpacingY / 2 + \"px 0\" : undefined,\n                }, onClick: function (e) { return e.stopPropagation(); } }))) : null));\n};\nexport default React.memo(ResizableRowCell);\n//# sourceMappingURL=ResizableRowCell.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useMeasure } from 'react-use';\nimport { isRow } from '../../types/node';\nimport { useCellSpacing, useNodeHoverPosition, useNodeProps } from '../hooks';\nimport Droppable from './Droppable';\nimport ResizableRowCell from './ResizableRowCell';\nvar reduceToIdAndSizeArray = function (acc, node, index, array) {\n    var _a, _b;\n    var nextNode = array[index + 1];\n    var size = isRow(node) ? 12 : node.size;\n    var nextSize = !nextNode || isRow(nextNode) ? 0 : nextNode.size;\n    var offset = size + ((_b = (_a = acc[index - 1]) === null || _a === void 0 ? void 0 : _a.offset) !== null && _b !== void 0 ? _b : 0);\n    return __spreadArray(__spreadArray([], __read(acc), false), [\n        {\n            id: node.id,\n            size: size,\n            maxSize: size + nextSize - 1,\n            offset: offset,\n        },\n    ], false);\n};\nvar Row = function (_a) {\n    var _b;\n    var nodeId = _a.nodeId;\n    var _c = __read(useMeasure(), 2), ref = _c[0], rowWidth = _c[1].width;\n    var hoverPosition = useNodeHoverPosition(nodeId);\n    var childrenWithOffsets = useNodeProps(nodeId, function (node) {\n        var _a, _b, _c, _d;\n        return isRow(node)\n            ? (_b = (_a = node.cells) === null || _a === void 0 ? void 0 : _a.reduce(reduceToIdAndSizeArray, [])) !== null && _b !== void 0 ? _b : []\n            : (_d = (_c = node.rows) === null || _c === void 0 ? void 0 : _c.reduce(reduceToIdAndSizeArray, [])) !== null && _d !== void 0 ? _d : [];\n    });\n    var rowHasInlineChildrenPosition = useNodeProps(nodeId, function (node) { var _a; return isRow(node) && node.cells.length === 2 && ((_a = node.cells[0]) === null || _a === void 0 ? void 0 : _a.inline); });\n    var _d = useCellSpacing(), cellSpacingX = _d.x, cellSpacingY = _d.y;\n    return (React.createElement(Droppable, { nodeId: nodeId },\n        React.createElement(\"div\", { ref: ref, className: classNames('react-page-row', {\n                'react-page-row-has-floating-children': Boolean(rowHasInlineChildrenPosition),\n            }), style: {\n                position: 'relative',\n                margin: cellSpacingX !== 0 ? \"0 \" + -cellSpacingX / 2 + \"px\" : undefined,\n            } },\n            React.createElement(\"div\", { style: {\n                    position: 'absolute',\n                    pointerEvents: 'none',\n                    top: cellSpacingY / 2 + \"px\",\n                    left: cellSpacingX / 2 + \"px\",\n                    bottom: cellSpacingY / 2 + \"px\",\n                    right: cellSpacingX / 2 + \"px\",\n                }, className: classNames((_b = {\n                        'react-page-row-is-hovering-this': Boolean(hoverPosition)\n                    },\n                    _b[\"react-page-row-is-hovering-\" + (hoverPosition || '')] = Boolean(hoverPosition),\n                    _b)) }),\n            childrenWithOffsets.map(function (_a, index) {\n                var offset = _a.offset, id = _a.id, size = _a.size, maxSize = _a.maxSize;\n                return (React.createElement(ResizableRowCell, { key: id, isLast: index === childrenWithOffsets.length - 1, rowWidth: rowWidth, nodeId: id, rowHasInlineChildrenPosition: rowHasInlineChildrenPosition, offset: offset, size: size, maxSize: maxSize }));\n            }))));\n};\nexport default React.memo(Row);\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport InsertNew from '../../Cell/InsertNew';\nimport { useCellSpacing, useOption, useValueNode } from '../../hooks';\nimport Row from '../../Row';\nvar Rows = function () {\n    var _a;\n    var rowIds = useValueNode(function (editable) {\n        var _a, _b;\n        return ({\n            rowIds: (_b = (_a = editable === null || editable === void 0 ? void 0 : editable.rows) === null || _a === void 0 ? void 0 : _a.map(function (c) { return c.id; })) !== null && _b !== void 0 ? _b : [],\n        });\n    }).rowIds;\n    var childConstraints = useOption('childConstraints');\n    var components = useOption('components');\n    var cellSpacingY = useCellSpacing().y;\n    var insertAllowed = (childConstraints === null || childConstraints === void 0 ? void 0 : childConstraints.maxChildren)\n        ? (childConstraints === null || childConstraints === void 0 ? void 0 : childConstraints.maxChildren) > rowIds.length\n        : true;\n    var InsertNewWithDefault = (_a = components === null || components === void 0 ? void 0 : components.InsertNew) !== null && _a !== void 0 ? _a : InsertNew;\n    return (React.createElement(React.Fragment, null,\n        rowIds.length > 0 ? (React.createElement(\"div\", { style: cellSpacingY !== 0\n                ? { margin: -cellSpacingY / 2 + \"px 0\" }\n                : undefined }, rowIds.map(function (id) { return (React.createElement(Row, { nodeId: id, key: id })); }))) : null,\n        insertAllowed ? React.createElement(InsertNewWithDefault, { childrenIds: rowIds }) : null));\n};\nexport default React.memo(Rows);\n//# sourceMappingURL=Rows.js.map","import { useSelector } from '../../reduxConnect';\nimport { currentValue } from '../../selector/editable';\nimport deepEquals from '../../utils/deepEquals';\n/**\n *\n * @param selector receives the current value node object and returns T\n * @returns the selection T\n */\nexport var useValueNode = function (selector) {\n    return useSelector(function (state) { return selector(currentValue(state)); }, deepEquals);\n};\n//# sourceMappingURL=value.js.map","import React, { useRef } from 'react';\nimport { useDisplayMode, useZoom } from '../../hooks';\nimport { useKeepScrollPosition } from '../hooks/useKeepScrollPosition';\nimport Rows from './Rows';\nvar Inner = function () {\n    var _a;\n    var mode = useDisplayMode();\n    var ref = useRef();\n    var zoom = useZoom();\n    useKeepScrollPosition(ref);\n    var rect = (_a = ref.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n    var zoomTransformOriginY = window.innerHeight / 2 - (rect === null || rect === void 0 ? void 0 : rect.top);\n    var offsetPercent = zoomTransformOriginY / (rect === null || rect === void 0 ? void 0 : rect.height);\n    var backdropPercent = 50 * (1 - zoom);\n    var left = backdropPercent + '%';\n    var right = 100 - backdropPercent + '%';\n    var top = backdropPercent * offsetPercent * 2 + '%';\n    var bottom = 100 - backdropPercent * (1 - offsetPercent) * 2 + '%';\n    return (React.createElement(\"div\", { ref: ref, style: {\n            position: 'relative',\n        } },\n        React.createElement(\"div\", { style: {\n                opacity: zoom < 1 ? 1 : 0,\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                transition: '0.6s',\n                clipPath: \"polygon(0% 0%, 0% 100%, \" + left + \" 100%, \" + left + \" \" + top + \", \" + right + \" \" + top + \", \" + right + \" \" + bottom + \", \" + left + \" \" + bottom + \", \" + left + \" 100%, 100% 100%, 100% 0%)\",\n                background: \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16  ' viewBox='0 0 8 8'%3E%3Cg fill='%23c5c5c5' fill-opacity='0.4'%3E%3Cpath fill-rule='evenodd' d='M0 0h4v4H0V0zm4 4h4v4H4V4z'/%3E%3C/g%3E%3C/svg%3E\\\")\",\n            } }),\n        React.createElement(\"div\", { style: {\n                transformOrigin: \"center \" + zoomTransformOriginY + \"px\",\n                transform: \"scale(\" + zoom + \")\",\n                transition: '0.6s',\n            }, className: 'react-page-editable react-page-editable-mode-' + mode },\n            React.createElement(Rows, null))));\n};\nexport default React.memo(Inner);\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport FallbackDropArea from './FallbackDropArea';\nimport Inner from './Inner';\nvar Editable = function () {\n    return (React.createElement(FallbackDropArea, null,\n        React.createElement(Inner, null)));\n};\nexport default React.memo(Editable);\n//# sourceMappingURL=index.js.map","import { useCallback } from 'react';\nimport { redo, undo } from '../../actions/undo';\nimport { useDispatch, useSelector } from '../../reduxConnect';\n/**\n * @returns function, that undos last change if called\n */\nexport var useUndo = function () {\n    var dispatch = useDispatch();\n    return useCallback(function () { return dispatch(undo()); }, [dispatch]);\n};\n/**\n * @returns function, that redos last change if called\n */\nexport var useRedo = function () {\n    var dispatch = useDispatch();\n    return useCallback(function () { return dispatch(redo()); }, [dispatch]);\n};\n/**\n * @returns whether user can undo\n */\nexport var useCanUndo = function () {\n    return useSelector(function (s) { return s.reactPage.values.past.length > 0; });\n};\n/**\n * @returns whether user can undo\n */\nexport var useCanRedo = function () {\n    return useSelector(function (s) { return s.reactPage.values.future.length > 0; });\n};\n//# sourceMappingURL=actions.js.map","import { ActionTypes } from 'redux-undo';\nexport var undo = function () { return ({\n    type: ActionTypes.UNDO,\n}); };\nexport var redo = function () { return ({\n    type: ActionTypes.REDO,\n}); };\n//# sourceMappingURL=undo.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport isHotkey from 'is-hotkey';\nimport { useCallback, useEffect, useMemo } from 'react';\nimport { objIsNode } from '../../../core/utils/objIsNode';\nimport { isRow } from '../../types/node';\nimport { getCommonAncestorTree } from '../../utils/ancestorTree';\nimport { cloneAsCell } from '../../utils/cloneWithNewIds';\nimport { useAllCellPluginsForNode, useAllFocusedNodeIds, useBlurAllCells, useEditorStore, useFocusCellById, useFocusedNodeId, useInsertAfter, useIsEditMode, useIsInsertMode, useParentCellId, useRedo, useRemoveMultipleNodeIds, useSetEditMode, useSetInsertMode, useUndo, } from '../hooks';\nvar lastFocused = null;\nvar GlobalHotKeys = function (_a) {\n    var focusRef = _a.focusRef;\n    var editor = useEditorStore();\n    var undo = useUndo();\n    var redo = useRedo();\n    var setInsertMode = useSetInsertMode();\n    var isEditMode = useIsEditMode();\n    var blurAllCells = useBlurAllCells();\n    var focusedNodeIds = useAllFocusedNodeIds();\n    var someCellIsFocused = focusedNodeIds.length > 0;\n    var focusedNodeId = useFocusedNodeId();\n    var focusParentId = useParentCellId(focusedNodeId);\n    var plugins = useAllCellPluginsForNode(focusParentId);\n    var focusCell = useFocusCellById();\n    var removeCells = useRemoveMultipleNodeIds();\n    var insertAfter = useInsertAfter();\n    var isInsertMode = useIsInsertMode();\n    var setEditMode = useSetEditMode();\n    var delegateToFoundPlugin = useCallback(function (event, nodeId, handlerName, defaultHandler) { return __awaiter(void 0, void 0, void 0, function () {\n        var node, plugin, e_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    node = editor.getNode(nodeId);\n                    plugin = plugins.find(function (p) { var _a, _b; return p.id === ((_b = (_a = node) === null || _a === void 0 ? void 0 : _a.plugin) === null || _b === void 0 ? void 0 : _b.id); });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 5, , 6]);\n                    if (!(isEditMode && node && plugin[handlerName])) return [3 /*break*/, 3];\n                    return [4 /*yield*/, plugin[handlerName](event, node)];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3: \n                // if the plugin handler resolve or there is no, they do not handle it, so do the default\n                return [4 /*yield*/, defaultHandler(event, node)];\n                case 4:\n                    // if the plugin handler resolve or there is no, they do not handle it, so do the default\n                    _a.sent();\n                    return [3 /*break*/, 6];\n                case 5:\n                    e_1 = _a.sent();\n                    if (e_1) {\n                        // tslint:disable-next-line:no-console\n                        console.error(e_1);\n                    }\n                    return [3 /*break*/, 6];\n                case 6: return [2 /*return*/];\n            }\n        });\n    }); }, [editor, isEditMode]);\n    var handlers = useMemo(function () {\n        var handleCopy = function (deleteAfter) {\n            var _a;\n            var _b;\n            if (deleteAfter === void 0) { deleteAfter = false; }\n            // copy cell, unless text is selected\n            if (((_b = window.getSelection()) === null || _b === void 0 ? void 0 : _b.type) !== 'Range' &&\n                (focusedNodeIds === null || focusedNodeIds === void 0 ? void 0 : focusedNodeIds.length) > 0) {\n                var node = getCommonAncestorTree(editor, focusedNodeIds);\n                var cell = cloneAsCell(node);\n                var type = 'text/plain'; // json is not supported\n                var blob = new Blob([JSON.stringify(cell)], { type: type });\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var data = [new ClipboardItem((_a = {}, _a[type] = blob, _a))];\n                navigator.clipboard.write(data);\n                if (deleteAfter) {\n                    removeCells(focusedNodeIds);\n                }\n            }\n        };\n        return [\n            {\n                hotkeys: ['Escape'],\n                handler: function () {\n                    if (someCellIsFocused) {\n                        blurAllCells();\n                    }\n                    if (isInsertMode) {\n                        setEditMode();\n                    }\n                },\n            },\n            {\n                hotkeys: ['mod+z'],\n                handler: function () {\n                    undo();\n                },\n            },\n            {\n                hotkeys: ['mod+c'],\n                handler: function () {\n                    handleCopy(false);\n                },\n            },\n            {\n                hotkeys: ['mod+x'],\n                handler: function () {\n                    handleCopy(true);\n                },\n            },\n            {\n                hotkeys: ['mod+v'],\n                handler: function () { return __awaiter(void 0, void 0, void 0, function () {\n                    var node, _a, _b, commonAncestorNode, insertAfterNodeId, e_2;\n                    return __generator(this, function (_c) {\n                        switch (_c.label) {\n                            case 0:\n                                _c.trys.push([0, 2, , 3]);\n                                _b = (_a = JSON).parse;\n                                return [4 /*yield*/, navigator.clipboard.readText()];\n                            case 1:\n                                node = _b.apply(_a, [_c.sent()]);\n                                if (objIsNode(node)) {\n                                    commonAncestorNode = focusedNodeIds.length > 0\n                                        ? getCommonAncestorTree(editor, focusedNodeIds)\n                                        : null;\n                                    insertAfterNodeId = commonAncestorNode\n                                        ? isRow(commonAncestorNode)\n                                            ? commonAncestorNode.cells.length === 1 // if it has just one cell, add below this cell. if it has multiple, add below this row\n                                                ? commonAncestorNode.cells[0].id\n                                                : commonAncestorNode.id\n                                            : commonAncestorNode.rows[commonAncestorNode.rows.length - 1] // if common ancestor is a cell (usually the root cell, add below last row)\n                                                .id\n                                        : null;\n                                    insertAfter(node, insertAfterNodeId);\n                                }\n                                return [3 /*break*/, 3];\n                            case 2:\n                                e_2 = _c.sent();\n                                return [3 /*break*/, 3];\n                            case 3: return [2 /*return*/];\n                        }\n                    });\n                }); },\n            },\n            {\n                hotkeys: ['ctrl+shift+z', 'ctrl+y', 'command+shift+z', 'command+y'],\n                handler: function () {\n                    redo();\n                },\n            },\n            {\n                hotkeys: ['alt+del', 'alt+backspace'],\n                handler: function (event) {\n                    delegateToFoundPlugin(event, focusedNodeId, 'handleRemoveHotKey', function () {\n                        removeCells(focusedNodeIds);\n                    });\n                },\n            },\n        ];\n    }, [\n        focusedNodeId,\n        focusedNodeIds,\n        someCellIsFocused,\n        blurAllCells,\n        focusCell,\n        removeCells,\n        setEditMode,\n        setInsertMode,\n    ]);\n    useEffect(function () {\n        // when we have multiple instances, we try to send the event only to the right one\n        // we do a little trick with a global variable (instead of requiring a wrapping context)\n        lastFocused = focusRef.current;\n        var keyHandler = function (event) {\n            if (lastFocused !== focusRef.current)\n                return;\n            var matchingHandler = handlers.find(function (handler) {\n                return handler.hotkeys.some(function (hotkey) { return isHotkey(hotkey, event); });\n            });\n            matchingHandler === null || matchingHandler === void 0 ? void 0 : matchingHandler.handler(event);\n        };\n        document.addEventListener('keydown', keyHandler);\n        var focusHandler = function () {\n            lastFocused = focusRef.current;\n        };\n        focusRef.current.addEventListener('click', focusHandler);\n        focusRef.current.addEventListener('mouseenter', focusHandler);\n        return function () {\n            var _a, _b;\n            document.removeEventListener('keydown', keyHandler);\n            (_a = focusRef.current) === null || _a === void 0 ? void 0 : _a.removeEventListener('mouseenter', focusHandler);\n            (_b = focusRef.current) === null || _b === void 0 ? void 0 : _b.removeEventListener('click', focusHandler);\n            if (lastFocused === focusRef.current) {\n                lastFocused = null;\n            }\n        };\n    }, [handlers, someCellIsFocused, isEditMode, focusRef]);\n    return null;\n};\nexport default GlobalHotKeys;\n//# sourceMappingURL=GlobalHotKeys.js.map","import React from 'react';\nimport { DndProvider as DndProviderOrg } from 'react-dnd';\nimport { useOption } from '../components/hooks';\nvar DndProvider = function (_a) {\n    var children = _a.children;\n    var dndBackend = useOption('dndBackend');\n    return React.createElement(DndProviderOrg, { backend: dndBackend }, children);\n};\nexport default DndProvider;\n//# sourceMappingURL=DndProvider.js.map","import React, { useEffect } from 'react';\nimport { DISPLAY_MODE_EDIT } from '../actions/display';\nimport { useBlurAllCells, useIsInsertMode, useOption, useSetMode, } from './hooks';\n// this might break in future, but its better than nothing\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction findReactElement(node) {\n    for (var key in node) {\n        if (key.startsWith('__reactInternalInstance$') ||\n            key.startsWith('__reactFiber$') // react 17\n        ) {\n            return node[key];\n        }\n    }\n    return null;\n}\n// we go up the reac-tree. This works even through portals, which would not be possible with traversing the dom tree!\nvar isInSameTree = function (parent, child) {\n    if (!parent) {\n        return false;\n    }\n    var element = findReactElement(child);\n    while (element) {\n        if (element.stateNode === parent) {\n            return true;\n        }\n        element = element.return;\n    }\n    return false;\n};\nvar useBlurAll = function (_a) {\n    var _b = _a.defaultMode, defaultMode = _b === void 0 ? DISPLAY_MODE_EDIT : _b, disabled = _a.disabled;\n    var ref = React.useRef();\n    var blurAllCells = useBlurAllCells();\n    var setMode = useSetMode();\n    var isInsertMode = useIsInsertMode();\n    useEffect(function () {\n        if (disabled) {\n            return;\n        }\n        if (!ref.current) {\n            return;\n        }\n        if (!document && !document.body) {\n            return;\n        }\n        var onMouseDown = function (e) {\n            if (!isInSameTree(ref.current, e.target)) {\n                blurAllCells();\n                // set us in default mode if current mode is \"insert\"\n                if (isInsertMode) {\n                    setMode(defaultMode);\n                }\n            }\n        };\n        document.body.addEventListener('mousedown', onMouseDown);\n        return function () {\n            document.body.removeEventListener('mousedown', onMouseDown);\n        };\n    }, [ref.current, disabled, isInsertMode, setMode, blurAllCells]);\n    return ref;\n};\nvar BlurGate = function (_a) {\n    var children = _a.children;\n    var defaultMode = useOption('blurGateDefaultMode');\n    var disabled = useOption('blurGateDisabled');\n    var ref = useBlurAll({ defaultMode: defaultMode, disabled: disabled });\n    return React.createElement(\"div\", { ref: ref }, children);\n};\nexport default BlurGate;\n//# sourceMappingURL=BlurGate.js.map","import { createContext, useContext, useRef } from 'react';\nexport var CallbacksContext = createContext({});\n/**\n * @returns the callbacks object of the current Editor.\n *\n * this object is memoized, alltough its better to use `usecallback` instead if you want to use a single callback\n */\nexport var useCallbackOptions = function () { return useContext(CallbacksContext); };\n/**\n * get a single (memoized) callback\n * @param key the callback key\n * @returns the callback value\n */\nexport var useCallbackOption = function (key) {\n    var callbacks = useCallbackOptions();\n    var callback = callbacks[key];\n    var lastcallback = useRef(callback);\n    if (lastcallback.current !== callback) {\n        lastcallback.current = callback;\n    }\n    return lastcallback.current;\n};\n//# sourceMappingURL=callbacks.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useRef } from 'react';\nimport deepEquals from '../utils/deepEquals';\nimport { CallbacksContext } from '../components/hooks';\nvar CallbacksProvider = function (_a) {\n    var children = _a.children, callbacks = __rest(_a, [\"children\"]);\n    var lastCallbacks = useRef();\n    var isEqual = lastCallbacks.current\n        ? deepEquals(lastCallbacks.current, callbacks)\n        : false;\n    if (!isEqual) {\n        lastCallbacks.current = callbacks;\n    }\n    return (React.createElement(CallbacksContext.Provider, { value: lastCallbacks.current }, children));\n};\nexport default CallbacksProvider;\n//# sourceMappingURL=CallbacksProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar serializeRow = function (r, cellPlugins) {\n    return __assign(__assign({}, r), { cells: r.cells.map(function (c) { return serializeCell(c, cellPlugins); }) });\n};\nvar serializeCell = function (c, cellPlugins) {\n    var _a;\n    var pluginDef = c.plugin;\n    var pluginFound = pluginDef\n        ? cellPlugins.find(function (p) { return p.id === pluginDef.id; })\n        : null;\n    var transformData = function (dataIn) {\n        return (pluginFound === null || pluginFound === void 0 ? void 0 : pluginFound.serialize) ? pluginFound.serialize(dataIn) : dataIn;\n    };\n    var dataI18n = c.dataI18n\n        ? Object.keys(c.dataI18n).reduce(function (acc, lang) {\n            var _a;\n            var _b;\n            return (__assign(__assign({}, acc), (_a = {}, _a[lang] = transformData((_b = c.dataI18n) === null || _b === void 0 ? void 0 : _b[lang]), _a)));\n        }, {})\n        : null;\n    return __assign(__assign({}, c), { rows: (_a = c.rows) === null || _a === void 0 ? void 0 : _a.map(function (r) { return serializeRow(r, cellPlugins); }), dataI18n: dataI18n });\n};\nexport var serialzeValue = function (_a, plugins) {\n    var rows = _a.rows, rest = __rest(_a, [\"rows\"]);\n    return __assign(__assign({}, rest), { rows: rows.map(function (c) { return serializeRow(c, plugins); }) });\n};\n//# sourceMappingURL=serialzeValue.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport { updateValue } from '../actions/value';\nimport { useCallbackOption, useOption, useRenderOption, } from '../components/hooks';\nimport EditorStore, { EditorContext } from '../EditorStore';\nimport { migrateValue } from '../migrations/migrate';\nimport { serialzeValue } from '../migrations/serialzeValue';\nimport { initialState } from '../reducer';\nimport { ReduxProvider } from '../reduxConnect';\nimport deepEquals from '../utils/deepEquals';\nvar EditorStoreProvider = function (_a) {\n    var children = _a.children, lang = _a.lang, value = _a.value;\n    var cellPlugins = useRenderOption('cellPlugins');\n    var middleware = useOption('middleware');\n    var onChangeLang = useCallbackOption('onChangeLang');\n    var onChange = useCallbackOption('onChange');\n    var storeFromOptions = useOption('store');\n    var editorStore = useMemo(function () {\n        var store = new EditorStore({\n            initialState: initialState(migrateValue(value, {\n                cellPlugins: cellPlugins,\n                lang: lang,\n            }), lang),\n            store: storeFromOptions,\n            middleware: middleware,\n        });\n        return store;\n    }, __spreadArray([storeFromOptions], __read(middleware), false));\n    var lastValueRef = useRef(value);\n    useEffect(function () {\n        var oldLang = lang;\n        var handleChanges = function () {\n            // notify outsiders to new language, when chagned in ui\n            var newLang = editorStore.store.getState().reactPage.settings.lang;\n            if (newLang !== oldLang || newLang !== lang) {\n                oldLang = newLang;\n                onChangeLang === null || onChangeLang === void 0 ? void 0 : onChangeLang(newLang);\n            }\n            if (!onChange) {\n                return;\n            }\n            //console.time('calculate notifiy on change');\n            var currentValue = editorStore.store.getState().reactPage.values.present;\n            if (!currentValue) {\n                // console.timeEnd('calculate notifiy on change');\n                return;\n            }\n            var serializedValue = serialzeValue(currentValue, cellPlugins);\n            var serializedEqual = deepEquals(lastValueRef.current, serializedValue);\n            if (serializedEqual) {\n                //    console.timeEnd('calculate notifiy on change');\n                return;\n            }\n            lastValueRef.current = serializedValue;\n            //   console.timeEnd('calculate notifiy on change');\n            onChange(serializedValue);\n        };\n        var unsubscribe = editorStore.store.subscribe(handleChanges);\n        return function () {\n            unsubscribe();\n        };\n    }, [editorStore, onChange, cellPlugins]);\n    useEffect(function () {\n        var equal = deepEquals(value, lastValueRef.current);\n        // value changed from outside\n        if (!equal) {\n            lastValueRef.current = value;\n            var migratedValue = migrateValue(value, {\n                cellPlugins: cellPlugins,\n                lang: lang,\n            });\n            editorStore.store.dispatch(updateValue(migratedValue));\n        }\n    }, [value, cellPlugins, lang]);\n    useEffect(function () {\n        // if changed from outside\n        editorStore.setLang(lang);\n    }, [editorStore, lang]);\n    return (React.createElement(ReduxProvider, { store: editorStore.store },\n        React.createElement(EditorContext.Provider, { value: editorStore }, children)));\n};\nexport default EditorStoreProvider;\n//# sourceMappingURL=EditorStoreProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useRef } from 'react';\nimport deepEquals from '../utils/deepEquals';\nimport { OptionsContext } from '../components/hooks';\nimport { DEFAULT_OPTIONS } from '../defaultOptions';\n/*\nwe memoize the options, so that if you access them, you won't get a fresh object every time.\n*/\nvar OptionsProvider = function (_a) {\n    var children = _a.children, options = __rest(_a, [\"children\"]);\n    var lastOptions = useRef();\n    var fullOptions = __assign(__assign({}, DEFAULT_OPTIONS), options);\n    var isEqual = lastOptions.current\n        ? deepEquals(lastOptions.current, fullOptions)\n        : false;\n    if (!isEqual) {\n        lastOptions.current = fullOptions;\n    }\n    return (React.createElement(OptionsContext.Provider, { value: lastOptions.current }, children));\n};\nexport default OptionsProvider;\n//# sourceMappingURL=OptionsProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useRef } from 'react';\nimport deepEquals from '../utils/deepEquals';\nimport { RenderOptionsContext } from '../components/hooks';\nimport { DEFAULT_RENDER_OPTIONS } from '../defaultOptions';\n/*\nwe memoize the RenderOptions, so that if you access them, you won't get a fresh object every time.\n\n*/\nvar RenderOptionsProvider = function (_a) {\n    var children = _a.children, renderOptions = __rest(_a, [\"children\"]);\n    var lastRenderOptions = useRef();\n    var fullRenderOptions = __assign(__assign({}, DEFAULT_RENDER_OPTIONS), renderOptions);\n    var isEqual = lastRenderOptions.current\n        ? deepEquals(lastRenderOptions.current, fullRenderOptions)\n        : false;\n    if (!isEqual) {\n        lastRenderOptions.current = fullRenderOptions;\n    }\n    return (React.createElement(RenderOptionsContext.Provider, { value: lastRenderOptions.current }, children));\n};\nexport default RenderOptionsProvider;\n//# sourceMappingURL=RenderOptionsProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport DndProvider from './DndProvider';\nimport BlurGate from '../components/BlurGate';\nimport CallbacksProvider from './CallbacksProvider';\nimport EditorStoreProvider from './EditorStoreProvider';\nimport OptionsProvider from './OptionsProvider';\nimport RenderOptionsProvider from './RenderOptionsProvider';\nvar Provider = function (_a) {\n    var lang = _a.lang, value = _a.value, _b = _a.children, children = _b === void 0 ? [] : _b, renderOptions = _a.renderOptions, callbacks = _a.callbacks, options = _a.options;\n    return (React.createElement(OptionsProvider, __assign({}, options),\n        React.createElement(RenderOptionsProvider, __assign({}, renderOptions),\n            React.createElement(CallbacksProvider, __assign({}, callbacks),\n                React.createElement(DndProvider, null,\n                    React.createElement(EditorStoreProvider, { lang: lang, value: value },\n                        React.createElement(BlurGate, null, children)))))));\n};\nexport default Provider;\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport classNames from 'classnames';\nimport React from 'react';\nimport { DragPreviewImage, useDrag } from 'react-dnd';\nimport { dragIcon } from '../../../core/components/Cell/Draggable/useDragHandle';\nimport { useSetLayoutMode } from '../../../core/components/hooks/displayMode';\nvar Draggable = function (_a) {\n    var insert = _a.insert, children = _a.children;\n    var setLayoutMode = useSetLayoutMode();\n    var _b = __read(useDrag({\n        type: 'cell',\n        item: function () {\n            setLayoutMode();\n            return {\n                cell: insert,\n            };\n        },\n        collect: function (monitor) { return ({\n            isDragging: monitor.isDragging(),\n        }); },\n    }), 3), isDragging = _b[0].isDragging, dragRef = _b[1], preview = _b[2];\n    var classes = classNames({ 'react-page-toolbar-draggable-is-dragged': isDragging }, 'react-page-toolbar-draggable');\n    return (React.createElement(\"div\", { className: classes, ref: dragRef },\n        React.createElement(DragPreviewImage, { connect: preview, src: dragIcon }),\n        children));\n};\nexport default Draggable;\n//# sourceMappingURL=index.js.map","import Avatar from '@material-ui/core/Avatar';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport React from 'react';\nimport { useDisplayModeReferenceNodeId, useInsertNew, useUiTranslator, } from '../../../core/components/hooks';\nimport Draggable from '../Draggable/index';\nvar Item = function (_a) {\n    var _b;\n    var plugin = _a.plugin, insert = _a.insert;\n    var title = (_b = plugin.title) !== null && _b !== void 0 ? _b : plugin.text;\n    var t = useUiTranslator().t;\n    if (!plugin.icon && !title) {\n        return null;\n    }\n    var referenceNodeId = useDisplayModeReferenceNodeId();\n    var insertNew = useInsertNew(referenceNodeId);\n    var insertIt = React.useCallback(function () { return insertNew(insert); }, [insertNew, referenceNodeId, insert]);\n    return (React.createElement(Draggable, { insert: insert },\n        React.createElement(ListItem, { title: t('Click to add or drag and drop it somewhere on your page!'), className: \"react-page-plugin-drawer-item\", onClick: insertIt },\n            React.createElement(Avatar, { children: plugin.icon || title[0], style: {\n                    marginRight: 16,\n                } }),\n            React.createElement(ListItemText, { primary: t(title), secondary: t(plugin.description) }))));\n};\nexport default Item;\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport TextField from '@material-ui/core/TextField';\nimport React from 'react';\nimport { Portal } from 'react-portal';\nimport { useIsInsertMode, useUiTranslator, useDisplayModeReferenceNodeId, useAllCellPluginsForNode, } from '../../core/components/hooks';\nimport Item from './Item/index';\nvar getPluginTitle = function (plugin) { var _a; return (_a = (plugin.title || plugin.text)) !== null && _a !== void 0 ? _a : ''; };\nexport var PluginDrawer = React.memo(function () {\n    var defaultLabels = {\n        noPluginFoundContent: 'No blocks found',\n        searchPlaceholder: 'Search for blocks',\n        insertPlugin: 'Add blocks to page',\n        dragMe: 'Drag me!',\n    };\n    var nodeId = useDisplayModeReferenceNodeId();\n    var plugins = useAllCellPluginsForNode(nodeId);\n    var t = useUiTranslator().t;\n    var _a = __read(React.useState(''), 2), searchText = _a[0], setSearchText = _a[1];\n    var searchFilter = React.useCallback(function (plugin) {\n        var id = plugin.id;\n        var title = getPluginTitle(plugin);\n        return (plugin &&\n            id &&\n            !plugin.hideInMenu &&\n            (id.toLowerCase().startsWith(searchText === null || searchText === void 0 ? void 0 : searchText.toLowerCase()) ||\n                (plugin.description &&\n                    plugin.description\n                        .toLowerCase()\n                        .startsWith(searchText === null || searchText === void 0 ? void 0 : searchText.toLowerCase())) ||\n                (title && title.toLowerCase().startsWith(searchText === null || searchText === void 0 ? void 0 : searchText.toLowerCase()))));\n    }, [searchText]);\n    var onSearch = React.useCallback(function (e) {\n        var target = e.target;\n        if (target instanceof HTMLInputElement) {\n            setSearchText(target.value);\n        }\n    }, [setSearchText]);\n    var isInsertMode = useIsInsertMode();\n    var inputRef = React.useRef();\n    React.useEffect(function () {\n        var handle;\n        if (inputRef.current && isInsertMode) {\n            handle = setTimeout(function () {\n                var e = inputRef.current.querySelector('input');\n                if (e) {\n                    e.focus();\n                }\n            }, 100);\n        }\n        return function () {\n            clearTimeout(handle);\n        };\n    }, [inputRef.current, isInsertMode]);\n    var filteredPlugins = plugins.filter(searchFilter);\n    return (React.createElement(Portal, null,\n        React.createElement(Drawer, { variant: \"persistent\", className: \"react-page-plugin-drawer\", open: isInsertMode, PaperProps: {\n                style: {\n                    width: 320,\n                },\n            } },\n            React.createElement(List, { subheader: React.createElement(ListSubheader, null, t(defaultLabels.insertPlugin)) },\n                React.createElement(ListItem, null,\n                    React.createElement(TextField, { inputRef: inputRef, placeholder: t(defaultLabels.searchPlaceholder), fullWidth: true, onChange: onSearch })),\n                filteredPlugins.length === 0 && (React.createElement(ListSubheader, null, t(defaultLabels.noPluginFoundContent)))),\n            filteredPlugins.length > 0 && (React.createElement(List, null, filteredPlugins.map(function (plugin, k) {\n                return (React.createElement(Item, { translations: defaultLabels, plugin: plugin, key: k.toString(), insert: {\n                        plugin: plugin.id,\n                    } }));\n            }))))));\n});\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport Fab from '@material-ui/core/Fab';\nimport Delete from '@material-ui/icons/Delete';\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useIsLayoutMode, useTrashDrop } from '../../core/components/hooks';\nexport var Trash = React.memo(function () {\n    var isLayoutMode = useIsLayoutMode();\n    var _a = __read(useTrashDrop(), 2), isHovering = _a[0].isHovering, ref = _a[1];\n    return (React.createElement(\"div\", { ref: ref, className: classNames('react-page-controls-trash', {\n            'react-page-controls-trash-active': isLayoutMode,\n        }) },\n        React.createElement(Fab, { color: \"secondary\", disabled: !isHovering },\n            React.createElement(Delete, null))));\n});\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport Fab from '@material-ui/core/Fab';\nimport { useIsSmallScreen } from '../../../core/components/hooks';\nvar DisplayModeToggle = function (_a) {\n    var description = _a.description, icon = _a.icon, onClick = _a.onClick, active = _a.active, disabled = _a.disabled, _b = _a.activeColor, activeColor = _b === void 0 ? 'secondary' : _b, style = _a.style, rest = __rest(_a, [\"description\", \"icon\", \"onClick\", \"active\", \"disabled\", \"activeColor\", \"style\"]);\n    var isSmall = useIsSmallScreen();\n    return (React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-button\", style: style },\n        React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-button-inner\" },\n            React.createElement(Fab, __assign({ color: active ? activeColor : 'default', size: isSmall ? 'small' : 'large', onClick: onClick, disabled: disabled }, rest), icon)),\n        React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-button-description\" }, description)));\n};\nexport default DisplayModeToggle;\n//# sourceMappingURL=index.js.map","import Create from '@material-ui/icons/Create';\nimport React from 'react';\nimport { useIsEditMode, useSetEditMode } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar ToggleEdit = function (_a) {\n    var label = _a.label;\n    var isEditMode = useIsEditMode();\n    var setEditMode = useSetEditMode();\n    return (React.createElement(Button, { icon: React.createElement(Create, null), description: label, active: isEditMode, onClick: setEditMode }));\n};\nexport default React.memo(ToggleEdit);\n//# sourceMappingURL=index.js.map","import ContentAdd from '@material-ui/icons/Add';\nimport React from 'react';\nimport { useIsInsertMode, useSetInsertMode, } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar ToggleInsert = function (_a) {\n    var label = _a.label;\n    var isInsertMode = useIsInsertMode();\n    var setInsertMode = useSetInsertMode();\n    return (React.createElement(Button, { icon: React.createElement(ContentAdd, null), description: label, active: isInsertMode, onClick: setInsertMode }));\n};\nexport default React.memo(ToggleInsert);\n//# sourceMappingURL=index.js.map","import ViewQuilt from '@material-ui/icons/ViewQuilt';\nimport React from 'react';\nimport { useIsLayoutMode, useSetLayoutMode, } from '../../../core/components/hooks';\nimport Button from '../Button';\nvar ToggleLayout = function (_a) {\n    var label = _a.label;\n    var isLayoutMode = useIsLayoutMode();\n    var setLayoutMode = useSetLayoutMode();\n    return (React.createElement(Button, { icon: React.createElement(ViewQuilt, null), description: label, active: isLayoutMode, onClick: setLayoutMode }));\n};\nexport default React.memo(ToggleLayout);\n//# sourceMappingURL=index.js.map","import Devices from '@material-ui/icons/Devices';\nimport React from 'react';\nimport { useIsPreviewMode, useSetPreviewMode, } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar TogglePreview = function (_a) {\n    var label = _a.label;\n    var isPreviewMode = useIsPreviewMode();\n    var setIsPreviewMode = useSetPreviewMode();\n    return (React.createElement(Button, { icon: React.createElement(Devices, null), description: label, active: isPreviewMode, onClick: setIsPreviewMode }));\n};\nexport default React.memo(TogglePreview);\n//# sourceMappingURL=index.js.map","import Resize from '@material-ui/icons/SettingsOverscan';\nimport React from 'react';\nimport { useIsResizeMode, useSetResizeMode, } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar ToggleResize = function (props) {\n    var isResizeMode = useIsResizeMode();\n    var setResizeMode = useSetResizeMode();\n    return (React.createElement(Button, { icon: React.createElement(Resize, null), description: props.label, active: isResizeMode, onClick: setResizeMode }));\n};\nexport default React.memo(ToggleResize);\n//# sourceMappingURL=index.js.map","import IconRedo from '@material-ui/icons/Redo';\nimport IconUndo from '@material-ui/icons/Undo';\nimport React from 'react';\nimport { useCanRedo, useCanUndo, useIsSmallScreen, useRedo, useUndo, } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar UndoRedo = function (_a) {\n    var labelUndo = _a.labelUndo, labelRedo = _a.labelRedo;\n    var undo = useUndo();\n    var canUndo = useCanUndo();\n    var canRedo = useCanRedo();\n    var redo = useRedo();\n    var isSmall = useIsSmallScreen();\n    return (React.createElement(\"div\", { style: {\n            height: isSmall ? 56 : 80,\n            float: 'right',\n            display: 'flex',\n            direction: 'ltr',\n            transform: 'scale(1.2)',\n        } },\n        React.createElement(\"div\", { style: {\n                width: isSmall ? 29 : 36,\n                overflow: 'hidden',\n                marginRight: isSmall ? 1 : 2,\n            } },\n            React.createElement(Button, { active: true, disabled: !canUndo, style: {\n                    transform: \"translateX(\" + (isSmall ? 27 : 35) + \"px)\",\n                }, icon: React.createElement(IconUndo, { style: { transform: \"translateX(-\" + (isSmall ? 6 : 12) + \"px)\" } }), description: labelUndo, onClick: undo, activeColor: \"primary\" })),\n        React.createElement(\"div\", { style: {\n                width: isSmall ? 28 : 36,\n                overflow: 'hidden',\n                marginLeft: 1,\n            } },\n            React.createElement(Button, { style: {\n                    position: 'relative',\n                    transform: 'translateX(1px)',\n                }, active: true, disabled: !canRedo, icon: React.createElement(IconRedo, { style: { transform: \"translateX(\" + (isSmall ? 6 : 12) + \"px)\" } }), description: labelRedo, onClick: redo, activeColor: \"primary\" }))));\n};\nexport default React.memo(UndoRedo);\n//# sourceMappingURL=index.js.map","import IconZoomOut from '@material-ui/icons/ZoomOut';\nimport IconZoomIn from '@material-ui/icons/ZoomIn';\nimport React from 'react';\nimport { useCanZoomIn, useCanZoomOut, useIsSmallScreen, useZoomIn, useZoomOut, } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar Zoom = function (_a) {\n    var labelZoomIn = _a.labelZoomIn, labelZoomOut = _a.labelZoomOut;\n    var canZoomIn = useCanZoomIn();\n    var canZoomOut = useCanZoomOut();\n    var zoomOut = useZoomOut();\n    var zoomIn = useZoomIn();\n    var isSmall = useIsSmallScreen();\n    return (React.createElement(\"div\", { style: {\n            height: isSmall ? 56 : 80,\n            float: 'right',\n            display: 'flex',\n            direction: 'ltr',\n            transform: 'scale(1.2)',\n        } },\n        React.createElement(\"div\", { style: {\n                width: isSmall ? 29 : 36,\n                overflow: 'hidden',\n                marginRight: isSmall ? 1 : 2,\n            } },\n            React.createElement(Button, { active: true, disabled: !canZoomIn, style: {\n                    transform: \"translateX(\" + (isSmall ? 27 : 35) + \"px)\",\n                }, icon: React.createElement(IconZoomIn, { style: { transform: \"translateX(-\" + (isSmall ? 6 : 12) + \"px)\" } }), description: labelZoomIn, onClick: zoomIn, activeColor: \"default\" })),\n        React.createElement(\"div\", { style: {\n                width: isSmall ? 28 : 36,\n                overflow: 'hidden',\n                marginLeft: 1,\n            } },\n            React.createElement(Button, { style: {\n                    position: 'relative',\n                    transform: 'translateX(1px)',\n                }, active: true, disabled: !canZoomOut, icon: React.createElement(IconZoomOut, { style: { transform: \"translateX(\" + (isSmall ? 6 : 12) + \"px)\" } }), description: labelZoomOut, onClick: zoomOut, activeColor: \"default\" }))));\n};\nexport default React.memo(Zoom);\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React from 'react';\nimport { useOption, useUiTranslator } from '../../core/components/hooks';\nimport ToggleEdit from './ToggleEdit/index';\nimport ToggleInsert from './ToggleInsert/index';\nimport ToggleLayout from './ToggleLayout/index';\nimport TogglePreview from './TogglePreview/index';\nimport ToggleResize from './ToggleResize/index';\nimport UndoRedo from './UndoRedo';\nimport Zoom from './Zoom';\nvar getStickyNessstyle = function (stickyness) {\n    if (!stickyness ||\n        (!stickyness.shouldStickToBottom && !stickyness.shouldStickToTop)) {\n        return {\n            position: 'fixed',\n            right: stickyness.rightOffsetFixed || 0,\n        };\n    }\n    return {\n        position: 'absolute',\n        bottom: stickyness.shouldStickToBottom ? 0 : 'auto',\n        top: stickyness.shouldStickToTop ? 0 : 'auto',\n        right: -stickyness.rightOffset || 0,\n    };\n};\nexport var Sidebar = function (_a) {\n    var stickyNess = _a.stickyNess;\n    var t = useUiTranslator().t;\n    var zoomEnabled = useOption('zoomEnabled');\n    var undoRedoEnabled = useOption('undoRedoEnabled');\n    var editEnabled = useOption('editEnabled');\n    var insertEnabled = useOption('insertEnabled');\n    var layoutEnabled = useOption('layoutEnabled');\n    var resizeEnabled = useOption('resizeEnabled');\n    var previewEnabled = useOption('previewEnabled');\n    var defaultLabels = {\n        edit: 'Edit blocks',\n        insert: 'Add blocks',\n        layout: 'Move blocks',\n        resize: 'Resize blocks',\n        preview: 'Preview page',\n    };\n    var customOptions = useOption('customOptions');\n    var actions = __spreadArray([\n        // eslint-disable-next-line react/jsx-key\n        undoRedoEnabled\n            ? { action: React.createElement(UndoRedo, { labelRedo: \"redo\", labelUndo: \"undo\" }) }\n            : null,\n        zoomEnabled\n            ? { action: React.createElement(Zoom, { labelZoomIn: \"zoom in\", labelZoomOut: \"zoom out\" }) }\n            : null,\n        editEnabled\n            ? { action: React.createElement(ToggleEdit, { label: t(defaultLabels.edit) }) }\n            : null,\n        insertEnabled\n            ? { action: React.createElement(ToggleInsert, { label: t(defaultLabels.insert) }) }\n            : null,\n        layoutEnabled\n            ? { action: React.createElement(ToggleLayout, { label: t(defaultLabels.layout) }) }\n            : null,\n        resizeEnabled\n            ? { action: React.createElement(ToggleResize, { label: t(defaultLabels.resize) }) }\n            : null,\n        previewEnabled\n            ? { action: React.createElement(TogglePreview, { label: t(defaultLabels.preview) }) }\n            : null\n    ], __read(customOptions.map(function (customOption) { return ({ action: customOption }); })), false).filter(Boolean);\n    return (React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-control-group\", style: __assign({ position: 'fixed', zIndex: 10001, bottom: 0, right: 0, display: 'flex', maxHeight: '100%' }, getStickyNessstyle(stickyNess)) },\n        React.createElement(\"div\", { ref: stickyNess.stickyElRef, style: {\n                padding: 16,\n                position: 'relative',\n                flexFlow: 'column wrap',\n                direction: 'rtl',\n                display: 'flex',\n            } }, actions.map(function (_a, index) {\n            var action = _a.action;\n            return (React.createElement(\"div\", { key: index, className: \"react-page-controls-mode-toggle-control\", style: {\n                    animationDelay: (actions.length - index) * 150 + 'ms',\n                } },\n                action,\n                React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-clearfix\" })));\n        }))));\n};\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { IconButton, Tooltip } from '@material-ui/core';\nimport Delete from '@material-ui/icons/Delete';\nimport { useAllFocusedNodeIds, useRemoveMultipleNodeIds, useUiTranslator, } from '../../core/components/hooks';\nvar DeleteAll = function () {\n    var remove = useRemoveMultipleNodeIds();\n    var focused = useAllFocusedNodeIds();\n    var t = useUiTranslator().t;\n    return (React.createElement(Tooltip, { title: t('Remove all selected') },\n        React.createElement(IconButton, { onClick: function () { return remove(focused); }, \"aria-label\": \"delete\", color: \"secondary\" },\n            React.createElement(Delete, null))));\n};\nexport default DeleteAll;\n//# sourceMappingURL=DeleteAll.js.map","import { IconButton, Tooltip } from '@material-ui/core';\nimport React from 'react';\nimport { useAllFocusedNodeIds, useDuplicateMultipleCells, useUiTranslator, } from '../../core/components/hooks';\nimport Icon from '@material-ui/icons/FileCopy';\nvar DuplicateAll = function () {\n    var duplicate = useDuplicateMultipleCells();\n    var t = useUiTranslator().t;\n    var nodeIds = useAllFocusedNodeIds();\n    return (React.createElement(Tooltip, { title: t('Duplicate al') },\n        React.createElement(IconButton, { onClick: function () { return duplicate(nodeIds); }, \"aria-label\": \"delete\", color: \"default\" },\n            React.createElement(Icon, null))));\n};\nexport default DuplicateAll;\n//# sourceMappingURL=DuplicateAll.js.map","import { Avatar, Grid, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { useAllFocusedNodeIds, useUiTranslator, } from '../../core/components/hooks';\nimport { BottomToolbarDrawer } from '../BottomToolbar';\nimport DeleteAll from './DeleteAll';\nimport DuplicateAll from './DuplicateAll';\nexport var MultiNodesBottomToolbar = React.memo(function () {\n    var t = useUiTranslator().t;\n    var focusedNodeIds = useAllFocusedNodeIds();\n    return (React.createElement(BottomToolbarDrawer, { open: focusedNodeIds.length > 1, anchor: 'bottom' },\n        React.createElement(Grid, { container: true, direction: \"row\", alignItems: \"center\" },\n            React.createElement(Grid, { item: true },\n                React.createElement(Avatar, { children: focusedNodeIds.length, style: {\n                        marginRight: 16,\n                    } })),\n            React.createElement(Grid, { item: true },\n                React.createElement(Typography, { variant: \"subtitle1\" }, t('(multiple selected)'))),\n            React.createElement(Grid, { item: true, style: { marginLeft: 'auto' } },\n                React.createElement(DuplicateAll, null)),\n            React.createElement(Grid, { item: true },\n                React.createElement(DeleteAll, null)))));\n});\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { ThemeProvider } from '../ThemeProvider';\nimport { PluginDrawer } from '../PluginDrawer';\nimport { Trash } from '../Trash';\nimport { Sidebar } from '../Sidebar';\nimport { useOption } from '../../core/components/hooks';\nimport { MultiNodesBottomToolbar } from '../MultiNodesBottomToolbar';\nexport default React.memo(function (_a) {\n    var _b = _a.stickyNess, stickyNess = _b === void 0 ? {\n        shouldStickToTop: false,\n        shouldStickToBottom: false,\n        rightOffset: 0,\n        rightOffsetFixed: 0,\n    } : _b;\n    var hideEditorSidebar = useOption('hideEditorSidebar');\n    return (React.createElement(ThemeProvider, null,\n        React.createElement(Trash, null),\n        !hideEditorSidebar && React.createElement(Sidebar, { stickyNess: stickyNess }),\n        React.createElement(PluginDrawer, null),\n        React.createElement(MultiNodesBottomToolbar, null)));\n});\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport Editable from '../core/components/Editable';\nimport GlobalHotKeys from '../core/components/HotKey/GlobalHotKeys';\nimport { createEmptyState } from '../core/EditorStore';\nimport Provider from '../core/Provider';\nimport EditorUI from '../ui/EditorUI';\nimport StickyWrapper from './StickyWrapper';\nvar EditableEditor = function (_a) {\n    var value = _a.value, lang = _a.lang, children = _a.children, options = _a.options, renderOptions = _a.renderOptions, callbacks = _a.callbacks;\n    var theValue = value || createEmptyState();\n    return (React.createElement(Provider, { lang: lang, callbacks: callbacks, value: theValue, renderOptions: renderOptions, options: options },\n        children,\n        React.createElement(StickyWrapper, null, function (stickyNess) { return (React.createElement(React.Fragment, null,\n            React.createElement(GlobalHotKeys, { focusRef: stickyNess.focusRef }),\n            React.createElement(Editable, null),\n            React.createElement(EditorUI, { stickyNess: stickyNess }))); })));\n};\nexport default EditableEditor;\n//# sourceMappingURL=EditableEditor.js.map","export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';","import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}","import { invariant } from '@react-dnd/invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId); // If source.beginDrag returns null, this is an indicator to cancel the drag\n\n    if (item == null) {\n      return undefined;\n    }\n\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","import { PUBLISH_DRAG_SOURCE } from './types';\nexport function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}","export function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}","import { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread(_objectSpread({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}","import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types';\nexport function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createDragDropActions } from '../actions/dragDrop';\nexport var DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl(store, monitor) {\n    var _this = this;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    _defineProperty(this, \"isSetUp\", false);\n\n    _defineProperty(this, \"handleRefCountChange\", function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    });\n\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();","import { createBeginDrag } from './beginDrag';\nimport { createPublishDragSource } from './publishDragSource';\nimport { createHover } from './hover';\nimport { createDrop } from './drop';\nimport { createEndDrag } from './endDrag';\nexport * from './types';\nexport function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}","export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}","import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}","import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport function reduce() {\n  var _state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}","export function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { reduce as dragOffset } from './dragOffset';\nimport { reduce as dragOperation } from './dragOperation';\nimport { reduce as refCount } from './refCount';\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds';\nimport { reduce as stateId } from './stateId';\nimport { get } from '../utils/js_utils';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread(_objectSpread({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from '../utils/coords';\nimport { areDirty } from '../utils/dirtiness';\nexport var DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, \"Expected to find a valid target. targetId=\".concat(targetId));\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      };\n\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();","export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));","var nextUniqueId = 0;\nexport function getNextUniqueId() {\n  return nextUniqueId++;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}","import { rawAsap } from './raw'; // rawAsap provides everything we need except exception management.\n// RawTasks are recycled to reduce GC churn.\n\nvar freeTasks = []; // We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n  if (pendingErrors.length) {\n    throw pendingErrors.shift();\n  }\n}\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\n\n\nexport function asap(task) {\n  var rawTask;\n\n  if (freeTasks.length) {\n    rawTask = freeTasks.pop();\n  } else {\n    rawTask = new RawTask();\n  }\n\n  rawTask.task = task;\n  rawAsap(rawTask);\n} // We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\n\nvar RawTask =\n/** @class */\nfunction () {\n  function RawTask() {}\n\n  RawTask.prototype.call = function () {\n    try {\n      this.task.call();\n    } catch (error) {\n      if (asap.onerror) {\n        // This hook exists purely for testing purposes.\n        // Its name will be periodically randomized to break any code that\n        // depends on its existence.\n        asap.onerror(error);\n      } else {\n        // In a web browser, exceptions are not fatal. However, to avoid\n        // slowing down the queue of pending tasks, we rethrow the error in a\n        // lower priority turn.\n        pendingErrors.push(error);\n        requestErrorThrow();\n      }\n    } finally {\n      this.task = null;\n      freeTasks[freeTasks.length] = this;\n    }\n  };\n\n  return RawTask;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from '../actions/registry';\nimport { getNextUniqueId } from '../utils/getNextUniqueId';\nimport { HandlerRole } from '../interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from '../contracts';\nimport { asap } from '@react-dnd/asap';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nexport var HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    _defineProperty(this, \"types\", new Map());\n\n    _defineProperty(this, \"dragSources\", new Map());\n\n    _defineProperty(this, \"dropTargets\", new Map());\n\n    _defineProperty(this, \"pinnedSourceId\", null);\n\n    _defineProperty(this, \"pinnedSource\", null);\n\n    _defineProperty(this, \"store\", void 0);\n\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();","import { DragDropManagerImpl } from './classes/DragDropManagerImpl';\nimport { createStore } from 'redux';\nimport { reduce } from './reducers';\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl';\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl';\nexport function createDragDropManager(backendFactory) {\n  var globalContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var backendOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var debugMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var store = makeStoreInstance(debugMode);\n  var monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n  var manager = new DragDropManagerImpl(store, monitor);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}","// poor check\nexport var objIsNode = function (obj) {\n    if (!obj)\n        return false;\n    if (!('id' in obj)) {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=objIsNode.js.map"],"sourceRoot":""}